function cd(h,g){for(var c=0;c<g.length;c++){const C=g[c];if(typeof C!="string"&&!Array.isArray(C)){for(const w in C)if(w!=="default"&&!(w in h)){const m=Object.getOwnPropertyDescriptor(C,w);m&&Object.defineProperty(h,w,m.get?m:{enumerable:!0,get:()=>C[w]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))C(w);new MutationObserver(w=>{for(const m of w)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&C(_)}).observe(document,{childList:!0,subtree:!0});function c(w){const m={};return w.integrity&&(m.integrity=w.integrity),w.referrerPolicy&&(m.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?m.credentials="include":w.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function C(w){if(w.ep)return;w.ep=!0;const m=c(w);fetch(w.href,m)}})();var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Za(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Eu={exports:{}},Is={},Cu={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function fd(){if($1)return nt;$1=1;var h=Symbol.for("react.element"),g=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),_=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.iterator;function Y(b){return b===null||typeof b!="object"?null:(b=k&&b[k]||b["@@iterator"],typeof b=="function"?b:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,j={};function ae(b,G,he){this.props=b,this.context=G,this.refs=j,this.updater=he||J}ae.prototype.isReactComponent={},ae.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},ae.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function te(){}te.prototype=ae.prototype;function oe(b,G,he){this.props=b,this.context=G,this.refs=j,this.updater=he||J}var le=oe.prototype=new te;le.constructor=oe,ne(le,ae.prototype),le.isPureReactComponent=!0;var xe=Array.isArray,Re=Object.prototype.hasOwnProperty,Me={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function _e(b,G,he){var ye,Ue={},ee=null,ve=null;if(G!=null)for(ye in G.ref!==void 0&&(ve=G.ref),G.key!==void 0&&(ee=""+G.key),G)Re.call(G,ye)&&!se.hasOwnProperty(ye)&&(Ue[ye]=G[ye]);var Ae=arguments.length-2;if(Ae===1)Ue.children=he;else if(1<Ae){for(var je=Array(Ae),rt=0;rt<Ae;rt++)je[rt]=arguments[rt+2];Ue.children=je}if(b&&b.defaultProps)for(ye in Ae=b.defaultProps,Ae)Ue[ye]===void 0&&(Ue[ye]=Ae[ye]);return{$$typeof:h,type:b,key:ee,ref:ve,props:Ue,_owner:Me.current}}function re(b,G){return{$$typeof:h,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function yt(b){return typeof b=="object"&&b!==null&&b.$$typeof===h}function qe(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(he){return G[he]})}var Pe=/\/+/g;function Ge(b,G){return typeof b=="object"&&b!==null&&b.key!=null?qe(""+b.key):G.toString(36)}function ct(b,G,he,ye,Ue){var ee=typeof b;(ee==="undefined"||ee==="boolean")&&(b=null);var ve=!1;if(b===null)ve=!0;else switch(ee){case"string":case"number":ve=!0;break;case"object":switch(b.$$typeof){case h:case g:ve=!0}}if(ve)return ve=b,Ue=Ue(ve),b=ye===""?"."+Ge(ve,0):ye,xe(Ue)?(he="",b!=null&&(he=b.replace(Pe,"$&/")+"/"),ct(Ue,G,he,"",function(rt){return rt})):Ue!=null&&(yt(Ue)&&(Ue=re(Ue,he+(!Ue.key||ve&&ve.key===Ue.key?"":(""+Ue.key).replace(Pe,"$&/")+"/")+b)),G.push(Ue)),1;if(ve=0,ye=ye===""?".":ye+":",xe(b))for(var Ae=0;Ae<b.length;Ae++){ee=b[Ae];var je=ye+Ge(ee,Ae);ve+=ct(ee,G,he,je,Ue)}else if(je=Y(b),typeof je=="function")for(b=je.call(b),Ae=0;!(ee=b.next()).done;)ee=ee.value,je=ye+Ge(ee,Ae++),ve+=ct(ee,G,he,je,Ue);else if(ee==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ve}function $(b,G,he){if(b==null)return b;var ye=[],Ue=0;return ct(b,ye,"","",function(ee){return G.call(he,ee,Ue++)}),ye}function $e(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(he){(b._status===0||b._status===-1)&&(b._status=1,b._result=he)},function(he){(b._status===0||b._status===-1)&&(b._status=2,b._result=he)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var Te={current:null},Ee={transition:null},Z={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Ee,ReactCurrentOwner:Me};function H(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:$,forEach:function(b,G,he){$(b,function(){G.apply(this,arguments)},he)},count:function(b){var G=0;return $(b,function(){G++}),G},toArray:function(b){return $(b,function(G){return G})||[]},only:function(b){if(!yt(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},nt.Component=ae,nt.Fragment=c,nt.Profiler=w,nt.PureComponent=oe,nt.StrictMode=C,nt.Suspense=N,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,nt.act=H,nt.cloneElement=function(b,G,he){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ye=ne({},b.props),Ue=b.key,ee=b.ref,ve=b._owner;if(G!=null){if(G.ref!==void 0&&(ee=G.ref,ve=Me.current),G.key!==void 0&&(Ue=""+G.key),b.type&&b.type.defaultProps)var Ae=b.type.defaultProps;for(je in G)Re.call(G,je)&&!se.hasOwnProperty(je)&&(ye[je]=G[je]===void 0&&Ae!==void 0?Ae[je]:G[je])}var je=arguments.length-2;if(je===1)ye.children=he;else if(1<je){Ae=Array(je);for(var rt=0;rt<je;rt++)Ae[rt]=arguments[rt+2];ye.children=Ae}return{$$typeof:h,type:b.type,key:Ue,ref:ee,props:ye,_owner:ve}},nt.createContext=function(b){return b={$$typeof:_,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:m,_context:b},b.Consumer=b},nt.createElement=_e,nt.createFactory=function(b){var G=_e.bind(null,b);return G.type=b,G},nt.createRef=function(){return{current:null}},nt.forwardRef=function(b){return{$$typeof:D,render:b}},nt.isValidElement=yt,nt.lazy=function(b){return{$$typeof:P,_payload:{_status:-1,_result:b},_init:$e}},nt.memo=function(b,G){return{$$typeof:A,type:b,compare:G===void 0?null:G}},nt.startTransition=function(b){var G=Ee.transition;Ee.transition={};try{b()}finally{Ee.transition=G}},nt.unstable_act=H,nt.useCallback=function(b,G){return Te.current.useCallback(b,G)},nt.useContext=function(b){return Te.current.useContext(b)},nt.useDebugValue=function(){},nt.useDeferredValue=function(b){return Te.current.useDeferredValue(b)},nt.useEffect=function(b,G){return Te.current.useEffect(b,G)},nt.useId=function(){return Te.current.useId()},nt.useImperativeHandle=function(b,G,he){return Te.current.useImperativeHandle(b,G,he)},nt.useInsertionEffect=function(b,G){return Te.current.useInsertionEffect(b,G)},nt.useLayoutEffect=function(b,G){return Te.current.useLayoutEffect(b,G)},nt.useMemo=function(b,G){return Te.current.useMemo(b,G)},nt.useReducer=function(b,G,he){return Te.current.useReducer(b,G,he)},nt.useRef=function(b){return Te.current.useRef(b)},nt.useState=function(b){return Te.current.useState(b)},nt.useSyncExternalStore=function(b,G,he){return Te.current.useSyncExternalStore(b,G,he)},nt.useTransition=function(){return Te.current.useTransition()},nt.version="18.3.1",nt}var e0;function Ju(){return e0||(e0=1,Cu.exports=fd()),Cu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function dd(){if(t0)return Is;t0=1;var h=Ju(),g=Symbol.for("react.element"),c=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,w=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function _(D,N,A){var P,k={},Y=null,J=null;A!==void 0&&(Y=""+A),N.key!==void 0&&(Y=""+N.key),N.ref!==void 0&&(J=N.ref);for(P in N)C.call(N,P)&&!m.hasOwnProperty(P)&&(k[P]=N[P]);if(D&&D.defaultProps)for(P in N=D.defaultProps,N)k[P]===void 0&&(k[P]=N[P]);return{$$typeof:g,type:D,key:Y,ref:J,props:k,_owner:w.current}}return Is.Fragment=c,Is.jsx=_,Is.jsxs=_,Is}var n0;function hd(){return n0||(n0=1,Eu.exports=dd()),Eu.exports}var st=hd(),ie=Ju();const At=Za(ie);var Va={},Au={exports:{}},Vn={},vu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function gd(){return r0||(r0=1,function(h){function g(Ee,Z){var H=Ee.length;Ee.push(Z);e:for(;0<H;){var b=H-1>>>1,G=Ee[b];if(0<w(G,Z))Ee[b]=Z,Ee[H]=G,H=b;else break e}}function c(Ee){return Ee.length===0?null:Ee[0]}function C(Ee){if(Ee.length===0)return null;var Z=Ee[0],H=Ee.pop();if(H!==Z){Ee[0]=H;e:for(var b=0,G=Ee.length,he=G>>>1;b<he;){var ye=2*(b+1)-1,Ue=Ee[ye],ee=ye+1,ve=Ee[ee];if(0>w(Ue,H))ee<G&&0>w(ve,Ue)?(Ee[b]=ve,Ee[ee]=H,b=ee):(Ee[b]=Ue,Ee[ye]=H,b=ye);else if(ee<G&&0>w(ve,H))Ee[b]=ve,Ee[ee]=H,b=ee;else break e}}return Z}function w(Ee,Z){var H=Ee.sortIndex-Z.sortIndex;return H!==0?H:Ee.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;h.unstable_now=function(){return m.now()}}else{var _=Date,D=_.now();h.unstable_now=function(){return _.now()-D}}var N=[],A=[],P=1,k=null,Y=3,J=!1,ne=!1,j=!1,ae=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(Ee){for(var Z=c(A);Z!==null;){if(Z.callback===null)C(A);else if(Z.startTime<=Ee)C(A),Z.sortIndex=Z.expirationTime,g(N,Z);else break;Z=c(A)}}function xe(Ee){if(j=!1,le(Ee),!ne)if(c(N)!==null)ne=!0,$e(Re);else{var Z=c(A);Z!==null&&Te(xe,Z.startTime-Ee)}}function Re(Ee,Z){ne=!1,j&&(j=!1,te(_e),_e=-1),J=!0;var H=Y;try{for(le(Z),k=c(N);k!==null&&(!(k.expirationTime>Z)||Ee&&!qe());){var b=k.callback;if(typeof b=="function"){k.callback=null,Y=k.priorityLevel;var G=b(k.expirationTime<=Z);Z=h.unstable_now(),typeof G=="function"?k.callback=G:k===c(N)&&C(N),le(Z)}else C(N);k=c(N)}if(k!==null)var he=!0;else{var ye=c(A);ye!==null&&Te(xe,ye.startTime-Z),he=!1}return he}finally{k=null,Y=H,J=!1}}var Me=!1,se=null,_e=-1,re=5,yt=-1;function qe(){return!(h.unstable_now()-yt<re)}function Pe(){if(se!==null){var Ee=h.unstable_now();yt=Ee;var Z=!0;try{Z=se(!0,Ee)}finally{Z?Ge():(Me=!1,se=null)}}else Me=!1}var Ge;if(typeof oe=="function")Ge=function(){oe(Pe)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,$=ct.port2;ct.port1.onmessage=Pe,Ge=function(){$.postMessage(null)}}else Ge=function(){ae(Pe,0)};function $e(Ee){se=Ee,Me||(Me=!0,Ge())}function Te(Ee,Z){_e=ae(function(){Ee(h.unstable_now())},Z)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(Ee){Ee.callback=null},h.unstable_continueExecution=function(){ne||J||(ne=!0,$e(Re))},h.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Ee?Math.floor(1e3/Ee):5},h.unstable_getCurrentPriorityLevel=function(){return Y},h.unstable_getFirstCallbackNode=function(){return c(N)},h.unstable_next=function(Ee){switch(Y){case 1:case 2:case 3:var Z=3;break;default:Z=Y}var H=Y;Y=Z;try{return Ee()}finally{Y=H}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(Ee,Z){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var H=Y;Y=Ee;try{return Z()}finally{Y=H}},h.unstable_scheduleCallback=function(Ee,Z,H){var b=h.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?b+H:b):H=b,Ee){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,Ee={id:P++,callback:Z,priorityLevel:Ee,startTime:H,expirationTime:G,sortIndex:-1},H>b?(Ee.sortIndex=H,g(A,Ee),c(N)===null&&Ee===c(A)&&(j?(te(_e),_e=-1):j=!0,Te(xe,H-b))):(Ee.sortIndex=G,g(N,Ee),ne||J||(ne=!0,$e(Re))),Ee},h.unstable_shouldYield=qe,h.unstable_wrapCallback=function(Ee){var Z=Y;return function(){var H=Y;Y=Z;try{return Ee.apply(this,arguments)}finally{Y=H}}}}(Su)),Su}var i0;function pd(){return i0||(i0=1,vu.exports=gd()),vu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function xd(){if(o0)return Vn;o0=1;var h=Ju(),g=pd();function c(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C=new Set,w={};function m(t,i){_(t,i),_(t+"Capture",i)}function _(t,i){for(w[t]=i,t=0;t<i.length;t++)C.add(i[t])}var D=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P={},k={};function Y(t){return N.call(k,t)?!0:N.call(P,t)?!1:A.test(t)?k[t]=!0:(P[t]=!0,!1)}function J(t,i,l,f){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ne(t,i,l,f){if(i===null||typeof i>"u"||J(t,i,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(t,i,l,f,x,y,I){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=y,this.removeEmptyString=I}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ae[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];ae[i]=new j(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ae[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ae[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ae[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ae[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ae[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ae[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ae[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function oe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(te,oe);ae[i]=new j(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(te,oe);ae[i]=new j(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(te,oe);ae[i]=new j(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ae[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),ae.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ae[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function le(t,i,l,f){var x=ae.hasOwnProperty(i)?ae[i]:null;(x!==null?x.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(ne(i,l,x,f)&&(l=null),f||x===null?Y(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):x.mustUseProperty?t[x.propertyName]=l===null?x.type===3?!1:"":l:(i=x.attributeName,f=x.attributeNamespace,l===null?t.removeAttribute(i):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,f?t.setAttributeNS(f,i,l):t.setAttribute(i,l))))}var xe=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),Me=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),qe=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),Ee=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=Ee&&t[Ee]||t["@@iterator"],typeof t=="function"?t:null)}var H=Object.assign,b;function G(t){if(b===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+t}var he=!1;function ye(t,i){if(!t||he)return"";he=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Q){var f=Q}Reflect.construct(t,[],i)}else{try{i.call()}catch(Q){f=Q}t.call(i.prototype)}else{try{throw Error()}catch(Q){f=Q}t()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var x=Q.stack.split(`
`),y=f.stack.split(`
`),I=x.length-1,M=y.length-1;1<=I&&0<=M&&x[I]!==y[M];)M--;for(;1<=I&&0<=M;I--,M--)if(x[I]!==y[M]){if(I!==1||M!==1)do if(I--,M--,0>M||x[I]!==y[M]){var B=`
`+x[I].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=I&&0<=M);break}}}finally{he=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?G(t):""}function Ue(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=ye(t.type,!1),t;case 11:return t=ye(t.type.render,!1),t;case 1:return t=ye(t.type,!0),t;default:return""}}function ee(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case Me:return"Portal";case re:return"Profiler";case _e:return"StrictMode";case Ge:return"Suspense";case ct:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qe:return(t.displayName||"Context")+".Consumer";case yt:return(t._context.displayName||"Context")+".Provider";case Pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:ee(t.type)||"Memo";case $e:i=t._payload,t=t._init;try{return ee(t(i))}catch{}}return null}function ve(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(i);case 8:return i===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ae(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rt(t){var i=je(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),f=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,y=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return x.call(this)},set:function(I){f=""+I,y.call(this,I)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function gt(t){t._valueTracker||(t._valueTracker=rt(t))}function Oi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return t&&(f=je(t)?t.checked?"true":"false":t.value),t=f,t!==l?(i.setValue(t),!0):!1}function at(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ar(t,i){var l=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Hn(t,i){var l=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;l=Ae(i.value!=null?i.value:l),t._wrapperState={initialChecked:f,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ei(t,i){i=i.checked,i!=null&&le(t,"checked",i,!1)}function Xt(t,i){ei(t,i);var l=Ae(i.value),f=i.type;if(l!=null)f==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(f==="submit"||f==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?it(t,i.type,l):i.hasOwnProperty("defaultValue")&&it(t,i.type,Ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Et(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function it(t,i,l){(i!=="number"||at(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var vr=Array.isArray;function Ne(t,i,l,f){if(t=t.options,i){i={};for(var x=0;x<l.length;x++)i["$"+l[x]]=!0;for(l=0;l<t.length;l++)x=i.hasOwnProperty("$"+t[l].value),t[l].selected!==x&&(t[l].selected=x),x&&f&&(t[l].defaultSelected=!0)}else{for(l=""+Ae(l),i=null,x=0;x<t.length;x++){if(t[x].value===l){t[x].selected=!0,f&&(t[x].defaultSelected=!0);return}i!==null||t[x].disabled||(i=t[x])}i!==null&&(i.selected=!0)}}function ti(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(c(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fo(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(c(92));if(vr(l)){if(1<l.length)throw Error(c(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Ae(l)}}function er(t,i){var l=Ae(i.value),f=Ae(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),f!=null&&(t.defaultValue=""+f)}function ro(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Dn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Dn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zn,ln=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,f,x){MSApp.execUnsafeLocalFunction(function(){return t(i,l,f,x)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function ni(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$a=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(t){$a.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Sr[i]=Sr[t]})});function Bt(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Sr.hasOwnProperty(t)&&Sr[t]?(""+i).trim():i+"px"}function Ce(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var f=l.indexOf("--")===0,x=Bt(l,i[l],f);l==="float"&&(l="cssFloat"),f?t.setProperty(l,x):t[l]=x}}var jt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(t,i){if(i){if(jt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(c(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(c(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(c(61))}if(i.style!=null&&typeof i.style!="object")throw Error(c(62))}}function Tt(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pr=null;function Di(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oo=null,tt=null,bn=null;function Uo(t){if(t=cs(t)){if(typeof oo!="function")throw Error(c(280));var i=t.stateNode;i&&(i=ea(i),oo(t.stateNode,t.type,i))}}function Vo(t){tt?bn?bn.push(t):bn=[t]:tt=t}function Mn(){if(tt){var t=tt,i=bn;if(bn=tt=null,Uo(t),i)for(t=0;t<i.length;t++)Uo(i[t])}}function so(t,i){return t(i)}function $t(){}var Ir=!1;function bi(t,i,l){if(Ir)return t(i,l);Ir=!0;try{return so(t,i,l)}finally{Ir=!1,(tt!==null||bn!==null)&&($t(),Mn())}}function En(t,i){var l=t.stateNode;if(l===null)return null;var f=ea(l);if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(t=t.type,f=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!f;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(c(231,i,typeof l));return l}var Ho=!1;if(D)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Ho=!1}function zo(t,i,l,f,x,y,I,M,B){var Q=Array.prototype.slice.call(arguments,3);try{i.apply(l,Q)}catch(de){this.onError(de)}}var Qt=!1,tr=null,gn=!1,Se=null,ri={onError:function(t){Qt=!0,tr=t}};function Wo(t,i,l,f,x,y,I,M,B){Qt=!1,tr=null,zo.apply(ri,arguments)}function Cn(t,i,l,f,x,y,I,M,B){if(Wo.apply(this,arguments),Qt){if(Qt){var Q=tr;Qt=!1,tr=null}else throw Error(c(198));gn||(gn=!0,Se=Q)}}function kn(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function Mi(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function ki(t){if(kn(t)!==t)throw Error(c(188))}function nr(t){var i=t.alternate;if(!i){if(i=kn(t),i===null)throw Error(c(188));return i!==t?null:t}for(var l=t,f=i;;){var x=l.return;if(x===null)break;var y=x.alternate;if(y===null){if(f=x.return,f!==null){l=f;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===l)return ki(x),t;if(y===f)return ki(x),i;y=y.sibling}throw Error(c(188))}if(l.return!==f.return)l=x,f=y;else{for(var I=!1,M=x.child;M;){if(M===l){I=!0,l=x,f=y;break}if(M===f){I=!0,f=x,l=y;break}M=M.sibling}if(!I){for(M=y.child;M;){if(M===l){I=!0,l=y,f=x;break}if(M===f){I=!0,f=y,l=x;break}M=M.sibling}if(!I)throw Error(c(189))}}if(l.alternate!==f)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?t:i}function Ms(t){return t=nr(t),t!==null?ks(t):null}function ks(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=ks(t);if(i!==null)return i;t=t.sibling}return null}var Gn=g.unstable_scheduleCallback,un=g.unstable_cancelCallback,_t=g.unstable_shouldYield,Ps=g.unstable_requestPaint,mt=g.unstable_now,Go=g.unstable_getCurrentPriorityLevel,ue=g.unstable_ImmediatePriority,Ls=g.unstable_UserBlockingPriority,St=g.unstable_NormalPriority,ii=g.unstable_LowPriority,Bs=g.unstable_IdlePriority,ut=null,Qe=null;function ot(t){if(Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ut,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Yt,Xo=Math.log,jo=Math.LN2;function Yt(t){return t>>>=0,t===0?32:31-(Xo(t)/jo|0)|0}var Xn=64,ao=4194304;function It(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jn(t,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,x=t.suspendedLanes,y=t.pingedLanes,I=l&268435455;if(I!==0){var M=I&~x;M!==0?f=It(M):(y&=I,y!==0&&(f=It(y)))}else I=l&~x,I!==0?f=It(I):y!==0&&(f=It(y));if(f===0)return 0;if(i!==0&&i!==f&&(i&x)===0&&(x=f&-f,y=i&-i,x>=y||x===16&&(y&4194240)!==0))return i;if((f&4)!==0&&(f|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=f;0<i;)l=31-Nn(i),x=1<<l,f|=t[l],i&=~x;return f}function el(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(t,i){for(var l=t.suspendedLanes,f=t.pingedLanes,x=t.expirationTimes,y=t.pendingLanes;0<y;){var I=31-Nn(y),M=1<<I,B=x[I];B===-1?((M&l)===0||(M&f)!==0)&&(x[I]=el(M,i)):B<=i&&(t.expiredLanes|=M),y&=~M}}function wt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function en(){var t=Xn;return Xn<<=1,(Xn&4194240)===0&&(Xn=64),t}function z(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function R(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Nn(i),t[i]=l}function Be(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var f=t.eventTimes;for(t=t.expirationTimes;0<l;){var x=31-Nn(l),y=1<<x;i[x]=0,f[x]=-1,t[x]=-1,l&=~y}}function Ht(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var f=31-Nn(l),x=1<<f;x&i|t[f]&i&&(t[f]|=i),l&=~x}}var Je=0;function Fs(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var lo,An,Fe,Nt,Yo,Ko=!1,si=[],Yn=null,rr=null,Tr=null,kt=new Map,dr=new Map,pn=[],We="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Us(t,i){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":kt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(i.pointerId)}}function Ye(t,i,l,f,x,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[x]},i!==null&&(i=cs(i),i!==null&&An(i)),t):(t.eventSystemFlags|=f,i=t.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),t)}function tn(t,i,l,f,x){switch(i){case"focusin":return Yn=Ye(Yn,t,i,l,f,x),!0;case"dragenter":return rr=Ye(rr,t,i,l,f,x),!0;case"mouseover":return Tr=Ye(Tr,t,i,l,f,x),!0;case"pointerover":var y=x.pointerId;return kt.set(y,Ye(kt.get(y)||null,t,i,l,f,x)),!0;case"gotpointercapture":return y=x.pointerId,dr.set(y,Ye(dr.get(y)||null,t,i,l,f,x)),!0}return!1}function Vs(t){var i=Gi(t.target);if(i!==null){var l=kn(i);if(l!==null){if(i=l.tag,i===13){if(i=Mi(l),i!==null){t.blockedOn=i,Yo(t.priority,function(){Fe(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=uo(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var f=new l.constructor(l.type,l);Pr=f,l.target.dispatchEvent(f),Pr=null}else return i=cs(l),i!==null&&An(i),t.blockedOn=l,!1;i.shift()}return!0}function Zo(t,i,l){ai(t)&&l.delete(i)}function Lr(){Ko=!1,Yn!==null&&ai(Yn)&&(Yn=null),rr!==null&&ai(rr)&&(rr=null),Tr!==null&&ai(Tr)&&(Tr=null),kt.forEach(Zo),dr.forEach(Zo)}function Pi(t,i){t.blockedOn===i&&(t.blockedOn=null,Ko||(Ko=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Lr)))}function hr(t){function i(x){return Pi(x,t)}if(0<si.length){Pi(si[0],t);for(var l=1;l<si.length;l++){var f=si[l];f.blockedOn===t&&(f.blockedOn=null)}}for(Yn!==null&&Pi(Yn,t),rr!==null&&Pi(rr,t),Tr!==null&&Pi(Tr,t),kt.forEach(i),dr.forEach(i),l=0;l<pn.length;l++)f=pn[l],f.blockedOn===t&&(f.blockedOn=null);for(;0<pn.length&&(l=pn[0],l.blockedOn===null);)Vs(l),l.blockedOn===null&&pn.shift()}var ir=xe.ReactCurrentBatchConfig,_r=!0;function Hs(t,i,l,f){var x=Je,y=ir.transition;ir.transition=null;try{Je=1,Br(t,i,l,f)}finally{Je=x,ir.transition=y}}function Li(t,i,l,f){var x=Je,y=ir.transition;ir.transition=null;try{Je=4,Br(t,i,l,f)}finally{Je=x,ir.transition=y}}function Br(t,i,l,f){if(_r){var x=uo(t,i,l,f);if(x===null)cl(t,i,f,nn,l),Us(t,f);else if(tn(x,t,i,l,f))f.stopPropagation();else if(Us(t,f),i&4&&-1<We.indexOf(t)){for(;x!==null;){var y=cs(x);if(y!==null&&lo(y),y=uo(t,i,l,f),y===null&&cl(t,i,f,nn,l),y===x)break;x=y}x!==null&&f.stopPropagation()}else cl(t,i,f,null,l)}}var nn=null;function uo(t,i,l,f){if(nn=null,t=Di(f),t=Gi(t),t!==null)if(i=kn(t),i===null)t=null;else if(l=i.tag,l===13){if(t=Mi(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return nn=t,null}function qo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Go()){case ue:return 1;case Ls:return 4;case St:case ii:return 16;case Bs:return 536870912;default:return 16}default:return 16}}var gr=null,Qo=null,co=null;function zs(){if(co)return co;var t,i=Qo,l=i.length,f,x="value"in gr?gr.value:gr.textContent,y=x.length;for(t=0;t<l&&i[t]===x[t];t++);var I=l-t;for(f=1;f<=I&&i[l-f]===x[y-f];f++);return co=x.slice(t,1<f?1-f:void 0)}function ft(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Fi(){return!1}function zt(t){function i(l,f,x,y,I){this._reactName=l,this._targetInst=x,this.type=f,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(l=t[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Bi:Fi,this.isPropagationStopped=Fi,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q=zt(li),Ze=H({},li,{view:0,detail:0}),rn=zt(Ze),ui,fo,Ui,ho=H({},Ze,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(ui=t.screenX-Ui.screenX,fo=t.screenY-Ui.screenY):fo=ui=0,Ui=t),ui)},movementY:function(t){return"movementY"in t?t.movementY:fo}}),Ws=zt(ho),Jo=H({},ho,{dataTransfer:0}),Kt=zt(Jo),$o=H({},Ze,{relatedTarget:0}),Rt=zt($o),go=H({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=zt(go),Ct=H({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ve=zt(Ct),tl=H({},li,{data:0}),vt=zt(tl),Ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function or(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nl[t])?!!i[t]:!1}function Vi(){return or}var Gs=H({},Ze,{key:function(t){if(t.key){var i=Ur[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ft(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ci[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(t){return t.type==="keypress"?ft(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ft(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),es=zt(Gs),Xs=H({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=zt(Xs),rl=H({},Ze,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),fi=zt(rl),ns=H({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=zt(ns),Hi=H({},ho,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ol=zt(Hi),Nr=[9,13,27,32],di=D&&"CompositionEvent"in window,cn=null;D&&"documentMode"in document&&(cn=document.documentMode);var js=D&&"TextEvent"in window&&!cn,Kn=D&&(!di||cn&&8<cn&&11>=cn),Ys=" ",po=!1;function Ks(t,i){switch(t){case"keyup":return Nr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function sl(t,i){switch(t){case"compositionend":return rs(i);case"keypress":return i.which!==32?null:(po=!0,Ys);case"textInput":return t=i.data,t===Ys&&po?null:t;default:return null}}function is(t,i){if(xn)return t==="compositionend"||!di&&Ks(t,i)?(t=zs(),co=Qo=gr=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Kn&&i.locale!=="ko"?null:i.data;default:return null}}var zi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zi[t.type]:i==="textarea"}function Wi(t,i,l,f){Vo(f),i=Qs(i,"onChange"),0<i.length&&(l=new q("onChange","change",null,l,f),t.push({event:l,listeners:i}))}var v=null,e=null;function n(t){pc(t,0)}function r(t){var i=wo(t);if(Oi(i))return t}function o(t,i){if(t==="change")return i}var s=!1;if(D){var a;if(D){var u="oninput"in document;if(!u){var d=document.createElement("div");d.setAttribute("oninput","return;"),u=typeof d.oninput=="function"}a=u}else a=!1;s=a&&(!document.documentMode||9<document.documentMode)}function p(){v&&(v.detachEvent("onpropertychange",E),e=v=null)}function E(t){if(t.propertyName==="value"&&r(e)){var i=[];Wi(i,e,t,Di(t)),bi(n,i)}}function S(t,i,l){t==="focusin"?(p(),v=i,e=l,v.attachEvent("onpropertychange",E)):t==="focusout"&&p()}function T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function O(t,i){if(t==="click")return r(i)}function L(t,i){if(t==="input"||t==="change")return r(i)}function F(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var V=typeof Object.is=="function"?Object.is:F;function K(t,i){if(V(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var x=l[f];if(!N.call(i,x)||!V(t[x],i[x]))return!1}return!0}function pe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function me(t,i){var l=pe(t);t=0;for(var f;l;){if(l.nodeType===3){if(f=t+l.textContent.length,t<=i&&f>=i)return{node:l,offset:i-t};t=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pe(l)}}function fe(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?fe(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function et(){for(var t=window,i=at();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=at(t.document)}return i}function Ke(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function vn(t){var i=et(),l=t.focusedElem,f=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&fe(l.ownerDocument.documentElement,l)){if(f!==null&&Ke(l)){if(i=f.start,t=f.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var x=l.textContent.length,y=Math.min(f.start,x);f=f.end===void 0?y:Math.min(f.end,x),!t.extend&&y>f&&(x=f,f=y,y=x),x=me(l,y);var I=me(l,f);x&&I&&(t.rangeCount!==1||t.anchorNode!==x.node||t.anchorOffset!==x.offset||t.focusNode!==I.node||t.focusOffset!==I.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),t.removeAllRanges(),y>f?(t.addRange(i),t.extend(I.node,I.offset)):(i.setEnd(I.node,I.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zn=D&&"documentMode"in document&&11>=document.documentMode,Zt=null,xt=null,Ft=null,mn=!1;function Vr(t,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mn||Zt==null||Zt!==at(f)||(f=Zt,"selectionStart"in f&&Ke(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ft&&K(Ft,f)||(Ft=f,f=Qs(xt,"onSelect"),0<f.length&&(i=new q("onSelect","select",null,i,l),t.push({event:i,listeners:f}),i.target=Zt)))}function pr(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var hi={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},os={},ac={};D&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Zs(t){if(os[t])return os[t];if(!hi[t])return t;var i=hi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in ac)return os[t]=i[l];return t}var lc=Zs("animationend"),uc=Zs("animationiteration"),cc=Zs("animationstart"),fc=Zs("transitionend"),dc=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,i){dc.set(t,i),m(i,[t])}for(var al=0;al<hc.length;al++){var ll=hc[al],yf=ll.toLowerCase(),Ef=ll[0].toUpperCase()+ll.slice(1);gi(yf,"on"+Ef)}gi(lc,"onAnimationEnd"),gi(uc,"onAnimationIteration"),gi(cc,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(fc,"onTransitionEnd"),_("onMouseEnter",["mouseout","mouseover"]),_("onMouseLeave",["mouseout","mouseover"]),_("onPointerEnter",["pointerout","pointerover"]),_("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function gc(t,i,l){var f=t.type||"unknown-event";t.currentTarget=l,Cn(f,i,void 0,t),t.currentTarget=null}function pc(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var f=t[l],x=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var I=f.length-1;0<=I;I--){var M=f[I],B=M.instance,Q=M.currentTarget;if(M=M.listener,B!==y&&x.isPropagationStopped())break e;gc(x,M,Q),y=B}else for(I=0;I<f.length;I++){if(M=f[I],B=M.instance,Q=M.currentTarget,M=M.listener,B!==y&&x.isPropagationStopped())break e;gc(x,M,Q),y=B}}}if(gn)throw t=Se,gn=!1,Se=null,t}function Dt(t,i){var l=i[xl];l===void 0&&(l=i[xl]=new Set);var f=t+"__bubble";l.has(f)||(xc(i,t,2,!1),l.add(f))}function ul(t,i,l){var f=0;i&&(f|=4),xc(l,t,f,i)}var qs="_reactListening"+Math.random().toString(36).slice(2);function as(t){if(!t[qs]){t[qs]=!0,C.forEach(function(l){l!=="selectionchange"&&(Cf.has(l)||ul(l,!1,t),ul(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qs]||(i[qs]=!0,ul("selectionchange",!1,i))}}function xc(t,i,l,f){switch(qo(i)){case 1:var x=Hs;break;case 4:x=Li;break;default:x=Br}l=x.bind(null,i,l,t),x=void 0,!Ho||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),f?x!==void 0?t.addEventListener(i,l,{capture:!0,passive:x}):t.addEventListener(i,l,!0):x!==void 0?t.addEventListener(i,l,{passive:x}):t.addEventListener(i,l,!1)}function cl(t,i,l,f,x){var y=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===x||M.nodeType===8&&M.parentNode===x)break;if(I===4)for(I=f.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;I=I.return}for(;M!==null;){if(I=Gi(M),I===null)return;if(B=I.tag,B===5||B===6){f=y=I;continue e}M=M.parentNode}}f=f.return}bi(function(){var Q=y,de=Di(l),ge=[];e:{var ce=dc.get(t);if(ce!==void 0){var Ie=q,be=t;switch(t){case"keypress":if(ft(l)===0)break e;case"keydown":case"keyup":Ie=es;break;case"focusin":be="focus",Ie=Rt;break;case"focusout":be="blur",Ie=Rt;break;case"beforeblur":case"afterblur":Ie=Rt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Kt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=fi;break;case lc:case uc:case cc:Ie=Fr;break;case fc:Ie=il;break;case"scroll":Ie=rn;break;case"wheel":Ie=ol;break;case"copy":case"cut":case"paste":Ie=Ve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=ts}var ke=(i&4)!==0,qt=!ke&&t==="scroll",W=ke?ce!==null?ce+"Capture":null:ce;ke=[];for(var U=Q,X;U!==null;){X=U;var we=X.stateNode;if(X.tag===5&&we!==null&&(X=we,W!==null&&(we=En(U,W),we!=null&&ke.push(ls(U,we,X)))),qt)break;U=U.return}0<ke.length&&(ce=new Ie(ce,be,null,l,de),ge.push({event:ce,listeners:ke}))}}if((i&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",Ie=t==="mouseout"||t==="pointerout",ce&&l!==Pr&&(be=l.relatedTarget||l.fromElement)&&(Gi(be)||be[Hr]))break e;if((Ie||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,Ie?(be=l.relatedTarget||l.toElement,Ie=Q,be=be?Gi(be):null,be!==null&&(qt=kn(be),be!==qt||be.tag!==5&&be.tag!==6)&&(be=null)):(Ie=null,be=Q),Ie!==be)){if(ke=Ws,we="onMouseLeave",W="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(ke=ts,we="onPointerLeave",W="onPointerEnter",U="pointer"),qt=Ie==null?ce:wo(Ie),X=be==null?ce:wo(be),ce=new ke(we,U+"leave",Ie,l,de),ce.target=qt,ce.relatedTarget=X,we=null,Gi(de)===Q&&(ke=new ke(W,U+"enter",be,l,de),ke.target=X,ke.relatedTarget=qt,we=ke),qt=we,Ie&&be)t:{for(ke=Ie,W=be,U=0,X=ke;X;X=xo(X))U++;for(X=0,we=W;we;we=xo(we))X++;for(;0<U-X;)ke=xo(ke),U--;for(;0<X-U;)W=xo(W),X--;for(;U--;){if(ke===W||W!==null&&ke===W.alternate)break t;ke=xo(ke),W=xo(W)}ke=null}else ke=null;Ie!==null&&mc(ge,ce,Ie,ke,!1),be!==null&&qt!==null&&mc(ge,qt,be,ke,!0)}}e:{if(ce=Q?wo(Q):window,Ie=ce.nodeName&&ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ce.type==="file")var Le=o;else if(lt(ce))if(s)Le=L;else{Le=T;var He=S}else(Ie=ce.nodeName)&&Ie.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Le=O);if(Le&&(Le=Le(t,Q))){Wi(ge,Le,l,de);break e}He&&He(t,ce,Q),t==="focusout"&&(He=ce._wrapperState)&&He.controlled&&ce.type==="number"&&it(ce,"number",ce.value)}switch(He=Q?wo(Q):window,t){case"focusin":(lt(He)||He.contentEditable==="true")&&(Zt=He,xt=Q,Ft=null);break;case"focusout":Ft=xt=Zt=null;break;case"mousedown":mn=!0;break;case"contextmenu":case"mouseup":case"dragend":mn=!1,Vr(ge,l,de);break;case"selectionchange":if(Zn)break;case"keydown":case"keyup":Vr(ge,l,de)}var ze;if(di)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else xn?Ks(t,l)&&(Xe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Xe="onCompositionStart");Xe&&(Kn&&l.locale!=="ko"&&(xn||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&xn&&(ze=zs()):(gr=de,Qo="value"in gr?gr.value:gr.textContent,xn=!0)),He=Qs(Q,Xe),0<He.length&&(Xe=new vt(Xe,t,null,l,de),ge.push({event:Xe,listeners:He}),ze?Xe.data=ze:(ze=rs(l),ze!==null&&(Xe.data=ze)))),(ze=js?sl(t,l):is(t,l))&&(Q=Qs(Q,"onBeforeInput"),0<Q.length&&(de=new vt("onBeforeInput","beforeinput",null,l,de),ge.push({event:de,listeners:Q}),de.data=ze))}pc(ge,i)})}function ls(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Qs(t,i){for(var l=i+"Capture",f=[];t!==null;){var x=t,y=x.stateNode;x.tag===5&&y!==null&&(x=y,y=En(t,l),y!=null&&f.unshift(ls(t,y,x)),y=En(t,i),y!=null&&f.push(ls(t,y,x))),t=t.return}return f}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mc(t,i,l,f,x){for(var y=i._reactName,I=[];l!==null&&l!==f;){var M=l,B=M.alternate,Q=M.stateNode;if(B!==null&&B===f)break;M.tag===5&&Q!==null&&(M=Q,x?(B=En(l,y),B!=null&&I.unshift(ls(l,B,M))):x||(B=En(l,y),B!=null&&I.push(ls(l,B,M)))),l=l.return}I.length!==0&&t.push({event:i,listeners:I})}var Af=/\r\n?/g,vf=/\u0000|\uFFFD/g;function wc(t){return(typeof t=="string"?t:""+t).replace(Af,`
`).replace(vf,"")}function Js(t,i,l){if(i=wc(i),wc(t)!==i&&l)throw Error(c(425))}function $s(){}var fl=null,dl=null;function hl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,Sf=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,If=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(t){return yc.resolve(null).then(t).catch(Tf)}:gl;function Tf(t){setTimeout(function(){throw t})}function pl(t,i){var l=i,f=0;do{var x=l.nextSibling;if(t.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(f===0){t.removeChild(x),hr(i);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=x}while(l);hr(i)}function pi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Ec(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Rr="__reactFiber$"+mo,us="__reactProps$"+mo,Hr="__reactContainer$"+mo,xl="__reactEvents$"+mo,_f="__reactListeners$"+mo,Nf="__reactHandles$"+mo;function Gi(t){var i=t[Rr];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Hr]||l[Rr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Ec(t);t!==null;){if(l=t[Rr])return l;t=Ec(t)}return i}t=l,l=t.parentNode}return null}function cs(t){return t=t[Rr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(c(33))}function ea(t){return t[us]||null}var ml=[],yo=-1;function xi(t){return{current:t}}function bt(t){0>yo||(t.current=ml[yo],ml[yo]=null,yo--)}function Ot(t,i){yo++,ml[yo]=t.current,t.current=i}var mi={},Sn=xi(mi),Pn=xi(!1),Xi=mi;function Eo(t,i){var l=t.type.contextTypes;if(!l)return mi;var f=t.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var x={},y;for(y in l)x[y]=i[y];return f&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=x),x}function Ln(t){return t=t.childContextTypes,t!=null}function ta(){bt(Pn),bt(Sn)}function Cc(t,i,l){if(Sn.current!==mi)throw Error(c(168));Ot(Sn,i),Ot(Pn,l)}function Ac(t,i,l){var f=t.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var x in f)if(!(x in i))throw Error(c(108,ve(t)||"Unknown",x));return H({},l,f)}function na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,Xi=Sn.current,Ot(Sn,t),Ot(Pn,Pn.current),!0}function vc(t,i,l){var f=t.stateNode;if(!f)throw Error(c(169));l?(t=Ac(t,i,Xi),f.__reactInternalMemoizedMergedChildContext=t,bt(Pn),bt(Sn),Ot(Sn,t)):bt(Pn),Ot(Pn,l)}var zr=null,ra=!1,wl=!1;function Sc(t){zr===null?zr=[t]:zr.push(t)}function Rf(t){ra=!0,Sc(t)}function wi(){if(!wl&&zr!==null){wl=!0;var t=0,i=Je;try{var l=zr;for(Je=1;t<l.length;t++){var f=l[t];do f=f(!0);while(f!==null)}zr=null,ra=!1}catch(x){throw zr!==null&&(zr=zr.slice(t+1)),Gn(ue,wi),x}finally{Je=i,wl=!1}}return null}var Co=[],Ao=0,ia=null,oa=0,sr=[],ar=0,ji=null,Wr=1,Gr="";function Yi(t,i){Co[Ao++]=oa,Co[Ao++]=ia,ia=t,oa=i}function Ic(t,i,l){sr[ar++]=Wr,sr[ar++]=Gr,sr[ar++]=ji,ji=t;var f=Wr;t=Gr;var x=32-Nn(f)-1;f&=~(1<<x),l+=1;var y=32-Nn(i)+x;if(30<y){var I=x-x%5;y=(f&(1<<I)-1).toString(32),f>>=I,x-=I,Wr=1<<32-Nn(i)+x|l<<x|f,Gr=y+t}else Wr=1<<y|l<<x|f,Gr=t}function yl(t){t.return!==null&&(Yi(t,1),Ic(t,1,0))}function El(t){for(;t===ia;)ia=Co[--Ao],Co[Ao]=null,oa=Co[--Ao],Co[Ao]=null;for(;t===ji;)ji=sr[--ar],sr[ar]=null,Gr=sr[--ar],sr[ar]=null,Wr=sr[--ar],sr[ar]=null}var qn=null,Qn=null,Pt=!1,xr=null;function Tc(t,i){var l=fr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function _c(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,qn=t,Qn=pi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,qn=t,Qn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ji!==null?{id:Wr,overflow:Gr}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=fr(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,qn=t,Qn=null,!0):!1;default:return!1}}function Cl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Al(t){if(Pt){var i=Qn;if(i){var l=i;if(!_c(t,i)){if(Cl(t))throw Error(c(418));i=pi(l.nextSibling);var f=qn;i&&_c(t,i)?Tc(f,l):(t.flags=t.flags&-4097|2,Pt=!1,qn=t)}}else{if(Cl(t))throw Error(c(418));t.flags=t.flags&-4097|2,Pt=!1,qn=t}}}function Nc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function sa(t){if(t!==qn)return!1;if(!Pt)return Nc(t),Pt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!hl(t.type,t.memoizedProps)),i&&(i=Qn)){if(Cl(t))throw Rc(),Error(c(418));for(;i;)Tc(t,i),i=pi(i.nextSibling)}if(Nc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){Qn=pi(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}Qn=null}}else Qn=qn?pi(t.stateNode.nextSibling):null;return!0}function Rc(){for(var t=Qn;t;)t=pi(t.nextSibling)}function vo(){Qn=qn=null,Pt=!1}function vl(t){xr===null?xr=[t]:xr.push(t)}var Of=xe.ReactCurrentBatchConfig;function fs(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(c(309));var f=l.stateNode}if(!f)throw Error(c(147,t));var x=f,y=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(I){var M=x.refs;I===null?delete M[y]:M[y]=I},i._stringRef=y,i)}if(typeof t!="string")throw Error(c(284));if(!l._owner)throw Error(c(290,t))}return t}function aa(t,i){throw t=Object.prototype.toString.call(i),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Oc(t){var i=t._init;return i(t._payload)}function Dc(t){function i(W,U){if(t){var X=W.deletions;X===null?(W.deletions=[U],W.flags|=16):X.push(U)}}function l(W,U){if(!t)return null;for(;U!==null;)i(W,U),U=U.sibling;return null}function f(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function x(W,U){return W=Ti(W,U),W.index=0,W.sibling=null,W}function y(W,U,X){return W.index=X,t?(X=W.alternate,X!==null?(X=X.index,X<U?(W.flags|=2,U):X):(W.flags|=2,U)):(W.flags|=1048576,U)}function I(W){return t&&W.alternate===null&&(W.flags|=2),W}function M(W,U,X,we){return U===null||U.tag!==6?(U=gu(X,W.mode,we),U.return=W,U):(U=x(U,X),U.return=W,U)}function B(W,U,X,we){var Le=X.type;return Le===se?de(W,U,X.props.children,we,X.key):U!==null&&(U.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===$e&&Oc(Le)===U.type)?(we=x(U,X.props),we.ref=fs(W,U,X),we.return=W,we):(we=Da(X.type,X.key,X.props,null,W.mode,we),we.ref=fs(W,U,X),we.return=W,we)}function Q(W,U,X,we){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=pu(X,W.mode,we),U.return=W,U):(U=x(U,X.children||[]),U.return=W,U)}function de(W,U,X,we,Le){return U===null||U.tag!==7?(U=to(X,W.mode,we,Le),U.return=W,U):(U=x(U,X),U.return=W,U)}function ge(W,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return U=gu(""+U,W.mode,X),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:return X=Da(U.type,U.key,U.props,null,W.mode,X),X.ref=fs(W,null,U),X.return=W,X;case Me:return U=pu(U,W.mode,X),U.return=W,U;case $e:var we=U._init;return ge(W,we(U._payload),X)}if(vr(U)||Z(U))return U=to(U,W.mode,X,null),U.return=W,U;aa(W,U)}return null}function ce(W,U,X,we){var Le=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Le!==null?null:M(W,U,""+X,we);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Re:return X.key===Le?B(W,U,X,we):null;case Me:return X.key===Le?Q(W,U,X,we):null;case $e:return Le=X._init,ce(W,U,Le(X._payload),we)}if(vr(X)||Z(X))return Le!==null?null:de(W,U,X,we,null);aa(W,X)}return null}function Ie(W,U,X,we,Le){if(typeof we=="string"&&we!==""||typeof we=="number")return W=W.get(X)||null,M(U,W,""+we,Le);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case Re:return W=W.get(we.key===null?X:we.key)||null,B(U,W,we,Le);case Me:return W=W.get(we.key===null?X:we.key)||null,Q(U,W,we,Le);case $e:var He=we._init;return Ie(W,U,X,He(we._payload),Le)}if(vr(we)||Z(we))return W=W.get(X)||null,de(U,W,we,Le,null);aa(U,we)}return null}function be(W,U,X,we){for(var Le=null,He=null,ze=U,Xe=U=0,hn=null;ze!==null&&Xe<X.length;Xe++){ze.index>Xe?(hn=ze,ze=null):hn=ze.sibling;var ht=ce(W,ze,X[Xe],we);if(ht===null){ze===null&&(ze=hn);break}t&&ze&&ht.alternate===null&&i(W,ze),U=y(ht,U,Xe),He===null?Le=ht:He.sibling=ht,He=ht,ze=hn}if(Xe===X.length)return l(W,ze),Pt&&Yi(W,Xe),Le;if(ze===null){for(;Xe<X.length;Xe++)ze=ge(W,X[Xe],we),ze!==null&&(U=y(ze,U,Xe),He===null?Le=ze:He.sibling=ze,He=ze);return Pt&&Yi(W,Xe),Le}for(ze=f(W,ze);Xe<X.length;Xe++)hn=Ie(ze,W,Xe,X[Xe],we),hn!==null&&(t&&hn.alternate!==null&&ze.delete(hn.key===null?Xe:hn.key),U=y(hn,U,Xe),He===null?Le=hn:He.sibling=hn,He=hn);return t&&ze.forEach(function(_i){return i(W,_i)}),Pt&&Yi(W,Xe),Le}function ke(W,U,X,we){var Le=Z(X);if(typeof Le!="function")throw Error(c(150));if(X=Le.call(X),X==null)throw Error(c(151));for(var He=Le=null,ze=U,Xe=U=0,hn=null,ht=X.next();ze!==null&&!ht.done;Xe++,ht=X.next()){ze.index>Xe?(hn=ze,ze=null):hn=ze.sibling;var _i=ce(W,ze,ht.value,we);if(_i===null){ze===null&&(ze=hn);break}t&&ze&&_i.alternate===null&&i(W,ze),U=y(_i,U,Xe),He===null?Le=_i:He.sibling=_i,He=_i,ze=hn}if(ht.done)return l(W,ze),Pt&&Yi(W,Xe),Le;if(ze===null){for(;!ht.done;Xe++,ht=X.next())ht=ge(W,ht.value,we),ht!==null&&(U=y(ht,U,Xe),He===null?Le=ht:He.sibling=ht,He=ht);return Pt&&Yi(W,Xe),Le}for(ze=f(W,ze);!ht.done;Xe++,ht=X.next())ht=Ie(ze,W,Xe,ht.value,we),ht!==null&&(t&&ht.alternate!==null&&ze.delete(ht.key===null?Xe:ht.key),U=y(ht,U,Xe),He===null?Le=ht:He.sibling=ht,He=ht);return t&&ze.forEach(function(ud){return i(W,ud)}),Pt&&Yi(W,Xe),Le}function qt(W,U,X,we){if(typeof X=="object"&&X!==null&&X.type===se&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case Re:e:{for(var Le=X.key,He=U;He!==null;){if(He.key===Le){if(Le=X.type,Le===se){if(He.tag===7){l(W,He.sibling),U=x(He,X.props.children),U.return=W,W=U;break e}}else if(He.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===$e&&Oc(Le)===He.type){l(W,He.sibling),U=x(He,X.props),U.ref=fs(W,He,X),U.return=W,W=U;break e}l(W,He);break}else i(W,He);He=He.sibling}X.type===se?(U=to(X.props.children,W.mode,we,X.key),U.return=W,W=U):(we=Da(X.type,X.key,X.props,null,W.mode,we),we.ref=fs(W,U,X),we.return=W,W=we)}return I(W);case Me:e:{for(He=X.key;U!==null;){if(U.key===He)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){l(W,U.sibling),U=x(U,X.children||[]),U.return=W,W=U;break e}else{l(W,U);break}else i(W,U);U=U.sibling}U=pu(X,W.mode,we),U.return=W,W=U}return I(W);case $e:return He=X._init,qt(W,U,He(X._payload),we)}if(vr(X))return be(W,U,X,we);if(Z(X))return ke(W,U,X,we);aa(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,U!==null&&U.tag===6?(l(W,U.sibling),U=x(U,X),U.return=W,W=U):(l(W,U),U=gu(X,W.mode,we),U.return=W,W=U),I(W)):l(W,U)}return qt}var So=Dc(!0),bc=Dc(!1),la=xi(null),ua=null,Io=null,Sl=null;function Il(){Sl=Io=ua=null}function Tl(t){var i=la.current;bt(la),t._currentValue=i}function _l(t,i,l){for(;t!==null;){var f=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),t===l)break;t=t.return}}function To(t,i){ua=t,Sl=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Bn=!0),t.firstContext=null)}function lr(t){var i=t._currentValue;if(Sl!==t)if(t={context:t,memoizedValue:i,next:null},Io===null){if(ua===null)throw Error(c(308));Io=t,ua.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return i}var Ki=null;function Nl(t){Ki===null?Ki=[t]:Ki.push(t)}function Mc(t,i,l,f){var x=i.interleaved;return x===null?(l.next=l,Nl(i)):(l.next=x.next,x.next=l),i.interleaved=l,Xr(t,f)}function Xr(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var yi=!1;function Rl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kc(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Ei(t,i,l){var f=t.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var x=f.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),f.pending=i,Xr(t,l)}return x=f.interleaved,x===null?(i.next=i,Nl(f)):(i.next=x.next,x.next=i),f.interleaved=i,Xr(t,l)}function ca(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var f=i.lanes;f&=t.pendingLanes,l|=f,i.lanes=l,Ht(t,l)}}function Pc(t,i){var l=t.updateQueue,f=t.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var x=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?x=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?x=y=i:y=y.next=i}else x=y=i;l={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:f.shared,effects:f.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function fa(t,i,l,f){var x=t.updateQueue;yi=!1;var y=x.firstBaseUpdate,I=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var B=M,Q=B.next;B.next=null,I===null?y=Q:I.next=Q,I=B;var de=t.alternate;de!==null&&(de=de.updateQueue,M=de.lastBaseUpdate,M!==I&&(M===null?de.firstBaseUpdate=Q:M.next=Q,de.lastBaseUpdate=B))}if(y!==null){var ge=x.baseState;I=0,de=Q=B=null,M=y;do{var ce=M.lane,Ie=M.eventTime;if((f&ce)===ce){de!==null&&(de=de.next={eventTime:Ie,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var be=t,ke=M;switch(ce=i,Ie=l,ke.tag){case 1:if(be=ke.payload,typeof be=="function"){ge=be.call(Ie,ge,ce);break e}ge=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ke.payload,ce=typeof be=="function"?be.call(Ie,ge,ce):be,ce==null)break e;ge=H({},ge,ce);break e;case 2:yi=!0}}M.callback!==null&&M.lane!==0&&(t.flags|=64,ce=x.effects,ce===null?x.effects=[M]:ce.push(M))}else Ie={eventTime:Ie,lane:ce,tag:M.tag,payload:M.payload,callback:M.callback,next:null},de===null?(Q=de=Ie,B=ge):de=de.next=Ie,I|=ce;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;ce=M,M=ce.next,ce.next=null,x.lastBaseUpdate=ce,x.shared.pending=null}}while(!0);if(de===null&&(B=ge),x.baseState=B,x.firstBaseUpdate=Q,x.lastBaseUpdate=de,i=x.shared.interleaved,i!==null){x=i;do I|=x.lane,x=x.next;while(x!==i)}else y===null&&(x.shared.lanes=0);Qi|=I,t.lanes=I,t.memoizedState=ge}}function Lc(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var f=t[i],x=f.callback;if(x!==null){if(f.callback=null,f=l,typeof x!="function")throw Error(c(191,x));x.call(f)}}}var ds={},Or=xi(ds),hs=xi(ds),gs=xi(ds);function Zi(t){if(t===ds)throw Error(c(174));return t}function Ol(t,i){switch(Ot(gs,i),Ot(hs,t),Ot(Or,ds),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:io(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=io(i,t)}bt(Or),Ot(Or,i)}function _o(){bt(Or),bt(hs),bt(gs)}function Bc(t){Zi(gs.current);var i=Zi(Or.current),l=io(i,t.type);i!==l&&(Ot(hs,t),Ot(Or,l))}function Dl(t){hs.current===t&&(bt(Or),bt(hs))}var Ut=xi(0);function da(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bl=[];function Ml(){for(var t=0;t<bl.length;t++)bl[t]._workInProgressVersionPrimary=null;bl.length=0}var ha=xe.ReactCurrentDispatcher,kl=xe.ReactCurrentBatchConfig,qi=0,Vt=null,on=null,fn=null,ga=!1,ps=!1,xs=0,Df=0;function In(){throw Error(c(321))}function Pl(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!V(t[l],i[l]))return!1;return!0}function Ll(t,i,l,f,x,y){if(qi=y,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ha.current=t===null||t.memoizedState===null?Pf:Lf,t=l(f,x),ps){y=0;do{if(ps=!1,xs=0,25<=y)throw Error(c(301));y+=1,fn=on=null,i.updateQueue=null,ha.current=Bf,t=l(f,x)}while(ps)}if(ha.current=ma,i=on!==null&&on.next!==null,qi=0,fn=on=Vt=null,ga=!1,i)throw Error(c(300));return t}function Bl(){var t=xs!==0;return xs=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Vt.memoizedState=fn=t:fn=fn.next=t,fn}function ur(){if(on===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var i=fn===null?Vt.memoizedState:fn.next;if(i!==null)fn=i,on=t;else{if(t===null)throw Error(c(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},fn===null?Vt.memoizedState=fn=t:fn=fn.next=t}return fn}function ms(t,i){return typeof i=="function"?i(t):i}function Fl(t){var i=ur(),l=i.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var f=on,x=f.baseQueue,y=l.pending;if(y!==null){if(x!==null){var I=x.next;x.next=y.next,y.next=I}f.baseQueue=x=y,l.pending=null}if(x!==null){y=x.next,f=f.baseState;var M=I=null,B=null,Q=y;do{var de=Q.lane;if((qi&de)===de)B!==null&&(B=B.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:t(f,Q.action);else{var ge={lane:de,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};B===null?(M=B=ge,I=f):B=B.next=ge,Vt.lanes|=de,Qi|=de}Q=Q.next}while(Q!==null&&Q!==y);B===null?I=f:B.next=M,V(f,i.memoizedState)||(Bn=!0),i.memoizedState=f,i.baseState=I,i.baseQueue=B,l.lastRenderedState=f}if(t=l.interleaved,t!==null){x=t;do y=x.lane,Vt.lanes|=y,Qi|=y,x=x.next;while(x!==t)}else x===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Ul(t){var i=ur(),l=i.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var f=l.dispatch,x=l.pending,y=i.memoizedState;if(x!==null){l.pending=null;var I=x=x.next;do y=t(y,I.action),I=I.next;while(I!==x);V(y,i.memoizedState)||(Bn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,f]}function Fc(){}function Uc(t,i){var l=Vt,f=ur(),x=i(),y=!V(f.memoizedState,x);if(y&&(f.memoizedState=x,Bn=!0),f=f.queue,Vl(zc.bind(null,l,f,t),[t]),f.getSnapshot!==i||y||fn!==null&&fn.memoizedState.tag&1){if(l.flags|=2048,ws(9,Hc.bind(null,l,f,x,i),void 0,null),dn===null)throw Error(c(349));(qi&30)!==0||Vc(l,i,x)}return x}function Vc(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Vt.updateQueue,i===null?(i={lastEffect:null,stores:null},Vt.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Hc(t,i,l,f){i.value=l,i.getSnapshot=f,Wc(i)&&Gc(t)}function zc(t,i,l){return l(function(){Wc(i)&&Gc(t)})}function Wc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!V(t,l)}catch{return!0}}function Gc(t){var i=Xr(t,1);i!==null&&Er(i,t,1,-1)}function Xc(t){var i=Dr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},i.queue=t,t=t.dispatch=kf.bind(null,Vt,t),[i.memoizedState,t]}function ws(t,i,l,f){return t={tag:t,create:i,destroy:l,deps:f,next:null},i=Vt.updateQueue,i===null?(i={lastEffect:null,stores:null},Vt.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(f=l.next,l.next=t,t.next=f,i.lastEffect=t)),t}function jc(){return ur().memoizedState}function pa(t,i,l,f){var x=Dr();Vt.flags|=t,x.memoizedState=ws(1|i,l,void 0,f===void 0?null:f)}function xa(t,i,l,f){var x=ur();f=f===void 0?null:f;var y=void 0;if(on!==null){var I=on.memoizedState;if(y=I.destroy,f!==null&&Pl(f,I.deps)){x.memoizedState=ws(i,l,y,f);return}}Vt.flags|=t,x.memoizedState=ws(1|i,l,y,f)}function Yc(t,i){return pa(8390656,8,t,i)}function Vl(t,i){return xa(2048,8,t,i)}function Kc(t,i){return xa(4,2,t,i)}function Zc(t,i){return xa(4,4,t,i)}function qc(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Qc(t,i,l){return l=l!=null?l.concat([t]):null,xa(4,4,qc.bind(null,i,t),l)}function Hl(){}function Jc(t,i){var l=ur();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&Pl(i,f[1])?f[0]:(l.memoizedState=[t,i],t)}function $c(t,i){var l=ur();i=i===void 0?null:i;var f=l.memoizedState;return f!==null&&i!==null&&Pl(i,f[1])?f[0]:(t=t(),l.memoizedState=[t,i],t)}function e1(t,i,l){return(qi&21)===0?(t.baseState&&(t.baseState=!1,Bn=!0),t.memoizedState=l):(V(l,i)||(l=en(),Vt.lanes|=l,Qi|=l,t.baseState=!0),i)}function bf(t,i){var l=Je;Je=l!==0&&4>l?l:4,t(!0);var f=kl.transition;kl.transition={};try{t(!1),i()}finally{Je=l,kl.transition=f}}function t1(){return ur().memoizedState}function Mf(t,i,l){var f=Si(t);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},n1(t))r1(i,l);else if(l=Mc(t,i,l,f),l!==null){var x=On();Er(l,t,f,x),i1(l,i,f)}}function kf(t,i,l){var f=Si(t),x={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(n1(t))r1(i,x);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var I=i.lastRenderedState,M=y(I,l);if(x.hasEagerState=!0,x.eagerState=M,V(M,I)){var B=i.interleaved;B===null?(x.next=x,Nl(i)):(x.next=B.next,B.next=x),i.interleaved=x;return}}catch{}finally{}l=Mc(t,i,x,f),l!==null&&(x=On(),Er(l,t,f,x),i1(l,i,f))}}function n1(t){var i=t.alternate;return t===Vt||i!==null&&i===Vt}function r1(t,i){ps=ga=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function i1(t,i,l){if((l&4194240)!==0){var f=i.lanes;f&=t.pendingLanes,l|=f,i.lanes=l,Ht(t,l)}}var ma={readContext:lr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},Pf={readContext:lr,useCallback:function(t,i){return Dr().memoizedState=[t,i===void 0?null:i],t},useContext:lr,useEffect:Yc,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,pa(4194308,4,qc.bind(null,i,t),l)},useLayoutEffect:function(t,i){return pa(4194308,4,t,i)},useInsertionEffect:function(t,i){return pa(4,2,t,i)},useMemo:function(t,i){var l=Dr();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var f=Dr();return i=l!==void 0?l(i):i,f.memoizedState=f.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},f.queue=t,t=t.dispatch=Mf.bind(null,Vt,t),[f.memoizedState,t]},useRef:function(t){var i=Dr();return t={current:t},i.memoizedState=t},useState:Xc,useDebugValue:Hl,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=Xc(!1),i=t[0];return t=bf.bind(null,t[1]),Dr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var f=Vt,x=Dr();if(Pt){if(l===void 0)throw Error(c(407));l=l()}else{if(l=i(),dn===null)throw Error(c(349));(qi&30)!==0||Vc(f,i,l)}x.memoizedState=l;var y={value:l,getSnapshot:i};return x.queue=y,Yc(zc.bind(null,f,y,t),[t]),f.flags|=2048,ws(9,Hc.bind(null,f,y,l,i),void 0,null),l},useId:function(){var t=Dr(),i=dn.identifierPrefix;if(Pt){var l=Gr,f=Wr;l=(f&~(1<<32-Nn(f)-1)).toString(32)+l,i=":"+i+"R"+l,l=xs++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=Df++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},Lf={readContext:lr,useCallback:Jc,useContext:lr,useEffect:Vl,useImperativeHandle:Qc,useInsertionEffect:Kc,useLayoutEffect:Zc,useMemo:$c,useReducer:Fl,useRef:jc,useState:function(){return Fl(ms)},useDebugValue:Hl,useDeferredValue:function(t){var i=ur();return e1(i,on.memoizedState,t)},useTransition:function(){var t=Fl(ms)[0],i=ur().memoizedState;return[t,i]},useMutableSource:Fc,useSyncExternalStore:Uc,useId:t1,unstable_isNewReconciler:!1},Bf={readContext:lr,useCallback:Jc,useContext:lr,useEffect:Vl,useImperativeHandle:Qc,useInsertionEffect:Kc,useLayoutEffect:Zc,useMemo:$c,useReducer:Ul,useRef:jc,useState:function(){return Ul(ms)},useDebugValue:Hl,useDeferredValue:function(t){var i=ur();return on===null?i.memoizedState=t:e1(i,on.memoizedState,t)},useTransition:function(){var t=Ul(ms)[0],i=ur().memoizedState;return[t,i]},useMutableSource:Fc,useSyncExternalStore:Uc,useId:t1,unstable_isNewReconciler:!1};function mr(t,i){if(t&&t.defaultProps){i=H({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}function zl(t,i,l,f){i=t.memoizedState,l=l(f,i),l=l==null?i:H({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var wa={isMounted:function(t){return(t=t._reactInternals)?kn(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var f=On(),x=Si(t),y=jr(f,x);y.payload=i,l!=null&&(y.callback=l),i=Ei(t,y,x),i!==null&&(Er(i,t,x,f),ca(i,t,x))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var f=On(),x=Si(t),y=jr(f,x);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Ei(t,y,x),i!==null&&(Er(i,t,x,f),ca(i,t,x))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=On(),f=Si(t),x=jr(l,f);x.tag=2,i!=null&&(x.callback=i),i=Ei(t,x,f),i!==null&&(Er(i,t,f,l),ca(i,t,f))}};function o1(t,i,l,f,x,y,I){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(f,y,I):i.prototype&&i.prototype.isPureReactComponent?!K(l,f)||!K(x,y):!0}function s1(t,i,l){var f=!1,x=mi,y=i.contextType;return typeof y=="object"&&y!==null?y=lr(y):(x=Ln(i)?Xi:Sn.current,f=i.contextTypes,y=(f=f!=null)?Eo(t,x):mi),i=new i(l,y),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wa,t.stateNode=i,i._reactInternals=t,f&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=x,t.__reactInternalMemoizedMaskedChildContext=y),i}function a1(t,i,l,f){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==t&&wa.enqueueReplaceState(i,i.state,null)}function Wl(t,i,l,f){var x=t.stateNode;x.props=l,x.state=t.memoizedState,x.refs={},Rl(t);var y=i.contextType;typeof y=="object"&&y!==null?x.context=lr(y):(y=Ln(i)?Xi:Sn.current,x.context=Eo(t,y)),x.state=t.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(zl(t,i,y,l),x.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&wa.enqueueReplaceState(x,x.state,null),fa(t,l,x,f),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,i){try{var l="",f=i;do l+=Ue(f),f=f.return;while(f);var x=l}catch(y){x=`
Error generating stack: `+y.message+`
`+y.stack}return{value:t,source:i,stack:x,digest:null}}function Gl(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function Xl(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Ff=typeof WeakMap=="function"?WeakMap:Map;function l1(t,i,l){l=jr(-1,l),l.tag=3,l.payload={element:null};var f=i.value;return l.callback=function(){Ia||(Ia=!0,su=f),Xl(t,i)},l}function u1(t,i,l){l=jr(-1,l),l.tag=3;var f=t.type.getDerivedStateFromError;if(typeof f=="function"){var x=i.value;l.payload=function(){return f(x)},l.callback=function(){Xl(t,i)}}var y=t.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Xl(t,i),typeof f!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var I=i.stack;this.componentDidCatch(i.value,{componentStack:I!==null?I:""})}),l}function c1(t,i,l){var f=t.pingCache;if(f===null){f=t.pingCache=new Ff;var x=new Set;f.set(i,x)}else x=f.get(i),x===void 0&&(x=new Set,f.set(i,x));x.has(l)||(x.add(l),t=Jf.bind(null,t,i,l),i.then(t,t))}function f1(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function d1(t,i,l,f,x){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=jr(-1,1),i.tag=2,Ei(l,i,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=x,t)}var Uf=xe.ReactCurrentOwner,Bn=!1;function Rn(t,i,l,f){i.child=t===null?bc(i,null,l,f):So(i,t.child,l,f)}function h1(t,i,l,f,x){l=l.render;var y=i.ref;return To(i,x),f=Ll(t,i,l,f,y,x),l=Bl(),t!==null&&!Bn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,Yr(t,i,x)):(Pt&&l&&yl(i),i.flags|=1,Rn(t,i,f,x),i.child)}function g1(t,i,l,f,x){if(t===null){var y=l.type;return typeof y=="function"&&!hu(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,p1(t,i,y,f,x)):(t=Da(l.type,null,f,i,i.mode,x),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,(t.lanes&x)===0){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:K,l(I,f)&&t.ref===i.ref)return Yr(t,i,x)}return i.flags|=1,t=Ti(y,f),t.ref=i.ref,t.return=i,i.child=t}function p1(t,i,l,f,x){if(t!==null){var y=t.memoizedProps;if(K(y,f)&&t.ref===i.ref)if(Bn=!1,i.pendingProps=f=y,(t.lanes&x)!==0)(t.flags&131072)!==0&&(Bn=!0);else return i.lanes=t.lanes,Yr(t,i,x)}return jl(t,i,l,f,x)}function x1(t,i,l){var f=i.pendingProps,x=f.children,y=t!==null?t.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Oo,Jn),Jn|=l;else{if((l&1073741824)===0)return t=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Ot(Oo,Jn),Jn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:l,Ot(Oo,Jn),Jn|=f}else y!==null?(f=y.baseLanes|l,i.memoizedState=null):f=l,Ot(Oo,Jn),Jn|=f;return Rn(t,i,x,l),i.child}function m1(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function jl(t,i,l,f,x){var y=Ln(l)?Xi:Sn.current;return y=Eo(i,y),To(i,x),l=Ll(t,i,l,f,y,x),f=Bl(),t!==null&&!Bn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,Yr(t,i,x)):(Pt&&f&&yl(i),i.flags|=1,Rn(t,i,l,x),i.child)}function w1(t,i,l,f,x){if(Ln(l)){var y=!0;na(i)}else y=!1;if(To(i,x),i.stateNode===null)Ea(t,i),s1(i,l,f),Wl(i,l,f,x),f=!0;else if(t===null){var I=i.stateNode,M=i.memoizedProps;I.props=M;var B=I.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=lr(Q):(Q=Ln(l)?Xi:Sn.current,Q=Eo(i,Q));var de=l.getDerivedStateFromProps,ge=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function";ge||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||B!==Q)&&a1(i,I,f,Q),yi=!1;var ce=i.memoizedState;I.state=ce,fa(i,f,I,x),B=i.memoizedState,M!==f||ce!==B||Pn.current||yi?(typeof de=="function"&&(zl(i,l,de,f),B=i.memoizedState),(M=yi||o1(i,l,M,f,ce,B,Q))?(ge||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(i.flags|=4194308)):(typeof I.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=B),I.props=f,I.state=B,I.context=Q,f=M):(typeof I.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{I=i.stateNode,kc(t,i),M=i.memoizedProps,Q=i.type===i.elementType?M:mr(i.type,M),I.props=Q,ge=i.pendingProps,ce=I.context,B=l.contextType,typeof B=="object"&&B!==null?B=lr(B):(B=Ln(l)?Xi:Sn.current,B=Eo(i,B));var Ie=l.getDerivedStateFromProps;(de=typeof Ie=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==ge||ce!==B)&&a1(i,I,f,B),yi=!1,ce=i.memoizedState,I.state=ce,fa(i,f,I,x);var be=i.memoizedState;M!==ge||ce!==be||Pn.current||yi?(typeof Ie=="function"&&(zl(i,l,Ie,f),be=i.memoizedState),(Q=yi||o1(i,l,Q,f,ce,be,B)||!1)?(de||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,be,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,be,B)),typeof I.componentDidUpdate=="function"&&(i.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===t.memoizedProps&&ce===t.memoizedState||(i.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ce===t.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=be),I.props=f,I.state=be,I.context=B,f=Q):(typeof I.componentDidUpdate!="function"||M===t.memoizedProps&&ce===t.memoizedState||(i.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&ce===t.memoizedState||(i.flags|=1024),f=!1)}return Yl(t,i,l,f,y,x)}function Yl(t,i,l,f,x,y){m1(t,i);var I=(i.flags&128)!==0;if(!f&&!I)return x&&vc(i,l,!1),Yr(t,i,y);f=i.stateNode,Uf.current=i;var M=I&&typeof l.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,t!==null&&I?(i.child=So(i,t.child,null,y),i.child=So(i,null,M,y)):Rn(t,i,M,y),i.memoizedState=f.state,x&&vc(i,l,!0),i.child}function y1(t){var i=t.stateNode;i.pendingContext?Cc(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Cc(t,i.context,!1),Ol(t,i.containerInfo)}function E1(t,i,l,f,x){return vo(),vl(x),i.flags|=256,Rn(t,i,l,f),i.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Zl(t){return{baseLanes:t,cachePool:null,transitions:null}}function C1(t,i,l){var f=i.pendingProps,x=Ut.current,y=!1,I=(i.flags&128)!==0,M;if((M=I)||(M=t!==null&&t.memoizedState===null?!1:(x&2)!==0),M?(y=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(x|=1),Ot(Ut,x&1),t===null)return Al(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(I=f.children,t=f.fallback,y?(f=i.mode,y=i.child,I={mode:"hidden",children:I},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=ba(I,f,0,null),t=to(t,f,l,null),y.return=i,t.return=i,y.sibling=t,i.child=y,i.child.memoizedState=Zl(l),i.memoizedState=Kl,t):ql(i,I));if(x=t.memoizedState,x!==null&&(M=x.dehydrated,M!==null))return Vf(t,i,I,f,M,x,l);if(y){y=f.fallback,I=i.mode,x=t.child,M=x.sibling;var B={mode:"hidden",children:f.children};return(I&1)===0&&i.child!==x?(f=i.child,f.childLanes=0,f.pendingProps=B,i.deletions=null):(f=Ti(x,B),f.subtreeFlags=x.subtreeFlags&14680064),M!==null?y=Ti(M,y):(y=to(y,I,l,null),y.flags|=2),y.return=i,f.return=i,f.sibling=y,i.child=f,f=y,y=i.child,I=t.child.memoizedState,I=I===null?Zl(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=t.childLanes&~l,i.memoizedState=Kl,f}return y=t.child,t=y.sibling,f=Ti(y,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=l),f.return=i,f.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=f,i.memoizedState=null,f}function ql(t,i){return i=ba({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function ya(t,i,l,f){return f!==null&&vl(f),So(i,t.child,null,l),t=ql(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Vf(t,i,l,f,x,y,I){if(l)return i.flags&256?(i.flags&=-257,f=Gl(Error(c(422))),ya(t,i,I,f)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(y=f.fallback,x=i.mode,f=ba({mode:"visible",children:f.children},x,0,null),y=to(y,x,I,null),y.flags|=2,f.return=i,y.return=i,f.sibling=y,i.child=f,(i.mode&1)!==0&&So(i,t.child,null,I),i.child.memoizedState=Zl(I),i.memoizedState=Kl,y);if((i.mode&1)===0)return ya(t,i,I,null);if(x.data==="$!"){if(f=x.nextSibling&&x.nextSibling.dataset,f)var M=f.dgst;return f=M,y=Error(c(419)),f=Gl(y,f,void 0),ya(t,i,I,f)}if(M=(I&t.childLanes)!==0,Bn||M){if(f=dn,f!==null){switch(I&-I){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(f.suspendedLanes|I))!==0?0:x,x!==0&&x!==y.retryLane&&(y.retryLane=x,Xr(t,x),Er(f,t,x,-1))}return du(),f=Gl(Error(c(421))),ya(t,i,I,f)}return x.data==="$?"?(i.flags|=128,i.child=t.child,i=$f.bind(null,t),x._reactRetry=i,null):(t=y.treeContext,Qn=pi(x.nextSibling),qn=i,Pt=!0,xr=null,t!==null&&(sr[ar++]=Wr,sr[ar++]=Gr,sr[ar++]=ji,Wr=t.id,Gr=t.overflow,ji=i),i=ql(i,f.children),i.flags|=4096,i)}function A1(t,i,l){t.lanes|=i;var f=t.alternate;f!==null&&(f.lanes|=i),_l(t.return,i,l)}function Ql(t,i,l,f,x){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:x}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=x)}function v1(t,i,l){var f=i.pendingProps,x=f.revealOrder,y=f.tail;if(Rn(t,i,f.children,l),f=Ut.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A1(t,l,i);else if(t.tag===19)A1(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}f&=1}if(Ot(Ut,f),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(l=i.child,x=null;l!==null;)t=l.alternate,t!==null&&da(t)===null&&(x=l),l=l.sibling;l=x,l===null?(x=i.child,i.child=null):(x=l.sibling,l.sibling=null),Ql(i,!1,x,l,y);break;case"backwards":for(l=null,x=i.child,i.child=null;x!==null;){if(t=x.alternate,t!==null&&da(t)===null){i.child=x;break}t=x.sibling,x.sibling=l,l=x,x=t}Ql(i,!0,l,null,y);break;case"together":Ql(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ea(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Yr(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Qi|=i.lanes,(l&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(c(153));if(i.child!==null){for(t=i.child,l=Ti(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Ti(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function Hf(t,i,l){switch(i.tag){case 3:y1(i),vo();break;case 5:Bc(i);break;case 1:Ln(i.type)&&na(i);break;case 4:Ol(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,x=i.memoizedProps.value;Ot(la,f._currentValue),f._currentValue=x;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ot(Ut,Ut.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?C1(t,i,l):(Ot(Ut,Ut.current&1),t=Yr(t,i,l),t!==null?t.sibling:null);Ot(Ut,Ut.current&1);break;case 19:if(f=(l&i.childLanes)!==0,(t.flags&128)!==0){if(f)return v1(t,i,l);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ot(Ut,Ut.current),f)break;return null;case 22:case 23:return i.lanes=0,x1(t,i,l)}return Yr(t,i,l)}var S1,Jl,I1,T1;S1=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Jl=function(){},I1=function(t,i,l,f){var x=t.memoizedProps;if(x!==f){t=i.stateNode,Zi(Or.current);var y=null;switch(l){case"input":x=Ar(t,x),f=Ar(t,f),y=[];break;case"select":x=H({},x,{value:void 0}),f=H({},f,{value:void 0}),y=[];break;case"textarea":x=ti(t,x),f=ti(t,f),y=[];break;default:typeof x.onClick!="function"&&typeof f.onClick=="function"&&(t.onclick=$s)}pt(l,f);var I;l=null;for(Q in x)if(!f.hasOwnProperty(Q)&&x.hasOwnProperty(Q)&&x[Q]!=null)if(Q==="style"){var M=x[Q];for(I in M)M.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(w.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in f){var B=f[Q];if(M=x?.[Q],f.hasOwnProperty(Q)&&B!==M&&(B!=null||M!=null))if(Q==="style")if(M){for(I in M)!M.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in B)B.hasOwnProperty(I)&&M[I]!==B[I]&&(l||(l={}),l[I]=B[I])}else l||(y||(y=[]),y.push(Q,l)),l=B;else Q==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,M=M?M.__html:void 0,B!=null&&M!==B&&(y=y||[]).push(Q,B)):Q==="children"?typeof B!="string"&&typeof B!="number"||(y=y||[]).push(Q,""+B):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(w.hasOwnProperty(Q)?(B!=null&&Q==="onScroll"&&Dt("scroll",t),y||M===B||(y=[])):(y=y||[]).push(Q,B))}l&&(y=y||[]).push("style",l);var Q=y;(i.updateQueue=Q)&&(i.flags|=4)}},T1=function(t,i,l,f){l!==f&&(i.flags|=4)};function ys(t,i){if(!Pt)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:f.sibling=null}}function Tn(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,f=0;if(i)for(var x=t.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags&14680064,f|=x.flags&14680064,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)l|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=f,t.childLanes=l,i}function zf(t,i,l){var f=i.pendingProps;switch(El(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(i),null;case 1:return Ln(i.type)&&ta(),Tn(i),null;case 3:return f=i.stateNode,_o(),bt(Pn),bt(Sn),Ml(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(t===null||t.child===null)&&(sa(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xr!==null&&(uu(xr),xr=null))),Jl(t,i),Tn(i),null;case 5:Dl(i);var x=Zi(gs.current);if(l=i.type,t!==null&&i.stateNode!=null)I1(t,i,l,f,x),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(c(166));return Tn(i),null}if(t=Zi(Or.current),sa(i)){f=i.stateNode,l=i.type;var y=i.memoizedProps;switch(f[Rr]=i,f[us]=y,t=(i.mode&1)!==0,l){case"dialog":Dt("cancel",f),Dt("close",f);break;case"iframe":case"object":case"embed":Dt("load",f);break;case"video":case"audio":for(x=0;x<ss.length;x++)Dt(ss[x],f);break;case"source":Dt("error",f);break;case"img":case"image":case"link":Dt("error",f),Dt("load",f);break;case"details":Dt("toggle",f);break;case"input":Hn(f,y),Dt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Dt("invalid",f);break;case"textarea":Fo(f,y),Dt("invalid",f)}pt(l,y),x=null;for(var I in y)if(y.hasOwnProperty(I)){var M=y[I];I==="children"?typeof M=="string"?f.textContent!==M&&(y.suppressHydrationWarning!==!0&&Js(f.textContent,M,t),x=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&Js(f.textContent,M,t),x=["children",""+M]):w.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&Dt("scroll",f)}switch(l){case"input":gt(f),Et(f,y,!0);break;case"textarea":gt(f),ro(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=$s)}f=x,i.updateQueue=f,f!==null&&(i.flags|=4)}else{I=x.nodeType===9?x:x.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dn(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=I.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof f.is=="string"?t=I.createElement(l,{is:f.is}):(t=I.createElement(l),l==="select"&&(I=t,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):t=I.createElementNS(t,l),t[Rr]=i,t[us]=f,S1(t,i,!1,!1),i.stateNode=t;e:{switch(I=Tt(l,f),l){case"dialog":Dt("cancel",t),Dt("close",t),x=f;break;case"iframe":case"object":case"embed":Dt("load",t),x=f;break;case"video":case"audio":for(x=0;x<ss.length;x++)Dt(ss[x],t);x=f;break;case"source":Dt("error",t),x=f;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),x=f;break;case"details":Dt("toggle",t),x=f;break;case"input":Hn(t,f),x=Ar(t,f),Dt("invalid",t);break;case"option":x=f;break;case"select":t._wrapperState={wasMultiple:!!f.multiple},x=H({},f,{value:void 0}),Dt("invalid",t);break;case"textarea":Fo(t,f),x=ti(t,f),Dt("invalid",t);break;default:x=f}pt(l,x),M=x;for(y in M)if(M.hasOwnProperty(y)){var B=M[y];y==="style"?Ce(t,B):y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&ln(t,B)):y==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&ni(t,B):typeof B=="number"&&ni(t,""+B):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(w.hasOwnProperty(y)?B!=null&&y==="onScroll"&&Dt("scroll",t):B!=null&&le(t,y,B,I))}switch(l){case"input":gt(t),Et(t,f,!1);break;case"textarea":gt(t),ro(t);break;case"option":f.value!=null&&t.setAttribute("value",""+Ae(f.value));break;case"select":t.multiple=!!f.multiple,y=f.value,y!=null?Ne(t,!!f.multiple,y,!1):f.defaultValue!=null&&Ne(t,!!f.multiple,f.defaultValue,!0);break;default:typeof x.onClick=="function"&&(t.onclick=$s)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Tn(i),null;case 6:if(t&&i.stateNode!=null)T1(t,i,t.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(c(166));if(l=Zi(gs.current),Zi(Or.current),sa(i)){if(f=i.stateNode,l=i.memoizedProps,f[Rr]=i,(y=f.nodeValue!==l)&&(t=qn,t!==null))switch(t.tag){case 3:Js(f.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Js(f.nodeValue,l,(t.mode&1)!==0)}y&&(i.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Rr]=i,i.stateNode=f}return Tn(i),null;case 13:if(bt(Ut),f=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&Qn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Rc(),vo(),i.flags|=98560,y=!1;else if(y=sa(i),f!==null&&f.dehydrated!==null){if(t===null){if(!y)throw Error(c(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(c(317));y[Rr]=i}else vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tn(i),y=!1}else xr!==null&&(uu(xr),xr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(f=f!==null,f!==(t!==null&&t.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Ut.current&1)!==0?sn===0&&(sn=3):du())),i.updateQueue!==null&&(i.flags|=4),Tn(i),null);case 4:return _o(),Jl(t,i),t===null&&as(i.stateNode.containerInfo),Tn(i),null;case 10:return Tl(i.type._context),Tn(i),null;case 17:return Ln(i.type)&&ta(),Tn(i),null;case 19:if(bt(Ut),y=i.memoizedState,y===null)return Tn(i),null;if(f=(i.flags&128)!==0,I=y.rendering,I===null)if(f)ys(y,!1);else{if(sn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(I=da(t),I!==null){for(i.flags|=128,ys(y,!1),f=I.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=l,l=i.child;l!==null;)y=l,t=f,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=t,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,t=I.dependencies,y.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return Ot(Ut,Ut.current&1|2),i.child}t=t.sibling}y.tail!==null&&mt()>Do&&(i.flags|=128,f=!0,ys(y,!1),i.lanes=4194304)}else{if(!f)if(t=da(I),t!==null){if(i.flags|=128,f=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),ys(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!Pt)return Tn(i),null}else 2*mt()-y.renderingStartTime>Do&&l!==1073741824&&(i.flags|=128,f=!0,ys(y,!1),i.lanes=4194304);y.isBackwards?(I.sibling=i.child,i.child=I):(l=y.last,l!==null?l.sibling=I:i.child=I,y.last=I)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=mt(),i.sibling=null,l=Ut.current,Ot(Ut,f?l&1|2:l&1),i):(Tn(i),null);case 22:case 23:return fu(),f=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(Jn&1073741824)!==0&&(Tn(i),i.subtreeFlags&6&&(i.flags|=8192)):Tn(i),null;case 24:return null;case 25:return null}throw Error(c(156,i.tag))}function Wf(t,i){switch(El(i),i.tag){case 1:return Ln(i.type)&&ta(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _o(),bt(Pn),bt(Sn),Ml(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Dl(i),null;case 13:if(bt(Ut),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(c(340));vo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return bt(Ut),null;case 4:return _o(),null;case 10:return Tl(i.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var Ca=!1,_n=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ro(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){Wt(t,i,f)}else l.current=null}function $l(t,i,l){try{l()}catch(f){Wt(t,i,f)}}var _1=!1;function Xf(t,i){if(fl=_r,t=et(),Ke(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var x=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,M=-1,B=-1,Q=0,de=0,ge=t,ce=null;t:for(;;){for(var Ie;ge!==l||x!==0&&ge.nodeType!==3||(M=I+x),ge!==y||f!==0&&ge.nodeType!==3||(B=I+f),ge.nodeType===3&&(I+=ge.nodeValue.length),(Ie=ge.firstChild)!==null;)ce=ge,ge=Ie;for(;;){if(ge===t)break t;if(ce===l&&++Q===x&&(M=I),ce===y&&++de===f&&(B=I),(Ie=ge.nextSibling)!==null)break;ge=ce,ce=ge.parentNode}ge=Ie}l=M===-1||B===-1?null:{start:M,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(dl={focusedElem:t,selectionRange:l},_r=!1,De=i;De!==null;)if(i=De,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,De=t;else for(;De!==null;){i=De;try{var be=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var ke=be.memoizedProps,qt=be.memoizedState,W=i.stateNode,U=W.getSnapshotBeforeUpdate(i.elementType===i.type?ke:mr(i.type,ke),qt);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var X=i.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(we){Wt(i,i.return,we)}if(t=i.sibling,t!==null){t.return=i.return,De=t;break}De=i.return}return be=_1,_1=!1,be}function Es(t,i,l){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var x=f=f.next;do{if((x.tag&t)===t){var y=x.destroy;x.destroy=void 0,y!==void 0&&$l(i,l,y)}x=x.next}while(x!==f)}}function Aa(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var f=l.create;l.destroy=f()}l=l.next}while(l!==i)}}function eu(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function N1(t){var i=t.alternate;i!==null&&(t.alternate=null,N1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Rr],delete i[us],delete i[xl],delete i[_f],delete i[Nf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R1(t){return t.tag===5||t.tag===3||t.tag===4}function O1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tu(t,i,l){var f=t.tag;if(f===5||f===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=$s));else if(f!==4&&(t=t.child,t!==null))for(tu(t,i,l),t=t.sibling;t!==null;)tu(t,i,l),t=t.sibling}function nu(t,i,l){var f=t.tag;if(f===5||f===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(f!==4&&(t=t.child,t!==null))for(nu(t,i,l),t=t.sibling;t!==null;)nu(t,i,l),t=t.sibling}var wn=null,wr=!1;function Ci(t,i,l){for(l=l.child;l!==null;)D1(t,i,l),l=l.sibling}function D1(t,i,l){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ut,l)}catch{}switch(l.tag){case 5:_n||Ro(l,i);case 6:var f=wn,x=wr;wn=null,Ci(t,i,l),wn=f,wr=x,wn!==null&&(wr?(t=wn,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):wn.removeChild(l.stateNode));break;case 18:wn!==null&&(wr?(t=wn,l=l.stateNode,t.nodeType===8?pl(t.parentNode,l):t.nodeType===1&&pl(t,l),hr(t)):pl(wn,l.stateNode));break;case 4:f=wn,x=wr,wn=l.stateNode.containerInfo,wr=!0,Ci(t,i,l),wn=f,wr=x;break;case 0:case 11:case 14:case 15:if(!_n&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){x=f=f.next;do{var y=x,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&$l(l,i,I),x=x.next}while(x!==f)}Ci(t,i,l);break;case 1:if(!_n&&(Ro(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(M){Wt(l,i,M)}Ci(t,i,l);break;case 21:Ci(t,i,l);break;case 22:l.mode&1?(_n=(f=_n)||l.memoizedState!==null,Ci(t,i,l),_n=f):Ci(t,i,l);break;default:Ci(t,i,l)}}function b1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Gf),i.forEach(function(f){var x=ed.bind(null,t,f);l.has(f)||(l.add(f),f.then(x,x))})}}function yr(t,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var x=l[f];try{var y=t,I=i,M=I;e:for(;M!==null;){switch(M.tag){case 5:wn=M.stateNode,wr=!1;break e;case 3:wn=M.stateNode.containerInfo,wr=!0;break e;case 4:wn=M.stateNode.containerInfo,wr=!0;break e}M=M.return}if(wn===null)throw Error(c(160));D1(y,I,x),wn=null,wr=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(Q){Wt(x,i,Q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)M1(i,t),i=i.sibling}function M1(t,i){var l=t.alternate,f=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(i,t),br(t),f&4){try{Es(3,t,t.return),Aa(3,t)}catch(ke){Wt(t,t.return,ke)}try{Es(5,t,t.return)}catch(ke){Wt(t,t.return,ke)}}break;case 1:yr(i,t),br(t),f&512&&l!==null&&Ro(l,l.return);break;case 5:if(yr(i,t),br(t),f&512&&l!==null&&Ro(l,l.return),t.flags&32){var x=t.stateNode;try{ni(x,"")}catch(ke){Wt(t,t.return,ke)}}if(f&4&&(x=t.stateNode,x!=null)){var y=t.memoizedProps,I=l!==null?l.memoizedProps:y,M=t.type,B=t.updateQueue;if(t.updateQueue=null,B!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&ei(x,y),Tt(M,I);var Q=Tt(M,y);for(I=0;I<B.length;I+=2){var de=B[I],ge=B[I+1];de==="style"?Ce(x,ge):de==="dangerouslySetInnerHTML"?ln(x,ge):de==="children"?ni(x,ge):le(x,de,ge,Q)}switch(M){case"input":Xt(x,y);break;case"textarea":er(x,y);break;case"select":var ce=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!y.multiple;var Ie=y.value;Ie!=null?Ne(x,!!y.multiple,Ie,!1):ce!==!!y.multiple&&(y.defaultValue!=null?Ne(x,!!y.multiple,y.defaultValue,!0):Ne(x,!!y.multiple,y.multiple?[]:"",!1))}x[us]=y}catch(ke){Wt(t,t.return,ke)}}break;case 6:if(yr(i,t),br(t),f&4){if(t.stateNode===null)throw Error(c(162));x=t.stateNode,y=t.memoizedProps;try{x.nodeValue=y}catch(ke){Wt(t,t.return,ke)}}break;case 3:if(yr(i,t),br(t),f&4&&l!==null&&l.memoizedState.isDehydrated)try{hr(i.containerInfo)}catch(ke){Wt(t,t.return,ke)}break;case 4:yr(i,t),br(t);break;case 13:yr(i,t),br(t),x=t.child,x.flags&8192&&(y=x.memoizedState!==null,x.stateNode.isHidden=y,!y||x.alternate!==null&&x.alternate.memoizedState!==null||(ou=mt())),f&4&&b1(t);break;case 22:if(de=l!==null&&l.memoizedState!==null,t.mode&1?(_n=(Q=_n)||de,yr(i,t),_n=Q):yr(i,t),br(t),f&8192){if(Q=t.memoizedState!==null,(t.stateNode.isHidden=Q)&&!de&&(t.mode&1)!==0)for(De=t,de=t.child;de!==null;){for(ge=De=de;De!==null;){switch(ce=De,Ie=ce.child,ce.tag){case 0:case 11:case 14:case 15:Es(4,ce,ce.return);break;case 1:Ro(ce,ce.return);var be=ce.stateNode;if(typeof be.componentWillUnmount=="function"){f=ce,l=ce.return;try{i=f,be.props=i.memoizedProps,be.state=i.memoizedState,be.componentWillUnmount()}catch(ke){Wt(f,l,ke)}}break;case 5:Ro(ce,ce.return);break;case 22:if(ce.memoizedState!==null){L1(ge);continue}}Ie!==null?(Ie.return=ce,De=Ie):L1(ge)}de=de.sibling}e:for(de=null,ge=t;;){if(ge.tag===5){if(de===null){de=ge;try{x=ge.stateNode,Q?(y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=ge.stateNode,B=ge.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,M.style.display=Bt("display",I))}catch(ke){Wt(t,t.return,ke)}}}else if(ge.tag===6){if(de===null)try{ge.stateNode.nodeValue=Q?"":ge.memoizedProps}catch(ke){Wt(t,t.return,ke)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===t)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===t)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===t)break e;de===ge&&(de=null),ge=ge.return}de===ge&&(de=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:yr(i,t),br(t),f&4&&b1(t);break;case 21:break;default:yr(i,t),br(t)}}function br(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if(R1(l)){var f=l;break e}l=l.return}throw Error(c(160))}switch(f.tag){case 5:var x=f.stateNode;f.flags&32&&(ni(x,""),f.flags&=-33);var y=O1(t);nu(t,y,x);break;case 3:case 4:var I=f.stateNode.containerInfo,M=O1(t);tu(t,M,I);break;default:throw Error(c(161))}}catch(B){Wt(t,t.return,B)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jf(t,i,l){De=t,k1(t)}function k1(t,i,l){for(var f=(t.mode&1)!==0;De!==null;){var x=De,y=x.child;if(x.tag===22&&f){var I=x.memoizedState!==null||Ca;if(!I){var M=x.alternate,B=M!==null&&M.memoizedState!==null||_n;M=Ca;var Q=_n;if(Ca=I,(_n=B)&&!Q)for(De=x;De!==null;)I=De,B=I.child,I.tag===22&&I.memoizedState!==null?B1(x):B!==null?(B.return=I,De=B):B1(x);for(;y!==null;)De=y,k1(y),y=y.sibling;De=x,Ca=M,_n=Q}P1(t)}else(x.subtreeFlags&8772)!==0&&y!==null?(y.return=x,De=y):P1(t)}}function P1(t){for(;De!==null;){var i=De;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:_n||Aa(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!_n)if(l===null)f.componentDidMount();else{var x=i.elementType===i.type?l.memoizedProps:mr(i.type,l.memoizedProps);f.componentDidUpdate(x,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Lc(i,y,f);break;case 3:var I=i.updateQueue;if(I!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Lc(i,I,l)}break;case 5:var M=i.stateNode;if(l===null&&i.flags&4){l=M;var B=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Q=i.alternate;if(Q!==null){var de=Q.memoizedState;if(de!==null){var ge=de.dehydrated;ge!==null&&hr(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(c(163))}_n||i.flags&512&&eu(i)}catch(ce){Wt(i,i.return,ce)}}if(i===t){De=null;break}if(l=i.sibling,l!==null){l.return=i.return,De=l;break}De=i.return}}function L1(t){for(;De!==null;){var i=De;if(i===t){De=null;break}var l=i.sibling;if(l!==null){l.return=i.return,De=l;break}De=i.return}}function B1(t){for(;De!==null;){var i=De;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Aa(4,i)}catch(B){Wt(i,l,B)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var x=i.return;try{f.componentDidMount()}catch(B){Wt(i,x,B)}}var y=i.return;try{eu(i)}catch(B){Wt(i,y,B)}break;case 5:var I=i.return;try{eu(i)}catch(B){Wt(i,I,B)}}}catch(B){Wt(i,i.return,B)}if(i===t){De=null;break}var M=i.sibling;if(M!==null){M.return=i.return,De=M;break}De=i.return}}var Yf=Math.ceil,va=xe.ReactCurrentDispatcher,ru=xe.ReactCurrentOwner,cr=xe.ReactCurrentBatchConfig,dt=0,dn=null,Jt=null,yn=0,Jn=0,Oo=xi(0),sn=0,Cs=null,Qi=0,Sa=0,iu=0,As=null,Fn=null,ou=0,Do=1/0,Kr=null,Ia=!1,su=null,Ai=null,Ta=!1,vi=null,_a=0,vs=0,au=null,Na=-1,Ra=0;function On(){return(dt&6)!==0?mt():Na!==-1?Na:Na=mt()}function Si(t){return(t.mode&1)===0?1:(dt&2)!==0&&yn!==0?yn&-yn:Of.transition!==null?(Ra===0&&(Ra=en()),Ra):(t=Je,t!==0||(t=window.event,t=t===void 0?16:qo(t.type)),t)}function Er(t,i,l,f){if(50<vs)throw vs=0,au=null,Error(c(185));R(t,l,f),((dt&2)===0||t!==dn)&&(t===dn&&((dt&2)===0&&(Sa|=l),sn===4&&Ii(t,yn)),Un(t,f),l===1&&dt===0&&(i.mode&1)===0&&(Do=mt()+500,ra&&wi()))}function Un(t,i){var l=t.callbackNode;oi(t,i);var f=jn(t,t===dn?yn:0);if(f===0)l!==null&&un(l),t.callbackNode=null,t.callbackPriority=0;else if(i=f&-f,t.callbackPriority!==i){if(l!=null&&un(l),i===1)t.tag===0?Rf(U1.bind(null,t)):Sc(U1.bind(null,t)),If(function(){(dt&6)===0&&wi()}),l=null;else{switch(Fs(f)){case 1:l=ue;break;case 4:l=Ls;break;case 16:l=St;break;case 536870912:l=Bs;break;default:l=St}l=Y1(l,F1.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function F1(t,i){if(Na=-1,Ra=0,(dt&6)!==0)throw Error(c(327));var l=t.callbackNode;if(bo()&&t.callbackNode!==l)return null;var f=jn(t,t===dn?yn:0);if(f===0)return null;if((f&30)!==0||(f&t.expiredLanes)!==0||i)i=Oa(t,f);else{i=f;var x=dt;dt|=2;var y=H1();(dn!==t||yn!==i)&&(Kr=null,Do=mt()+500,$i(t,i));do try{qf();break}catch(M){V1(t,M)}while(!0);Il(),va.current=y,dt=x,Jt!==null?i=0:(dn=null,yn=0,i=sn)}if(i!==0){if(i===2&&(x=wt(t),x!==0&&(f=x,i=lu(t,x))),i===1)throw l=Cs,$i(t,0),Ii(t,f),Un(t,mt()),l;if(i===6)Ii(t,f);else{if(x=t.current.alternate,(f&30)===0&&!Kf(x)&&(i=Oa(t,f),i===2&&(y=wt(t),y!==0&&(f=y,i=lu(t,y))),i===1))throw l=Cs,$i(t,0),Ii(t,f),Un(t,mt()),l;switch(t.finishedWork=x,t.finishedLanes=f,i){case 0:case 1:throw Error(c(345));case 2:eo(t,Fn,Kr);break;case 3:if(Ii(t,f),(f&130023424)===f&&(i=ou+500-mt(),10<i)){if(jn(t,0)!==0)break;if(x=t.suspendedLanes,(x&f)!==f){On(),t.pingedLanes|=t.suspendedLanes&x;break}t.timeoutHandle=gl(eo.bind(null,t,Fn,Kr),i);break}eo(t,Fn,Kr);break;case 4:if(Ii(t,f),(f&4194240)===f)break;for(i=t.eventTimes,x=-1;0<f;){var I=31-Nn(f);y=1<<I,I=i[I],I>x&&(x=I),f&=~y}if(f=x,f=mt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Yf(f/1960))-f,10<f){t.timeoutHandle=gl(eo.bind(null,t,Fn,Kr),f);break}eo(t,Fn,Kr);break;case 5:eo(t,Fn,Kr);break;default:throw Error(c(329))}}}return Un(t,mt()),t.callbackNode===l?F1.bind(null,t):null}function lu(t,i){var l=As;return t.current.memoizedState.isDehydrated&&($i(t,i).flags|=256),t=Oa(t,i),t!==2&&(i=Fn,Fn=l,i!==null&&uu(i)),t}function uu(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function Kf(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var x=l[f],y=x.getSnapshot;x=x.value;try{if(!V(y(),x))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(t,i){for(i&=~iu,i&=~Sa,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-Nn(i),f=1<<l;t[l]=-1,i&=~f}}function U1(t){if((dt&6)!==0)throw Error(c(327));bo();var i=jn(t,0);if((i&1)===0)return Un(t,mt()),null;var l=Oa(t,i);if(t.tag!==0&&l===2){var f=wt(t);f!==0&&(i=f,l=lu(t,f))}if(l===1)throw l=Cs,$i(t,0),Ii(t,i),Un(t,mt()),l;if(l===6)throw Error(c(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,eo(t,Fn,Kr),Un(t,mt()),null}function cu(t,i){var l=dt;dt|=1;try{return t(i)}finally{dt=l,dt===0&&(Do=mt()+500,ra&&wi())}}function Ji(t){vi!==null&&vi.tag===0&&(dt&6)===0&&bo();var i=dt;dt|=1;var l=cr.transition,f=Je;try{if(cr.transition=null,Je=1,t)return t()}finally{Je=f,cr.transition=l,dt=i,(dt&6)===0&&wi()}}function fu(){Jn=Oo.current,bt(Oo)}function $i(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,Sf(l)),Jt!==null)for(l=Jt.return;l!==null;){var f=l;switch(El(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ta();break;case 3:_o(),bt(Pn),bt(Sn),Ml();break;case 5:Dl(f);break;case 4:_o();break;case 13:bt(Ut);break;case 19:bt(Ut);break;case 10:Tl(f.type._context);break;case 22:case 23:fu()}l=l.return}if(dn=t,Jt=t=Ti(t.current,null),yn=Jn=i,sn=0,Cs=null,iu=Sa=Qi=0,Fn=As=null,Ki!==null){for(i=0;i<Ki.length;i++)if(l=Ki[i],f=l.interleaved,f!==null){l.interleaved=null;var x=f.next,y=l.pending;if(y!==null){var I=y.next;y.next=x,f.next=I}l.pending=f}Ki=null}return t}function V1(t,i){do{var l=Jt;try{if(Il(),ha.current=ma,ga){for(var f=Vt.memoizedState;f!==null;){var x=f.queue;x!==null&&(x.pending=null),f=f.next}ga=!1}if(qi=0,fn=on=Vt=null,ps=!1,xs=0,ru.current=null,l===null||l.return===null){sn=1,Cs=i,Jt=null;break}e:{var y=t,I=l.return,M=l,B=i;if(i=yn,M.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Q=B,de=M,ge=de.tag;if((de.mode&1)===0&&(ge===0||ge===11||ge===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ie=f1(I);if(Ie!==null){Ie.flags&=-257,d1(Ie,I,M,y,i),Ie.mode&1&&c1(y,Q,i),i=Ie,B=Q;var be=i.updateQueue;if(be===null){var ke=new Set;ke.add(B),i.updateQueue=ke}else be.add(B);break e}else{if((i&1)===0){c1(y,Q,i),du();break e}B=Error(c(426))}}else if(Pt&&M.mode&1){var qt=f1(I);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),d1(qt,I,M,y,i),vl(No(B,M));break e}}y=B=No(B,M),sn!==4&&(sn=2),As===null?As=[y]:As.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var W=l1(y,B,i);Pc(y,W);break e;case 1:M=B;var U=y.type,X=y.stateNode;if((y.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Ai===null||!Ai.has(X)))){y.flags|=65536,i&=-i,y.lanes|=i;var we=u1(y,M,i);Pc(y,we);break e}}y=y.return}while(y!==null)}W1(l)}catch(Le){i=Le,Jt===l&&l!==null&&(Jt=l=l.return);continue}break}while(!0)}function H1(){var t=va.current;return va.current=ma,t===null?ma:t}function du(){(sn===0||sn===3||sn===2)&&(sn=4),dn===null||(Qi&268435455)===0&&(Sa&268435455)===0||Ii(dn,yn)}function Oa(t,i){var l=dt;dt|=2;var f=H1();(dn!==t||yn!==i)&&(Kr=null,$i(t,i));do try{Zf();break}catch(x){V1(t,x)}while(!0);if(Il(),dt=l,va.current=f,Jt!==null)throw Error(c(261));return dn=null,yn=0,sn}function Zf(){for(;Jt!==null;)z1(Jt)}function qf(){for(;Jt!==null&&!_t();)z1(Jt)}function z1(t){var i=j1(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,i===null?W1(t):Jt=i,ru.current=null}function W1(t){var i=t;do{var l=i.alternate;if(t=i.return,(i.flags&32768)===0){if(l=zf(l,i,Jn),l!==null){Jt=l;return}}else{if(l=Wf(l,i),l!==null){l.flags&=32767,Jt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Jt=null;return}}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=t}while(i!==null);sn===0&&(sn=5)}function eo(t,i,l){var f=Je,x=cr.transition;try{cr.transition=null,Je=1,Qf(t,i,l,f)}finally{cr.transition=x,Je=f}return null}function Qf(t,i,l,f){do bo();while(vi!==null);if((dt&6)!==0)throw Error(c(327));l=t.finishedWork;var x=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(c(177));t.callbackNode=null,t.callbackPriority=0;var y=l.lanes|l.childLanes;if(Be(t,y),t===dn&&(Jt=dn=null,yn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ta||(Ta=!0,Y1(St,function(){return bo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=cr.transition,cr.transition=null;var I=Je;Je=1;var M=dt;dt|=4,ru.current=null,Xf(t,l),M1(l,t),vn(dl),_r=!!fl,dl=fl=null,t.current=l,jf(l),Ps(),dt=M,Je=I,cr.transition=y}else t.current=l;if(Ta&&(Ta=!1,vi=t,_a=x),y=t.pendingLanes,y===0&&(Ai=null),ot(l.stateNode),Un(t,mt()),i!==null)for(f=t.onRecoverableError,l=0;l<i.length;l++)x=i[l],f(x.value,{componentStack:x.stack,digest:x.digest});if(Ia)throw Ia=!1,t=su,su=null,t;return(_a&1)!==0&&t.tag!==0&&bo(),y=t.pendingLanes,(y&1)!==0?t===au?vs++:(vs=0,au=t):vs=0,wi(),null}function bo(){if(vi!==null){var t=Fs(_a),i=cr.transition,l=Je;try{if(cr.transition=null,Je=16>t?16:t,vi===null)var f=!1;else{if(t=vi,vi=null,_a=0,(dt&6)!==0)throw Error(c(331));var x=dt;for(dt|=4,De=t.current;De!==null;){var y=De,I=y.child;if((De.flags&16)!==0){var M=y.deletions;if(M!==null){for(var B=0;B<M.length;B++){var Q=M[B];for(De=Q;De!==null;){var de=De;switch(de.tag){case 0:case 11:case 15:Es(8,de,y)}var ge=de.child;if(ge!==null)ge.return=de,De=ge;else for(;De!==null;){de=De;var ce=de.sibling,Ie=de.return;if(N1(de),de===Q){De=null;break}if(ce!==null){ce.return=Ie,De=ce;break}De=Ie}}}var be=y.alternate;if(be!==null){var ke=be.child;if(ke!==null){be.child=null;do{var qt=ke.sibling;ke.sibling=null,ke=qt}while(ke!==null)}}De=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,De=I;else e:for(;De!==null;){if(y=De,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Es(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,De=W;break e}De=y.return}}var U=t.current;for(De=U;De!==null;){I=De;var X=I.child;if((I.subtreeFlags&2064)!==0&&X!==null)X.return=I,De=X;else e:for(I=U;De!==null;){if(M=De,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Aa(9,M)}}catch(Le){Wt(M,M.return,Le)}if(M===I){De=null;break e}var we=M.sibling;if(we!==null){we.return=M.return,De=we;break e}De=M.return}}if(dt=x,wi(),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ut,t)}catch{}f=!0}return f}finally{Je=l,cr.transition=i}}return!1}function G1(t,i,l){i=No(l,i),i=l1(t,i,1),t=Ei(t,i,1),i=On(),t!==null&&(R(t,1,i),Un(t,i))}function Wt(t,i,l){if(t.tag===3)G1(t,t,l);else for(;i!==null;){if(i.tag===3){G1(i,t,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ai===null||!Ai.has(f))){t=No(l,t),t=u1(i,t,1),i=Ei(i,t,1),t=On(),i!==null&&(R(i,1,t),Un(i,t));break}}i=i.return}}function Jf(t,i,l){var f=t.pingCache;f!==null&&f.delete(i),i=On(),t.pingedLanes|=t.suspendedLanes&l,dn===t&&(yn&l)===l&&(sn===4||sn===3&&(yn&130023424)===yn&&500>mt()-ou?$i(t,0):iu|=l),Un(t,i)}function X1(t,i){i===0&&((t.mode&1)===0?i=1:(i=ao,ao<<=1,(ao&130023424)===0&&(ao=4194304)));var l=On();t=Xr(t,i),t!==null&&(R(t,i,l),Un(t,l))}function $f(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),X1(t,l)}function ed(t,i){var l=0;switch(t.tag){case 13:var f=t.stateNode,x=t.memoizedState;x!==null&&(l=x.retryLane);break;case 19:f=t.stateNode;break;default:throw Error(c(314))}f!==null&&f.delete(i),X1(t,l)}var j1;j1=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||Pn.current)Bn=!0;else{if((t.lanes&l)===0&&(i.flags&128)===0)return Bn=!1,Hf(t,i,l);Bn=(t.flags&131072)!==0}else Bn=!1,Pt&&(i.flags&1048576)!==0&&Ic(i,oa,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Ea(t,i),t=i.pendingProps;var x=Eo(i,Sn.current);To(i,l),x=Ll(null,i,f,t,x,l);var y=Bl();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ln(f)?(y=!0,na(i)):y=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Rl(i),x.updater=wa,i.stateNode=x,x._reactInternals=i,Wl(i,f,t,l),i=Yl(null,i,f,!0,y,l)):(i.tag=0,Pt&&y&&yl(i),Rn(null,i,x,l),i=i.child),i;case 16:f=i.elementType;e:{switch(Ea(t,i),t=i.pendingProps,x=f._init,f=x(f._payload),i.type=f,x=i.tag=nd(f),t=mr(f,t),x){case 0:i=jl(null,i,f,t,l);break e;case 1:i=w1(null,i,f,t,l);break e;case 11:i=h1(null,i,f,t,l);break e;case 14:i=g1(null,i,f,mr(f.type,t),l);break e}throw Error(c(306,f,""))}return i;case 0:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:mr(f,x),jl(t,i,f,x,l);case 1:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:mr(f,x),w1(t,i,f,x,l);case 3:e:{if(y1(i),t===null)throw Error(c(387));f=i.pendingProps,y=i.memoizedState,x=y.element,kc(t,i),fa(i,f,null,l);var I=i.memoizedState;if(f=I.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){x=No(Error(c(423)),i),i=E1(t,i,f,l,x);break e}else if(f!==x){x=No(Error(c(424)),i),i=E1(t,i,f,l,x);break e}else for(Qn=pi(i.stateNode.containerInfo.firstChild),qn=i,Pt=!0,xr=null,l=bc(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vo(),f===x){i=Yr(t,i,l);break e}Rn(t,i,f,l)}i=i.child}return i;case 5:return Bc(i),t===null&&Al(i),f=i.type,x=i.pendingProps,y=t!==null?t.memoizedProps:null,I=x.children,hl(f,x)?I=null:y!==null&&hl(f,y)&&(i.flags|=32),m1(t,i),Rn(t,i,I,l),i.child;case 6:return t===null&&Al(i),null;case 13:return C1(t,i,l);case 4:return Ol(i,i.stateNode.containerInfo),f=i.pendingProps,t===null?i.child=So(i,null,f,l):Rn(t,i,f,l),i.child;case 11:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:mr(f,x),h1(t,i,f,x,l);case 7:return Rn(t,i,i.pendingProps,l),i.child;case 8:return Rn(t,i,i.pendingProps.children,l),i.child;case 12:return Rn(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(f=i.type._context,x=i.pendingProps,y=i.memoizedProps,I=x.value,Ot(la,f._currentValue),f._currentValue=I,y!==null)if(V(y.value,I)){if(y.children===x.children&&!Pn.current){i=Yr(t,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var M=y.dependencies;if(M!==null){I=y.child;for(var B=M.firstContext;B!==null;){if(B.context===f){if(y.tag===1){B=jr(-1,l&-l),B.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var de=Q.pending;de===null?B.next=B:(B.next=de.next,de.next=B),Q.pending=B}}y.lanes|=l,B=y.alternate,B!==null&&(B.lanes|=l),_l(y.return,l,i),M.lanes|=l;break}B=B.next}}else if(y.tag===10)I=y.type===i.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(c(341));I.lanes|=l,M=I.alternate,M!==null&&(M.lanes|=l),_l(I,l,i),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===i){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}Rn(t,i,x.children,l),i=i.child}return i;case 9:return x=i.type,f=i.pendingProps.children,To(i,l),x=lr(x),f=f(x),i.flags|=1,Rn(t,i,f,l),i.child;case 14:return f=i.type,x=mr(f,i.pendingProps),x=mr(f.type,x),g1(t,i,f,x,l);case 15:return p1(t,i,i.type,i.pendingProps,l);case 17:return f=i.type,x=i.pendingProps,x=i.elementType===f?x:mr(f,x),Ea(t,i),i.tag=1,Ln(f)?(t=!0,na(i)):t=!1,To(i,l),s1(i,f,x),Wl(i,f,x,l),Yl(null,i,f,!0,t,l);case 19:return v1(t,i,l);case 22:return x1(t,i,l)}throw Error(c(156,i.tag))};function Y1(t,i){return Gn(t,i)}function td(t,i,l,f){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,i,l,f){return new td(t,i,l,f)}function hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nd(t){if(typeof t=="function")return hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pe)return 11;if(t===$)return 14}return 2}function Ti(t,i){var l=t.alternate;return l===null?(l=fr(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Da(t,i,l,f,x,y){var I=2;if(f=t,typeof t=="function")hu(t)&&(I=1);else if(typeof t=="string")I=5;else e:switch(t){case se:return to(l.children,x,y,i);case _e:I=8,x|=8;break;case re:return t=fr(12,l,i,x|2),t.elementType=re,t.lanes=y,t;case Ge:return t=fr(13,l,i,x),t.elementType=Ge,t.lanes=y,t;case ct:return t=fr(19,l,i,x),t.elementType=ct,t.lanes=y,t;case Te:return ba(l,x,y,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yt:I=10;break e;case qe:I=9;break e;case Pe:I=11;break e;case $:I=14;break e;case $e:I=16,f=null;break e}throw Error(c(130,t==null?t:typeof t,""))}return i=fr(I,l,i,x),i.elementType=t,i.type=f,i.lanes=y,i}function to(t,i,l,f){return t=fr(7,t,f,i),t.lanes=l,t}function ba(t,i,l,f){return t=fr(22,t,f,i),t.elementType=Te,t.lanes=l,t.stateNode={isHidden:!1},t}function gu(t,i,l){return t=fr(6,t,null,i),t.lanes=l,t}function pu(t,i,l){return i=fr(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function rd(t,i,l,f,x){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=z(0),this.expirationTimes=z(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.identifierPrefix=f,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function xu(t,i,l,f,x,y,I,M,B){return t=new rd(t,i,l,M,B),i===1?(i=1,y===!0&&(i|=8)):i=0,y=fr(3,null,null,i),t.current=y,y.stateNode=t,y.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(y),t}function id(t,i,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Me,key:f==null?null:""+f,children:t,containerInfo:i,implementation:l}}function K1(t){if(!t)return mi;t=t._reactInternals;e:{if(kn(t)!==t||t.tag!==1)throw Error(c(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ln(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(c(171))}if(t.tag===1){var l=t.type;if(Ln(l))return Ac(t,l,i)}return i}function Z1(t,i,l,f,x,y,I,M,B){return t=xu(l,f,!0,t,x,y,I,M,B),t.context=K1(null),l=t.current,f=On(),x=Si(l),y=jr(f,x),y.callback=i??null,Ei(l,y,x),t.current.lanes=x,R(t,x,f),Un(t,f),t}function Ma(t,i,l,f){var x=i.current,y=On(),I=Si(x);return l=K1(l),i.context===null?i.context=l:i.pendingContext=l,i=jr(y,I),i.payload={element:t},f=f===void 0?null:f,f!==null&&(i.callback=f),t=Ei(x,i,I),t!==null&&(Er(t,x,I,y),ca(t,x,I)),I}function ka(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function mu(t,i){q1(t,i),(t=t.alternate)&&q1(t,i)}function od(){return null}var Q1=typeof reportError=="function"?reportError:function(t){console.error(t)};function wu(t){this._internalRoot=t}Pa.prototype.render=wu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(c(409));Ma(t,i,null,null)},Pa.prototype.unmount=wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ji(function(){Ma(null,t,null,null)}),i[Hr]=null}};function Pa(t){this._internalRoot=t}Pa.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nt();t={blockedOn:null,target:t,priority:i};for(var l=0;l<pn.length&&i!==0&&i<pn[l].priority;l++);pn.splice(l,0,t),l===0&&Vs(t)}};function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function La(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J1(){}function sd(t,i,l,f,x){if(x){if(typeof f=="function"){var y=f;f=function(){var Q=ka(I);y.call(Q)}}var I=Z1(i,f,t,0,null,!1,!1,"",J1);return t._reactRootContainer=I,t[Hr]=I.current,as(t.nodeType===8?t.parentNode:t),Ji(),I}for(;x=t.lastChild;)t.removeChild(x);if(typeof f=="function"){var M=f;f=function(){var Q=ka(B);M.call(Q)}}var B=xu(t,0,!1,null,null,!1,!1,"",J1);return t._reactRootContainer=B,t[Hr]=B.current,as(t.nodeType===8?t.parentNode:t),Ji(function(){Ma(i,B,l,f)}),B}function Ba(t,i,l,f,x){var y=l._reactRootContainer;if(y){var I=y;if(typeof x=="function"){var M=x;x=function(){var B=ka(I);M.call(B)}}Ma(i,I,t,x)}else I=sd(l,i,t,x,f);return ka(I)}lo=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=It(i.pendingLanes);l!==0&&(Ht(i,l|1),Un(i,mt()),(dt&6)===0&&(Do=mt()+500,wi()))}break;case 13:Ji(function(){var f=Xr(t,1);if(f!==null){var x=On();Er(f,t,1,x)}}),mu(t,1)}},An=function(t){if(t.tag===13){var i=Xr(t,134217728);if(i!==null){var l=On();Er(i,t,134217728,l)}mu(t,134217728)}},Fe=function(t){if(t.tag===13){var i=Si(t),l=Xr(t,i);if(l!==null){var f=On();Er(l,t,i,f)}mu(t,i)}},Nt=function(){return Je},Yo=function(t,i){var l=Je;try{return Je=t,i()}finally{Je=l}},oo=function(t,i,l){switch(i){case"input":if(Xt(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==t&&f.form===t.form){var x=ea(f);if(!x)throw Error(c(90));Oi(f),Xt(f,x)}}}break;case"textarea":er(t,l);break;case"select":i=l.value,i!=null&&Ne(t,!!l.multiple,i,!1)}},so=cu,$t=Ji;var ad={usingClientEntryPoint:!1,Events:[cs,wo,ea,Vo,Mn,cu]},Ss={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ld={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ms(t),t===null?null:t.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||od,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{ut=Fa.inject(ld),Qe=Fa}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ad,Vn.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(i))throw Error(c(200));return id(t,i,null,l)},Vn.createRoot=function(t,i){if(!yu(t))throw Error(c(299));var l=!1,f="",x=Q1;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=xu(t,1,!1,null,null,l,!1,f,x),t[Hr]=i.current,as(t.nodeType===8?t.parentNode:t),new wu(i)},Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=Ms(i),t=t===null?null:t.stateNode,t},Vn.flushSync=function(t){return Ji(t)},Vn.hydrate=function(t,i,l){if(!La(i))throw Error(c(200));return Ba(null,t,i,!0,l)},Vn.hydrateRoot=function(t,i,l){if(!yu(t))throw Error(c(405));var f=l!=null&&l.hydratedSources||null,x=!1,y="",I=Q1;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),i=Z1(i,null,t,1,l??null,x,!1,y,I),t[Hr]=i.current,as(t),f)for(t=0;t<f.length;t++)l=f[t],x=l._getVersion,x=x(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,x]:i.mutableSourceEagerHydrationData.push(l,x);return new Pa(i)},Vn.render=function(t,i,l){if(!La(i))throw Error(c(200));return Ba(null,t,i,!1,l)},Vn.unmountComponentAtNode=function(t){if(!La(t))throw Error(c(40));return t._reactRootContainer?(Ji(function(){Ba(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1},Vn.unstable_batchedUpdates=cu,Vn.unstable_renderSubtreeIntoContainer=function(t,i,l,f){if(!La(l))throw Error(c(200));if(t==null||t._reactInternals===void 0)throw Error(c(38));return Ba(t,i,l,!1,f)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var s0;function md(){if(s0)return Au.exports;s0=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),Au.exports=xd(),Au.exports}var a0;function wd(){if(a0)return Va;a0=1;var h=md();return Va.createRoot=h.createRoot,Va.hydrateRoot=h.hydrateRoot,Va}var yd=wd();const Ed=Za(yd);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l0="popstate";function Cd(h={}){function g(C,w){let{pathname:m,search:_,hash:D}=C.location;return qu("",{pathname:m,search:_,hash:D},w.state&&w.state.usr||null,w.state&&w.state.key||"default")}function c(C,w){return typeof w=="string"?w:Rs(w)}return vd(g,c,null,h)}function an(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function Mr(h,g){if(!h){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function Ad(){return Math.random().toString(36).substring(2,10)}function u0(h,g){return{usr:h.state,key:h.key,idx:g}}function qu(h,g,c=null,C){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof g=="string"?Os(g):g,state:c,key:g&&g.key||C||Ad()}}function Rs({pathname:h="/",search:g="",hash:c=""}){return g&&g!=="?"&&(h+=g.charAt(0)==="?"?g:"?"+g),c&&c!=="#"&&(h+=c.charAt(0)==="#"?c:"#"+c),h}function Os(h){let g={};if(h){let c=h.indexOf("#");c>=0&&(g.hash=h.substring(c),h=h.substring(0,c));let C=h.indexOf("?");C>=0&&(g.search=h.substring(C),h=h.substring(0,C)),h&&(g.pathname=h)}return g}function vd(h,g,c,C={}){let{window:w=document.defaultView,v5Compat:m=!1}=C,_=w.history,D="POP",N=null,A=P();A==null&&(A=0,_.replaceState({..._.state,idx:A},""));function P(){return(_.state||{idx:null}).idx}function k(){D="POP";let ae=P(),te=ae==null?null:ae-A;A=ae,N&&N({action:D,location:j.location,delta:te})}function Y(ae,te){D="PUSH";let oe=qu(j.location,ae,te);A=P()+1;let le=u0(oe,A),xe=j.createHref(oe);try{_.pushState(le,"",xe)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;w.location.assign(xe)}m&&N&&N({action:D,location:j.location,delta:1})}function J(ae,te){D="REPLACE";let oe=qu(j.location,ae,te);A=P();let le=u0(oe,A),xe=j.createHref(oe);_.replaceState(le,"",xe),m&&N&&N({action:D,location:j.location,delta:0})}function ne(ae){return Sd(ae)}let j={get action(){return D},get location(){return h(w,_)},listen(ae){if(N)throw new Error("A history only accepts one active listener");return w.addEventListener(l0,k),N=ae,()=>{w.removeEventListener(l0,k),N=null}},createHref(ae){return g(w,ae)},createURL:ne,encodeLocation(ae){let te=ne(ae);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:Y,replace:J,go(ae){return _.go(ae)}};return j}function Sd(h,g=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),an(c,"No window.location.(origin|href) available to create URL");let C=typeof h=="string"?h:Rs(h);return C=C.replace(/ $/,"%20"),!g&&C.startsWith("//")&&(C=c+C),new URL(C,c)}function q0(h,g,c="/"){return Id(h,g,c,!1)}function Id(h,g,c,C){let w=typeof g=="string"?Os(g):g,m=Jr(w.pathname||"/",c);if(m==null)return null;let _=Q0(h);Td(_);let D=null;for(let N=0;D==null&&N<_.length;++N){let A=Bd(m);D=Pd(_[N],A,C)}return D}function Q0(h,g=[],c=[],C=""){let w=(m,_,D)=>{let N={relativePath:D===void 0?m.path||"":D,caseSensitive:m.caseSensitive===!0,childrenIndex:_,route:m};N.relativePath.startsWith("/")&&(an(N.relativePath.startsWith(C),`Absolute route path "${N.relativePath}" nested under path "${C}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(C.length));let A=Qr([C,N.relativePath]),P=c.concat(N);m.children&&m.children.length>0&&(an(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Q0(m.children,g,P,A)),!(m.path==null&&!m.index)&&g.push({path:A,score:Md(A,m.index),routesMeta:P})};return h.forEach((m,_)=>{if(m.path===""||!m.path?.includes("?"))w(m,_);else for(let D of J0(m.path))w(m,_,D)}),g}function J0(h){let g=h.split("/");if(g.length===0)return[];let[c,...C]=g,w=c.endsWith("?"),m=c.replace(/\?$/,"");if(C.length===0)return w?[m,""]:[m];let _=J0(C.join("/")),D=[];return D.push(..._.map(N=>N===""?m:[m,N].join("/"))),w&&D.push(..._),D.map(N=>h.startsWith("/")&&N===""?"/":N)}function Td(h){h.sort((g,c)=>g.score!==c.score?c.score-g.score:kd(g.routesMeta.map(C=>C.childrenIndex),c.routesMeta.map(C=>C.childrenIndex)))}var _d=/^:[\w-]+$/,Nd=3,Rd=2,Od=1,Dd=10,bd=-2,c0=h=>h==="*";function Md(h,g){let c=h.split("/"),C=c.length;return c.some(c0)&&(C+=bd),g&&(C+=Rd),c.filter(w=>!c0(w)).reduce((w,m)=>w+(_d.test(m)?Nd:m===""?Od:Dd),C)}function kd(h,g){return h.length===g.length&&h.slice(0,-1).every((C,w)=>C===g[w])?h[h.length-1]-g[g.length-1]:0}function Pd(h,g,c=!1){let{routesMeta:C}=h,w={},m="/",_=[];for(let D=0;D<C.length;++D){let N=C[D],A=D===C.length-1,P=m==="/"?g:g.slice(m.length)||"/",k=Ga({path:N.relativePath,caseSensitive:N.caseSensitive,end:A},P),Y=N.route;if(!k&&A&&c&&!C[C.length-1].route.index&&(k=Ga({path:N.relativePath,caseSensitive:N.caseSensitive,end:!1},P)),!k)return null;Object.assign(w,k.params),_.push({params:w,pathname:Qr([m,k.pathname]),pathnameBase:Hd(Qr([m,k.pathnameBase])),route:Y}),k.pathnameBase!=="/"&&(m=Qr([m,k.pathnameBase]))}return _}function Ga(h,g){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[c,C]=Ld(h.path,h.caseSensitive,h.end),w=g.match(c);if(!w)return null;let m=w[0],_=m.replace(/(.)\/+$/,"$1"),D=w.slice(1);return{params:C.reduce((A,{paramName:P,isOptional:k},Y)=>{if(P==="*"){let ne=D[Y]||"";_=m.slice(0,m.length-ne.length).replace(/(.)\/+$/,"$1")}const J=D[Y];return k&&!J?A[P]=void 0:A[P]=(J||"").replace(/%2F/g,"/"),A},{}),pathname:m,pathnameBase:_,pattern:h}}function Ld(h,g=!1,c=!0){Mr(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let C=[],w="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,D,N)=>(C.push({paramName:D,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(C.push({paramName:"*"}),w+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?w+="\\/*$":h!==""&&h!=="/"&&(w+="(?:(?=\\/|$))"),[new RegExp(w,g?void 0:"i"),C]}function Bd(h){try{return h.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return Mr(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${g}).`),h}}function Jr(h,g){if(g==="/")return h;if(!h.toLowerCase().startsWith(g.toLowerCase()))return null;let c=g.endsWith("/")?g.length-1:g.length,C=h.charAt(c);return C&&C!=="/"?null:h.slice(c)||"/"}function Fd(h,g="/"){let{pathname:c,search:C="",hash:w=""}=typeof h=="string"?Os(h):h;return{pathname:c?c.startsWith("/")?c:Ud(c,g):g,search:zd(C),hash:Wd(w)}}function Ud(h,g){let c=g.replace(/\/+$/,"").split("/");return h.split("/").forEach(w=>{w===".."?c.length>1&&c.pop():w!=="."&&c.push(w)}),c.length>1?c.join("/"):"/"}function Iu(h,g,c,C){return`Cannot include a '${h}' character in a manually specified \`to.${g}\` field [${JSON.stringify(C)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vd(h){return h.filter((g,c)=>c===0||g.route.path&&g.route.path.length>0)}function $0(h){let g=Vd(h);return g.map((c,C)=>C===g.length-1?c.pathname:c.pathnameBase)}function ef(h,g,c,C=!1){let w;typeof h=="string"?w=Os(h):(w={...h},an(!w.pathname||!w.pathname.includes("?"),Iu("?","pathname","search",w)),an(!w.pathname||!w.pathname.includes("#"),Iu("#","pathname","hash",w)),an(!w.search||!w.search.includes("#"),Iu("#","search","hash",w)));let m=h===""||w.pathname==="",_=m?"/":w.pathname,D;if(_==null)D=c;else{let k=g.length-1;if(!C&&_.startsWith("..")){let Y=_.split("/");for(;Y[0]==="..";)Y.shift(),k-=1;w.pathname=Y.join("/")}D=k>=0?g[k]:"/"}let N=Fd(w,D),A=_&&_!=="/"&&_.endsWith("/"),P=(m||_===".")&&c.endsWith("/");return!N.pathname.endsWith("/")&&(A||P)&&(N.pathname+="/"),N}var Qr=h=>h.join("/").replace(/\/\/+/g,"/"),Hd=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),zd=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,Wd=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function Gd(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}var tf=["POST","PUT","PATCH","DELETE"];new Set(tf);var Xd=["GET",...tf];new Set(Xd);var Bo=ie.createContext(null);Bo.displayName="DataRouter";var qa=ie.createContext(null);qa.displayName="DataRouterState";ie.createContext(!1);var nf=ie.createContext({isTransitioning:!1});nf.displayName="ViewTransition";var jd=ie.createContext(new Map);jd.displayName="Fetchers";var Yd=ie.createContext(null);Yd.displayName="Await";var kr=ie.createContext(null);kr.displayName="Navigation";var Qa=ie.createContext(null);Qa.displayName="Location";var $r=ie.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var $u=ie.createContext(null);$u.displayName="RouteError";function Kd(h,{relative:g}={}){an(Ds(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:C}=ie.useContext(kr),{hash:w,pathname:m,search:_}=bs(h,{relative:g}),D=m;return c!=="/"&&(D=m==="/"?c:Qr([c,m])),C.createHref({pathname:D,search:_,hash:w})}function Ds(){return ie.useContext(Qa)!=null}function no(){return an(Ds(),"useLocation() may be used only in the context of a <Router> component."),ie.useContext(Qa).location}var rf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function of(h){ie.useContext(kr).static||ie.useLayoutEffect(h)}function Zd(){let{isDataRoute:h}=ie.useContext($r);return h?lh():qd()}function qd(){an(Ds(),"useNavigate() may be used only in the context of a <Router> component.");let h=ie.useContext(Bo),{basename:g,navigator:c}=ie.useContext(kr),{matches:C}=ie.useContext($r),{pathname:w}=no(),m=JSON.stringify($0(C)),_=ie.useRef(!1);return of(()=>{_.current=!0}),ie.useCallback((N,A={})=>{if(Mr(_.current,rf),!_.current)return;if(typeof N=="number"){c.go(N);return}let P=ef(N,JSON.parse(m),w,A.relative==="path");h==null&&g!=="/"&&(P.pathname=P.pathname==="/"?g:Qr([g,P.pathname])),(A.replace?c.replace:c.push)(P,A.state,A)},[g,c,m,w,h])}ie.createContext(null);function bs(h,{relative:g}={}){let{matches:c}=ie.useContext($r),{pathname:C}=no(),w=JSON.stringify($0(c));return ie.useMemo(()=>ef(h,JSON.parse(w),C,g==="path"),[h,w,C,g])}function Qd(h,g,c,C){an(Ds(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=ie.useContext(kr),{matches:m}=ie.useContext($r),_=m[m.length-1],D=_?_.params:{},N=_?_.pathname:"/",A=_?_.pathnameBase:"/",P=_&&_.route;{let te=P&&P.path||"";sf(N,!P||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${N}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let k=no(),Y;Y=k;let J=Y.pathname||"/",ne=J;if(A!=="/"){let te=A.replace(/^\//,"").split("/");ne="/"+J.replace(/^\//,"").split("/").slice(te.length).join("/")}let j=q0(h,{pathname:ne});return Mr(P||j!=null,`No routes matched location "${Y.pathname}${Y.search}${Y.hash}" `),Mr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${Y.pathname}${Y.search}${Y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nh(j&&j.map(te=>Object.assign({},te,{params:Object.assign({},D,te.params),pathname:Qr([A,w.encodeLocation?w.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?A:Qr([A,w.encodeLocation?w.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),m,c,C)}function Jd(){let h=ah(),g=Gd(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),c=h instanceof Error?h.stack:null,C="rgba(200,200,200, 0.5)",w={padding:"0.5rem",backgroundColor:C},m={padding:"2px 4px",backgroundColor:C},_=null;return console.error("Error handled by React Router default ErrorBoundary:",h),_=ie.createElement(ie.Fragment,null,ie.createElement("p",null,"💿 Hey developer 👋"),ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ie.createElement("code",{style:m},"ErrorBoundary")," or"," ",ie.createElement("code",{style:m},"errorElement")," prop on your route.")),ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},g),c?ie.createElement("pre",{style:w},c):null,_)}var $d=ie.createElement(Jd,null),eh=class extends ie.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,g){return g.location!==h.location||g.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:g.error,location:g.location,revalidation:h.revalidation||g.revalidation}}componentDidCatch(h,g){console.error("React Router caught the following error during render",h,g)}render(){return this.state.error!==void 0?ie.createElement($r.Provider,{value:this.props.routeContext},ie.createElement($u.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function th({routeContext:h,match:g,children:c}){let C=ie.useContext(Bo);return C&&C.static&&C.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(C.staticContext._deepestRenderedBoundaryId=g.route.id),ie.createElement($r.Provider,{value:h},c)}function nh(h,g=[],c=null,C=null){if(h==null){if(!c)return null;if(c.errors)h=c.matches;else if(g.length===0&&!c.initialized&&c.matches.length>0)h=c.matches;else return null}let w=h,m=c?.errors;if(m!=null){let N=w.findIndex(A=>A.route.id&&m?.[A.route.id]!==void 0);an(N>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),w=w.slice(0,Math.min(w.length,N+1))}let _=!1,D=-1;if(c)for(let N=0;N<w.length;N++){let A=w[N];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(D=N),A.route.id){let{loaderData:P,errors:k}=c,Y=A.route.loader&&!P.hasOwnProperty(A.route.id)&&(!k||k[A.route.id]===void 0);if(A.route.lazy||Y){_=!0,D>=0?w=w.slice(0,D+1):w=[w[0]];break}}}return w.reduceRight((N,A,P)=>{let k,Y=!1,J=null,ne=null;c&&(k=m&&A.route.id?m[A.route.id]:void 0,J=A.route.errorElement||$d,_&&(D<0&&P===0?(sf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,ne=null):D===P&&(Y=!0,ne=A.route.hydrateFallbackElement||null)));let j=g.concat(w.slice(0,P+1)),ae=()=>{let te;return k?te=J:Y?te=ne:A.route.Component?te=ie.createElement(A.route.Component,null):A.route.element?te=A.route.element:te=N,ie.createElement(th,{match:A,routeContext:{outlet:N,matches:j,isDataRoute:c!=null},children:te})};return c&&(A.route.ErrorBoundary||A.route.errorElement||P===0)?ie.createElement(eh,{location:c.location,revalidation:c.revalidation,component:J,error:k,children:ae(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):ae()},null)}function ec(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rh(h){let g=ie.useContext(Bo);return an(g,ec(h)),g}function ih(h){let g=ie.useContext(qa);return an(g,ec(h)),g}function oh(h){let g=ie.useContext($r);return an(g,ec(h)),g}function tc(h){let g=oh(h),c=g.matches[g.matches.length-1];return an(c.route.id,`${h} can only be used on routes that contain a unique "id"`),c.route.id}function sh(){return tc("useRouteId")}function ah(){let h=ie.useContext($u),g=ih("useRouteError"),c=tc("useRouteError");return h!==void 0?h:g.errors?.[c]}function lh(){let{router:h}=rh("useNavigate"),g=tc("useNavigate"),c=ie.useRef(!1);return of(()=>{c.current=!0}),ie.useCallback(async(w,m={})=>{Mr(c.current,rf),c.current&&(typeof w=="number"?h.navigate(w):await h.navigate(w,{fromRouteId:g,...m}))},[h,g])}var f0={};function sf(h,g,c){!g&&!f0[h]&&(f0[h]=!0,Mr(!1,c))}ie.memo(uh);function uh({routes:h,future:g,state:c}){return Qd(h,void 0,c,g)}function ch({basename:h="/",children:g=null,location:c,navigationType:C="POP",navigator:w,static:m=!1}){an(!Ds(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=h.replace(/^\/*/,"/"),D=ie.useMemo(()=>({basename:_,navigator:w,static:m,future:{}}),[_,w,m]);typeof c=="string"&&(c=Os(c));let{pathname:N="/",search:A="",hash:P="",state:k=null,key:Y="default"}=c,J=ie.useMemo(()=>{let ne=Jr(N,_);return ne==null?null:{location:{pathname:ne,search:A,hash:P,state:k,key:Y},navigationType:C}},[_,N,A,P,k,Y,C]);return Mr(J!=null,`<Router basename="${_}"> is not able to match the URL "${N}${A}${P}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:ie.createElement(kr.Provider,{value:D},ie.createElement(Qa.Provider,{children:g,value:J}))}var za="get",Wa="application/x-www-form-urlencoded";function Ja(h){return h!=null&&typeof h.tagName=="string"}function fh(h){return Ja(h)&&h.tagName.toLowerCase()==="button"}function dh(h){return Ja(h)&&h.tagName.toLowerCase()==="form"}function hh(h){return Ja(h)&&h.tagName.toLowerCase()==="input"}function gh(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function ph(h,g){return h.button===0&&(!g||g==="_self")&&!gh(h)}var Ha=null;function xh(){if(Ha===null)try{new FormData(document.createElement("form"),0),Ha=!1}catch{Ha=!0}return Ha}var mh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(h){return h!=null&&!mh.has(h)?(Mr(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wa}"`),null):h}function wh(h,g){let c,C,w,m,_;if(dh(h)){let D=h.getAttribute("action");C=D?Jr(D,g):null,c=h.getAttribute("method")||za,w=Tu(h.getAttribute("enctype"))||Wa,m=new FormData(h)}else if(fh(h)||hh(h)&&(h.type==="submit"||h.type==="image")){let D=h.form;if(D==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let N=h.getAttribute("formaction")||D.getAttribute("action");if(C=N?Jr(N,g):null,c=h.getAttribute("formmethod")||D.getAttribute("method")||za,w=Tu(h.getAttribute("formenctype"))||Tu(D.getAttribute("enctype"))||Wa,m=new FormData(D,h),!xh()){let{name:A,type:P,value:k}=h;if(P==="image"){let Y=A?`${A}.`:"";m.append(`${Y}x`,"0"),m.append(`${Y}y`,"0")}else A&&m.append(A,k)}}else{if(Ja(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=za,C=null,w=Wa,_=h}return m&&w==="text/plain"&&(_=m,m=void 0),{action:C,method:c.toLowerCase(),encType:w,formData:m,body:_}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nc(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function yh(h,g,c){let C=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return C.pathname==="/"?C.pathname=`_root.${c}`:g&&Jr(C.pathname,g)==="/"?C.pathname=`${g.replace(/\/$/,"")}/_root.${c}`:C.pathname=`${C.pathname.replace(/\/$/,"")}.${c}`,C}async function Eh(h,g){if(h.id in g)return g[h.id];try{let c=await import(h.module);return g[h.id]=c,c}catch(c){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ch(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function Ah(h,g,c){let C=await Promise.all(h.map(async w=>{let m=g.routes[w.route.id];if(m){let _=await Eh(m,c);return _.links?_.links():[]}return[]}));return Th(C.flat(1).filter(Ch).filter(w=>w.rel==="stylesheet"||w.rel==="preload").map(w=>w.rel==="stylesheet"?{...w,rel:"prefetch",as:"style"}:{...w,rel:"prefetch"}))}function d0(h,g,c,C,w,m){let _=(N,A)=>c[A]?N.route.id!==c[A].route.id:!0,D=(N,A)=>c[A].pathname!==N.pathname||c[A].route.path?.endsWith("*")&&c[A].params["*"]!==N.params["*"];return m==="assets"?g.filter((N,A)=>_(N,A)||D(N,A)):m==="data"?g.filter((N,A)=>{let P=C.routes[N.route.id];if(!P||!P.hasLoader)return!1;if(_(N,A)||D(N,A))return!0;if(N.route.shouldRevalidate){let k=N.route.shouldRevalidate({currentUrl:new URL(w.pathname+w.search+w.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(h,window.origin),nextParams:N.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function vh(h,g,{includeHydrateFallback:c}={}){return Sh(h.map(C=>{let w=g.routes[C.route.id];if(!w)return[];let m=[w.module];return w.clientActionModule&&(m=m.concat(w.clientActionModule)),w.clientLoaderModule&&(m=m.concat(w.clientLoaderModule)),c&&w.hydrateFallbackModule&&(m=m.concat(w.hydrateFallbackModule)),w.imports&&(m=m.concat(w.imports)),m}).flat(1))}function Sh(h){return[...new Set(h)]}function Ih(h){let g={},c=Object.keys(h).sort();for(let C of c)g[C]=h[C];return g}function Th(h,g){let c=new Set;return new Set(g),h.reduce((C,w)=>{let m=JSON.stringify(Ih(w));return c.has(m)||(c.add(m),C.push({key:m,link:w})),C},[])}function af(){let h=ie.useContext(Bo);return nc(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function _h(){let h=ie.useContext(qa);return nc(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var rc=ie.createContext(void 0);rc.displayName="FrameworkContext";function lf(){let h=ie.useContext(rc);return nc(h,"You must render this element inside a <HydratedRouter> element"),h}function Nh(h,g){let c=ie.useContext(rc),[C,w]=ie.useState(!1),[m,_]=ie.useState(!1),{onFocus:D,onBlur:N,onMouseEnter:A,onMouseLeave:P,onTouchStart:k}=g,Y=ie.useRef(null);ie.useEffect(()=>{if(h==="render"&&_(!0),h==="viewport"){let j=te=>{te.forEach(oe=>{_(oe.isIntersecting)})},ae=new IntersectionObserver(j,{threshold:.5});return Y.current&&ae.observe(Y.current),()=>{ae.disconnect()}}},[h]),ie.useEffect(()=>{if(C){let j=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(j)}}},[C]);let J=()=>{w(!0)},ne=()=>{w(!1),_(!1)};return c?h!=="intent"?[m,Y,{}]:[m,Y,{onFocus:Ts(D,J),onBlur:Ts(N,ne),onMouseEnter:Ts(A,J),onMouseLeave:Ts(P,ne),onTouchStart:Ts(k,J)}]:[!1,Y,{}]}function Ts(h,g){return c=>{h&&h(c),c.defaultPrevented||g(c)}}function Rh({page:h,...g}){let{router:c}=af(),C=ie.useMemo(()=>q0(c.routes,h,c.basename),[c.routes,h,c.basename]);return C?ie.createElement(Dh,{page:h,matches:C,...g}):null}function Oh(h){let{manifest:g,routeModules:c}=lf(),[C,w]=ie.useState([]);return ie.useEffect(()=>{let m=!1;return Ah(h,g,c).then(_=>{m||w(_)}),()=>{m=!0}},[h,g,c]),C}function Dh({page:h,matches:g,...c}){let C=no(),{manifest:w,routeModules:m}=lf(),{basename:_}=af(),{loaderData:D,matches:N}=_h(),A=ie.useMemo(()=>d0(h,g,N,w,C,"data"),[h,g,N,w,C]),P=ie.useMemo(()=>d0(h,g,N,w,C,"assets"),[h,g,N,w,C]),k=ie.useMemo(()=>{if(h===C.pathname+C.search+C.hash)return[];let ne=new Set,j=!1;if(g.forEach(te=>{let oe=w.routes[te.route.id];!oe||!oe.hasLoader||(!A.some(le=>le.route.id===te.route.id)&&te.route.id in D&&m[te.route.id]?.shouldRevalidate||oe.hasClientLoader?j=!0:ne.add(te.route.id))}),ne.size===0)return[];let ae=yh(h,_,"data");return j&&ne.size>0&&ae.searchParams.set("_routes",g.filter(te=>ne.has(te.route.id)).map(te=>te.route.id).join(",")),[ae.pathname+ae.search]},[_,D,C,w,A,g,h,m]),Y=ie.useMemo(()=>vh(P,w),[P,w]),J=Oh(P);return ie.createElement(ie.Fragment,null,k.map(ne=>ie.createElement("link",{key:ne,rel:"prefetch",as:"fetch",href:ne,...c})),Y.map(ne=>ie.createElement("link",{key:ne,rel:"modulepreload",href:ne,...c})),J.map(({key:ne,link:j})=>ie.createElement("link",{key:ne,...j})))}function bh(...h){return g=>{h.forEach(c=>{typeof c=="function"?c(g):c!=null&&(c.current=g)})}}var uf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uf&&(window.__reactRouterVersion="7.7.1")}catch{}function Mh({basename:h,children:g,window:c}){let C=ie.useRef();C.current==null&&(C.current=Cd({window:c,v5Compat:!0}));let w=C.current,[m,_]=ie.useState({action:w.action,location:w.location}),D=ie.useCallback(N=>{ie.startTransition(()=>_(N))},[_]);return ie.useLayoutEffect(()=>w.listen(D),[w,D]),ie.createElement(ch,{basename:h,children:g,location:m.location,navigationType:m.action,navigator:w})}var cf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ff=ie.forwardRef(function({onClick:g,discover:c="render",prefetch:C="none",relative:w,reloadDocument:m,replace:_,state:D,target:N,to:A,preventScrollReset:P,viewTransition:k,...Y},J){let{basename:ne}=ie.useContext(kr),j=typeof A=="string"&&cf.test(A),ae,te=!1;if(typeof A=="string"&&j&&(ae=A,uf))try{let re=new URL(window.location.href),yt=A.startsWith("//")?new URL(re.protocol+A):new URL(A),qe=Jr(yt.pathname,ne);yt.origin===re.origin&&qe!=null?A=qe+yt.search+yt.hash:te=!0}catch{Mr(!1,`<Link to="${A}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=Kd(A,{relative:w}),[le,xe,Re]=Nh(C,Y),Me=Bh(A,{replace:_,state:D,target:N,preventScrollReset:P,relative:w,viewTransition:k});function se(re){g&&g(re),re.defaultPrevented||Me(re)}let _e=ie.createElement("a",{...Y,...Re,href:ae||oe,onClick:te||m?g:se,ref:bh(J,xe),target:N,"data-discover":!j&&c==="render"?"true":void 0});return le&&!j?ie.createElement(ie.Fragment,null,_e,ie.createElement(Rh,{page:oe})):_e});ff.displayName="Link";var kh=ie.forwardRef(function({"aria-current":g="page",caseSensitive:c=!1,className:C="",end:w=!1,style:m,to:_,viewTransition:D,children:N,...A},P){let k=bs(_,{relative:A.relative}),Y=no(),J=ie.useContext(qa),{navigator:ne,basename:j}=ie.useContext(kr),ae=J!=null&&zh(k)&&D===!0,te=ne.encodeLocation?ne.encodeLocation(k).pathname:k.pathname,oe=Y.pathname,le=J&&J.navigation&&J.navigation.location?J.navigation.location.pathname:null;c||(oe=oe.toLowerCase(),le=le?le.toLowerCase():null,te=te.toLowerCase()),le&&j&&(le=Jr(le,j)||le);const xe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Re=oe===te||!w&&oe.startsWith(te)&&oe.charAt(xe)==="/",Me=le!=null&&(le===te||!w&&le.startsWith(te)&&le.charAt(te.length)==="/"),se={isActive:Re,isPending:Me,isTransitioning:ae},_e=Re?g:void 0,re;typeof C=="function"?re=C(se):re=[C,Re?"active":null,Me?"pending":null,ae?"transitioning":null].filter(Boolean).join(" ");let yt=typeof m=="function"?m(se):m;return ie.createElement(ff,{...A,"aria-current":_e,className:re,ref:P,style:yt,to:_,viewTransition:D},typeof N=="function"?N(se):N)});kh.displayName="NavLink";var Ph=ie.forwardRef(({discover:h="render",fetcherKey:g,navigate:c,reloadDocument:C,replace:w,state:m,method:_=za,action:D,onSubmit:N,relative:A,preventScrollReset:P,viewTransition:k,...Y},J)=>{let ne=Vh(),j=Hh(D,{relative:A}),ae=_.toLowerCase()==="get"?"get":"post",te=typeof D=="string"&&cf.test(D),oe=le=>{if(N&&N(le),le.defaultPrevented)return;le.preventDefault();let xe=le.nativeEvent.submitter,Re=xe?.getAttribute("formmethod")||_;ne(xe||le.currentTarget,{fetcherKey:g,method:Re,navigate:c,replace:w,state:m,relative:A,preventScrollReset:P,viewTransition:k})};return ie.createElement("form",{ref:J,method:ae,action:j,onSubmit:C?N:oe,...Y,"data-discover":!te&&h==="render"?"true":void 0})});Ph.displayName="Form";function Lh(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function df(h){let g=ie.useContext(Bo);return an(g,Lh(h)),g}function Bh(h,{target:g,replace:c,state:C,preventScrollReset:w,relative:m,viewTransition:_}={}){let D=Zd(),N=no(),A=bs(h,{relative:m});return ie.useCallback(P=>{if(ph(P,g)){P.preventDefault();let k=c!==void 0?c:Rs(N)===Rs(A);D(h,{replace:k,state:C,preventScrollReset:w,relative:m,viewTransition:_})}},[N,D,A,c,C,g,h,w,m,_])}var Fh=0,Uh=()=>`__${String(++Fh)}__`;function Vh(){let{router:h}=df("useSubmit"),{basename:g}=ie.useContext(kr),c=sh();return ie.useCallback(async(C,w={})=>{let{action:m,method:_,encType:D,formData:N,body:A}=wh(C,g);if(w.navigate===!1){let P=w.fetcherKey||Uh();await h.fetch(P,c,w.action||m,{preventScrollReset:w.preventScrollReset,formData:N,body:A,formMethod:w.method||_,formEncType:w.encType||D,flushSync:w.flushSync})}else await h.navigate(w.action||m,{preventScrollReset:w.preventScrollReset,formData:N,body:A,formMethod:w.method||_,formEncType:w.encType||D,replace:w.replace,state:w.state,fromRouteId:c,flushSync:w.flushSync,viewTransition:w.viewTransition})},[h,g,c])}function Hh(h,{relative:g}={}){let{basename:c}=ie.useContext(kr),C=ie.useContext($r);an(C,"useFormAction must be used inside a RouteContext");let[w]=C.matches.slice(-1),m={...bs(h||".",{relative:g})},_=no();if(h==null){m.search=_.search;let D=new URLSearchParams(m.search),N=D.getAll("index");if(N.some(P=>P==="")){D.delete("index"),N.filter(k=>k).forEach(k=>D.append("index",k));let P=D.toString();m.search=P?`?${P}`:""}}return(!h||h===".")&&w.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(m.pathname=m.pathname==="/"?c:Qr([c,m.pathname])),Rs(m)}function zh(h,{relative:g}={}){let c=ie.useContext(nf);an(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:C}=df("useViewTransitionState"),w=bs(h,{relative:g});if(!c.isTransitioning)return!1;let m=Jr(c.currentLocation.pathname,C)||c.currentLocation.pathname,_=Jr(c.nextLocation.pathname,C)||c.nextLocation.pathname;return Ga(w.pathname,_)!=null||Ga(w.pathname,m)!=null}function Wh({onImageSelected:h}){const g=ie.useRef(null),c=()=>{g.current?.click()},C=w=>{const m=w.target.files?.[0];m&&h(m),w.target.value=""};return st.jsxs(st.Fragment,{children:[st.jsx("input",{type:"file",accept:"image/*",ref:g,onChange:C,className:"hidden"}),st.jsx("div",{className:"text-center",children:st.jsx("button",{type:"button",onClick:c,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-md font-semibold transition-colors duration-200",children:"Bild auswählen"})})]})}var Gh=Object.defineProperty,Xh=(h,g,c)=>g in h?Gh(h,g,{enumerable:!0,configurable:!0,writable:!0,value:c}):h[g]=c,Lt=(h,g,c)=>Xh(h,typeof g!="symbol"?g+"":g,c);const Xa={x:0,y:0,width:0,height:0,unit:"px"},Mo=(h,g,c)=>Math.min(Math.max(h,g),c),jh=(...h)=>h.filter(g=>g&&typeof g=="string").join(" "),h0=(h,g)=>h===g||h.width===g.width&&h.height===g.height&&h.x===g.x&&h.y===g.y&&h.unit===g.unit;function ko(h,g,c){return h.unit==="%"?{...Xa,...h,unit:"%"}:{unit:"%",x:h.x?h.x/g*100:0,y:h.y?h.y/c*100:0,width:h.width?h.width/g*100:0,height:h.height?h.height/c*100:0}}function Ni(h,g,c){return h.unit?h.unit==="px"?{...Xa,...h,unit:"px"}:{unit:"px",x:h.x?h.x*g/100:0,y:h.y?h.y*c/100:0,width:h.width?h.width*g/100:0,height:h.height?h.height*c/100:0}:{...Xa,...h,unit:"px"}}function g0(h,g,c,C,w,m=0,_=0,D=C,N=w){const A={...h};let P=Math.min(m,C),k=Math.min(_,w),Y=Math.min(D,C),J=Math.min(N,w);g&&(g>1?(P=_?_*g:P,k=P/g,Y=D*g):(k=m?m/g:k,P=k*g,J=N/g)),A.y<0&&(A.height=Math.max(A.height+A.y,k),A.y=0),A.x<0&&(A.width=Math.max(A.width+A.x,P),A.x=0);const ne=C-(A.x+A.width);ne<0&&(A.x=Math.min(A.x,C-P),A.width+=ne);const j=w-(A.y+A.height);if(j<0&&(A.y=Math.min(A.y,w-k),A.height+=j),A.width<P&&((c==="sw"||c=="nw")&&(A.x-=P-A.width),A.width=P),A.height<k&&((c==="nw"||c=="ne")&&(A.y-=k-A.height),A.height=k),A.width>Y&&((c==="sw"||c=="nw")&&(A.x-=Y-A.width),A.width=Y),A.height>J&&((c==="nw"||c=="ne")&&(A.y-=J-A.height),A.height=J),g){const ae=A.width/A.height;if(ae<g){const te=Math.max(A.width/g,k);(c==="nw"||c=="ne")&&(A.y-=te-A.height),A.height=te}else if(ae>g){const te=Math.max(A.height*g,P);(c==="sw"||c=="nw")&&(A.x-=te-A.width),A.width=te}}return A}function Yh(h,g,c,C){const w={...h};return g==="ArrowLeft"?C==="nw"?(w.x-=c,w.y-=c,w.width+=c,w.height+=c):C==="w"?(w.x-=c,w.width+=c):C==="sw"?(w.x-=c,w.width+=c,w.height+=c):C==="ne"?(w.y+=c,w.width-=c,w.height-=c):C==="e"?w.width-=c:C==="se"&&(w.width-=c,w.height-=c):g==="ArrowRight"&&(C==="nw"?(w.x+=c,w.y+=c,w.width-=c,w.height-=c):C==="w"?(w.x+=c,w.width-=c):C==="sw"?(w.x+=c,w.width-=c,w.height-=c):C==="ne"?(w.y-=c,w.width+=c,w.height+=c):C==="e"?w.width+=c:C==="se"&&(w.width+=c,w.height+=c)),g==="ArrowUp"?C==="nw"?(w.x-=c,w.y-=c,w.width+=c,w.height+=c):C==="n"?(w.y-=c,w.height+=c):C==="ne"?(w.y-=c,w.width+=c,w.height+=c):C==="sw"?(w.x+=c,w.width-=c,w.height-=c):C==="s"?w.height-=c:C==="se"&&(w.width-=c,w.height-=c):g==="ArrowDown"&&(C==="nw"?(w.x+=c,w.y+=c,w.width-=c,w.height-=c):C==="n"?(w.y+=c,w.height-=c):C==="ne"?(w.y+=c,w.width-=c,w.height-=c):C==="sw"?(w.x-=c,w.width+=c,w.height+=c):C==="s"?w.height+=c:C==="se"&&(w.width+=c,w.height+=c)),w}const Po={capture:!0,passive:!1};let Kh=0;const Ri=class Cr extends ie.PureComponent{constructor(){super(...arguments),Lt(this,"docMoveBound",!1),Lt(this,"mouseDownOnCrop",!1),Lt(this,"dragStarted",!1),Lt(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Lt(this,"componentRef",ie.createRef()),Lt(this,"mediaRef",ie.createRef()),Lt(this,"resizeObserver"),Lt(this,"initChangeCalled",!1),Lt(this,"instanceId",`rc-${Kh++}`),Lt(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Lt(this,"onCropPointerDown",g=>{const{crop:c,disabled:C}=this.props,w=this.getBox();if(!c)return;const m=Ni(c,w.width,w.height);if(C)return;g.cancelable&&g.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const _=g.target.dataset.ord,D=!!_;let N=g.clientX,A=g.clientY,P=m.x,k=m.y;if(_){const Y=g.clientX-w.x,J=g.clientY-w.y;let ne=0,j=0;_==="ne"||_=="e"?(ne=Y-(m.x+m.width),j=J-m.y,P=m.x,k=m.y+m.height):_==="se"||_==="s"?(ne=Y-(m.x+m.width),j=J-(m.y+m.height),P=m.x,k=m.y):_==="sw"||_=="w"?(ne=Y-m.x,j=J-(m.y+m.height),P=m.x+m.width,k=m.y):(_==="nw"||_=="n")&&(ne=Y-m.x,j=J-m.y,P=m.x+m.width,k=m.y+m.height),N=P+w.x+ne,A=k+w.y+j}this.evData={startClientX:N,startClientY:A,startCropX:P,startCropY:k,clientX:g.clientX,clientY:g.clientY,isResize:D,ord:_},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Lt(this,"onComponentPointerDown",g=>{const{crop:c,disabled:C,locked:w,keepSelection:m,onChange:_}=this.props,D=this.getBox();if(C||w||m&&c)return;g.cancelable&&g.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const N=g.clientX-D.x,A=g.clientY-D.y,P={unit:"px",x:N,y:A,width:0,height:0};this.evData={startClientX:g.clientX,startClientY:g.clientY,startCropX:N,startCropY:A,clientX:g.clientX,clientY:g.clientY,isResize:!0},this.mouseDownOnCrop=!0,_(Ni(P,D.width,D.height),ko(P,D.width,D.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Lt(this,"onDocPointerMove",g=>{const{crop:c,disabled:C,onChange:w,onDragStart:m}=this.props,_=this.getBox();if(C||!c||!this.mouseDownOnCrop)return;g.cancelable&&g.preventDefault(),this.dragStarted||(this.dragStarted=!0,m&&m(g));const{evData:D}=this;D.clientX=g.clientX,D.clientY=g.clientY;let N;D.isResize?N=this.resizeCrop():N=this.dragCrop(),h0(c,N)||w(Ni(N,_.width,_.height),ko(N,_.width,_.height))}),Lt(this,"onComponentKeyDown",g=>{const{crop:c,disabled:C,onChange:w,onComplete:m}=this.props;if(C)return;const _=g.key;let D=!1;if(!c)return;const N=this.getBox(),A=this.makePixelCrop(N),P=(navigator.platform.match("Mac")?g.metaKey:g.ctrlKey)?Cr.nudgeStepLarge:g.shiftKey?Cr.nudgeStepMedium:Cr.nudgeStep;if(_==="ArrowLeft"?(A.x-=P,D=!0):_==="ArrowRight"?(A.x+=P,D=!0):_==="ArrowUp"?(A.y-=P,D=!0):_==="ArrowDown"&&(A.y+=P,D=!0),D){g.cancelable&&g.preventDefault(),A.x=Mo(A.x,0,N.width-A.width),A.y=Mo(A.y,0,N.height-A.height);const k=Ni(A,N.width,N.height),Y=ko(A,N.width,N.height);w(k,Y),m&&m(k,Y)}}),Lt(this,"onHandlerKeyDown",(g,c)=>{const{aspect:C=0,crop:w,disabled:m,minWidth:_=0,minHeight:D=0,maxWidth:N,maxHeight:A,onChange:P,onComplete:k}=this.props,Y=this.getBox();if(m||!w)return;if(g.key==="ArrowUp"||g.key==="ArrowDown"||g.key==="ArrowLeft"||g.key==="ArrowRight")g.stopPropagation(),g.preventDefault();else return;const J=(navigator.platform.match("Mac")?g.metaKey:g.ctrlKey)?Cr.nudgeStepLarge:g.shiftKey?Cr.nudgeStepMedium:Cr.nudgeStep,ne=Ni(w,Y.width,Y.height),j=Yh(ne,g.key,J,c),ae=g0(j,C,c,Y.width,Y.height,_,D,N,A);if(!h0(w,ae)){const te=ko(ae,Y.width,Y.height);P(ae,te),k&&k(ae,te)}}),Lt(this,"onDocPointerDone",g=>{const{crop:c,disabled:C,onComplete:w,onDragEnd:m}=this.props,_=this.getBox();this.unbindDocMove(),!(C||!c)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,m&&m(g),w&&w(Ni(c,_.width,_.height),ko(c,_.width,_.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Lt(this,"onDragFocus",()=>{var g;(g=this.componentRef.current)==null||g.scrollTo(0,0)})}get document(){return document}getBox(){const g=this.mediaRef.current;if(!g)return{x:0,y:0,width:0,height:0};const{x:c,y:C,width:w,height:m}=g.getBoundingClientRect();return{x:c,y:C,width:w,height:m}}componentDidUpdate(g){const{crop:c,onComplete:C}=this.props;if(C&&!g.crop&&c){const{width:w,height:m}=this.getBox();w&&m&&C(Ni(c,w,m),ko(c,w,m))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Po),this.document.addEventListener("pointerup",this.onDocPointerDone,Po),this.document.addEventListener("pointercancel",this.onDocPointerDone,Po),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Po),this.document.removeEventListener("pointerup",this.onDocPointerDone,Po),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Po),this.docMoveBound=!1)}getCropStyle(){const{crop:g}=this.props;if(g)return{top:`${g.y}${g.unit}`,left:`${g.x}${g.unit}`,width:`${g.width}${g.unit}`,height:`${g.height}${g.unit}`}}dragCrop(){const{evData:g}=this,c=this.getBox(),C=this.makePixelCrop(c),w=g.clientX-g.startClientX,m=g.clientY-g.startClientY;return C.x=Mo(g.startCropX+w,0,c.width-C.width),C.y=Mo(g.startCropY+m,0,c.height-C.height),C}getPointRegion(g,c,C,w){const{evData:m}=this,_=m.clientX-g.x,D=m.clientY-g.y;let N;w&&c?N=c==="nw"||c==="n"||c==="ne":N=D<m.startCropY;let A;return C&&c?A=c==="nw"||c==="w"||c==="sw":A=_<m.startCropX,A?N?"nw":"sw":N?"ne":"se"}resolveMinDimensions(g,c,C=0,w=0){const m=Math.min(C,g.width),_=Math.min(w,g.height);return!c||!m&&!_?[m,_]:c>1?m?[m,m/c]:[_*c,_]:_?[_*c,_]:[m,m/c]}resizeCrop(){const{evData:g}=this,{aspect:c=0,maxWidth:C,maxHeight:w}=this.props,m=this.getBox(),[_,D]=this.resolveMinDimensions(m,c,this.props.minWidth,this.props.minHeight);let N=this.makePixelCrop(m);const A=this.getPointRegion(m,g.ord,_,D),P=g.ord||A;let k=g.clientX-g.startClientX,Y=g.clientY-g.startClientY;(_&&P==="nw"||P==="w"||P==="sw")&&(k=Math.min(k,-_)),(D&&P==="nw"||P==="n"||P==="ne")&&(Y=Math.min(Y,-D));const J={unit:"px",x:0,y:0,width:0,height:0};A==="ne"?(J.x=g.startCropX,J.width=k,c?(J.height=J.width/c,J.y=g.startCropY-J.height):(J.height=Math.abs(Y),J.y=g.startCropY-J.height)):A==="se"?(J.x=g.startCropX,J.y=g.startCropY,J.width=k,c?J.height=J.width/c:J.height=Y):A==="sw"?(J.x=g.startCropX+k,J.y=g.startCropY,J.width=Math.abs(k),c?J.height=J.width/c:J.height=Y):A==="nw"&&(J.x=g.startCropX+k,J.width=Math.abs(k),c?(J.height=J.width/c,J.y=g.startCropY-J.height):(J.height=Math.abs(Y),J.y=g.startCropY+Y));const ne=g0(J,c,A,m.width,m.height,_,D,C,w);return c||Cr.xyOrds.indexOf(P)>-1?N=ne:Cr.xOrds.indexOf(P)>-1?(N.x=ne.x,N.width=ne.width):Cr.yOrds.indexOf(P)>-1&&(N.y=ne.y,N.height=ne.height),N.x=Mo(N.x,0,m.width-N.width),N.y=Mo(N.y,0,m.height-N.height),N}renderCropSelection(){const{ariaLabels:g=Cr.defaultProps.ariaLabels,disabled:c,locked:C,renderSelectionAddon:w,ruleOfThirds:m,crop:_}=this.props,D=this.getCropStyle();if(_)return At.createElement("div",{style:D,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":g.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!c&&!C&&At.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},At.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),At.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),At.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),At.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":g.nwDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"nw"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":g.nDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"n"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":g.neDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"ne"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":g.eDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"e"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":g.seDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"se"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":g.sDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"s"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":g.swDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"sw"),role:"button"}),At.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":g.wDragHandle,onKeyDown:N=>this.onHandlerKeyDown(N,"w"),role:"button"})),w&&At.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:N=>N.stopPropagation()},w(this.state)),m&&At.createElement(At.Fragment,null,At.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),At.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(g){const c={...Xa,...this.props.crop||{}};return Ni(c,g.width,g.height)}render(){const{aspect:g,children:c,circularCrop:C,className:w,crop:m,disabled:_,locked:D,style:N,ruleOfThirds:A}=this.props,{cropIsActive:P,newCropIsBeingDrawn:k}=this.state,Y=m?this.renderCropSelection():null,J=jh("ReactCrop",w,P&&"ReactCrop--active",_&&"ReactCrop--disabled",D&&"ReactCrop--locked",k&&"ReactCrop--new-crop",m&&g&&"ReactCrop--fixed-aspect",m&&C&&"ReactCrop--circular-crop",m&&A&&"ReactCrop--rule-of-thirds",!this.dragStarted&&m&&!m.width&&!m.height&&"ReactCrop--invisible-crop",C&&"ReactCrop--no-animate");return At.createElement("div",{ref:this.componentRef,className:J,style:N},At.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},c),m?At.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},At.createElement("defs",null,At.createElement("mask",{id:`hole-${this.instanceId}`},At.createElement("rect",{width:"100%",height:"100%",fill:"white"}),C?At.createElement("ellipse",{cx:`${m.x+m.width/2}${m.unit}`,cy:`${m.y+m.height/2}${m.unit}`,rx:`${m.width/2}${m.unit}`,ry:`${m.height/2}${m.unit}`,fill:"black"}):At.createElement("rect",{x:`${m.x}${m.unit}`,y:`${m.y}${m.unit}`,width:`${m.width}${m.unit}`,height:`${m.height}${m.unit}`,fill:"black"}))),At.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,Y)}};Lt(Ri,"xOrds",["e","w"]),Lt(Ri,"yOrds",["n","s"]),Lt(Ri,"xyOrds",["nw","ne","se","sw"]),Lt(Ri,"nudgeStep",1),Lt(Ri,"nudgeStepMedium",10),Lt(Ri,"nudgeStepLarge",100),Lt(Ri,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Zh=Ri;const qh=({imageSrc:h,onCropped:g})=>{const[c,C]=ie.useState({unit:"%",x:25,y:25,width:50,height:50}),w=ie.useRef(null),m=ie.useCallback(N=>{w.current=N},[]),_=ie.useCallback(async()=>{if(w.current&&c.width&&c.height){const N=await D(w.current,c);g(N)}},[c,g]);function D(N,A,P=3){if(!A.width||!A.height)return Promise.reject(new Error("Crop data is invalid"));const k=N.naturalWidth,Y=N.naturalHeight,J=A.x/100*k,ne=A.y/100*Y,j=A.width/100*k,ae=A.height/100*Y,te=document.createElement("canvas");te.width=j*P,te.height=ae*P;const oe=te.getContext("2d");oe.imageSmoothingEnabled=!0,oe.imageSmoothingQuality="high",oe.filter="contrast(150%) brightness(90%)",oe.drawImage(N,J,ne,j,ae,0,0,te.width,te.height);const le=oe.getImageData(0,0,te.width,te.height),xe=le.data;for(let Re=0;Re<xe.length;Re+=4){const Me=xe[Re],se=xe[Re+1],_e=xe[Re+2],re=.299*Me+.587*se+.114*_e;xe[Re]=xe[Re+1]=xe[Re+2]=re}return oe.putImageData(le,0,0),new Promise((Re,Me)=>{te.toBlob(se=>{if(!se){Me(new Error("Canvas is empty"));return}Re(se)},"image/png")})}return st.jsxs("div",{children:[h&&st.jsx(Zh,{crop:c,onChange:(N,A)=>C(A),keepSelection:!0,ruleOfThirds:!0,children:st.jsx("img",{src:h,alt:"Zum Zuschneiden",onLoad:N=>m(N.currentTarget)})}),st.jsx("div",{className:"text-center",children:st.jsx("button",{className:"mt-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md font-semibold transition-colors duration-200",onClick:_,children:"Ausschnitt übernehmen"})})]})};var Oe;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Oe||(Oe={}));var p0=new Map([[Oe.QR_CODE,"QR_CODE"],[Oe.AZTEC,"AZTEC"],[Oe.CODABAR,"CODABAR"],[Oe.CODE_39,"CODE_39"],[Oe.CODE_93,"CODE_93"],[Oe.CODE_128,"CODE_128"],[Oe.DATA_MATRIX,"DATA_MATRIX"],[Oe.MAXICODE,"MAXICODE"],[Oe.ITF,"ITF"],[Oe.EAN_13,"EAN_13"],[Oe.EAN_8,"EAN_8"],[Oe.PDF_417,"PDF_417"],[Oe.RSS_14,"RSS_14"],[Oe.RSS_EXPANDED,"RSS_EXPANDED"],[Oe.UPC_A,"UPC_A"],[Oe.UPC_E,"UPC_E"],[Oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),x0;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(x0||(x0={}));function Qh(h){return Object.values(Oe).includes(h)}var ja;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ja||(ja={}));var Jh=function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[ja.SCAN_TYPE_CAMERA,ja.SCAN_TYPE_FILE],h}(),hf=function(){function h(g,c){this.format=g,this.formatName=c}return h.prototype.toString=function(){return this.formatName},h.create=function(g){if(!p0.has(g))throw"".concat(g," not in html5QrcodeSupportedFormatsTextMap");return new h(g,p0.get(g))},h}(),m0=function(){function h(){}return h.createFromText=function(g){var c={text:g};return{decodedText:g,result:c}},h.createFromQrcodeResult=function(g){return{decodedText:g.text,result:g}},h}(),Qu;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Qu||(Qu={}));var $h=function(){function h(){}return h.createFrom=function(g){return{errorMessage:g,type:Qu.UNKWOWN_ERROR}},h}(),eg=function(){function h(g){this.verbose=g}return h.prototype.log=function(g){this.verbose&&console.log(g)},h.prototype.warn=function(g){this.verbose&&console.warn(g)},h.prototype.logError=function(g,c){(this.verbose||c===!0)&&console.error(g)},h.prototype.logErrors=function(g){if(g.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(g)},h}();function Zr(h){return typeof h>"u"||h===null}var Lo=function(){function h(){}return h.codeParseError=function(g){return"QR code parse error, error = ".concat(g)},h.errorGettingUserMedia=function(g){return"Error getting userMedia, error = ".concat(g)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h}(),gf=function(){function h(){}return h.isMediaStreamConstraintsValid=function(g,c){if(typeof g!="object"){var C=typeof g;return c.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(C,"."),!0),!1}for(var w=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],m=new Set(w),_=Object.keys(g),D=0,N=_;D<N.length;D++){var A=N[D];if(m.has(A))return c.logError("".concat(A," is not supported videoConstaints."),!0),!1}return!0},h}(),Ns={exports:{}},tg=Ns.exports,w0;function ng(){return w0||(w0=1,function(h,g){(function(c,C){C(g)})(tg,function(c){function C(v){return v==null}var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,e){v.__proto__=e}||function(v,e){for(var n in e)e.hasOwnProperty(n)&&(v[n]=e[n])};function m(v,e){w(v,e);function n(){this.constructor=v}v.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function _(v,e){var n=Object.setPrototypeOf;n?n(v,e):v.__proto__=e}function D(v,e){e===void 0&&(e=v.constructor);var n=Error.captureStackTrace;n&&n(v,e)}var N=function(v){m(e,v);function e(n){var r=this.constructor,o=v.call(this,n)||this;return Object.defineProperty(o,"name",{value:r.name,enumerable:!1}),_(o,r.prototype),D(o),o}return e}(Error);class A extends N{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}A.kind="Exception";class P extends A{}P.kind="ArgumentException";class k extends A{}k.kind="IllegalArgumentException";class Y{constructor(e){if(this.binarizer=e,e===null)throw new k("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,o){const s=this.binarizer.getLuminanceSource().crop(e,n,r,o);return new Y(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Y(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Y(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class J extends A{static getChecksumInstance(){return new J}}J.kind="ChecksumException";class ne{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,n,r,o,s){for(;s--;)r[o++]=e[n++]}static currentTimeMillis(){return Date.now()}}class ae extends A{}ae.kind="IndexOutOfBoundsException";class te extends ae{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}te.kind="ArrayIndexOutOfBoundsException";class oe{static fill(e,n){for(let r=0,o=e.length;r<o;r++)e[r]=n}static fillWithin(e,n,r,o){oe.rangeCheck(e.length,n,r);for(let s=n;s<r;s++)e[s]=o}static rangeCheck(e,n,r){if(n>r)throw new k("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new te(n);if(r>e)throw new te(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(s=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(s=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,o=e.length;r<o;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const o=r-n,s=new Int32Array(o);return j.arraycopy(e,n,s,0,o),s}static binarySearch(e,n,r){r===void 0&&(r=oe.numberComparator);let o=0,s=e.length-1;for(;o<=s;){const a=s+o>>1,u=r(n,e[a]);if(u>0)o=a+1;else if(u<0)s=a-1;else return a}return-o-1}static numberComparator(e,n){return e-n}}class le{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}le.MIN_VALUE_32_BITS=-2147483648,le.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=xe.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=xe.makeArray(e);j.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let o=Math.floor(e/32),s=r[o];s&=~((1<<(e&31))-1);const a=r.length;for(;s===0;){if(++o===a)return n;s=r[o]}const u=o*32+le.numberOfTrailingZeros(s);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let o=Math.floor(e/32),s=~r[o];s&=~((1<<(e&31))-1);const a=r.length;for(;s===0;){if(++o===a)return n;s=~r[o]}const u=o*32+le.numberOfTrailingZeros(s);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new k;if(n===e)return;n--;const r=Math.floor(e/32),o=Math.floor(n/32),s=this.bits;for(let a=r;a<=o;a++){const u=a>r?0:e&31,p=(2<<(a<o?31:n&31))-(1<<u);s[a]|=p}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new k;if(n===e)return!0;n--;const o=Math.floor(e/32),s=Math.floor(n/32),a=this.bits;for(let u=o;u<=s;u++){const d=u>o?0:e&31,E=(2<<(u<s?31:n&31))-(1<<d)&4294967295;if((a[u]&E)!==(r?E:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new k("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new k("Sizes don't match");const n=this.bits;for(let r=0,o=n.length;r<o;r++)n[r]^=e.bits[r]}toBytes(e,n,r,o){for(let s=0;s<o;s++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;n[r+s]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,o=this.bits;for(let s=0;s<r;s++){let a=o[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-s]=a}if(this.size!==r*32){const s=r*32-this.size;let a=e[0]>>>s;for(let u=1;u<r;u++){const d=e[u];a|=d<<32-s,e[u-1]=a,a=d>>>s}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof xe))return!1;const n=e;return this.size===n.size&&oe.equals(this.bits,n.bits)}hashCode(){return 31*this.size+oe.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new xe(this.size,this.bits.slice())}}var Re;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Re||(Re={}));var Me=Re;class se extends A{static getFormatInstance(){return new se}}se.kind="FormatException";var _e;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(_e||(_e={}));class re{constructor(e,n,r,...o){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,re.VALUE_IDENTIFIER_TO_ECI.set(e,this),re.NAME_TO_ECI.set(r,this);const s=this.values;for(let a=0,u=s.length;a!==u;a++){const d=s[a];re.VALUES_TO_ECI.set(d,this)}for(const a of o)re.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new se("incorect value");const n=re.VALUES_TO_ECI.get(e);if(n===void 0)throw new se("incorect value");return n}static getCharacterSetECIByName(e){const n=re.NAME_TO_ECI.get(e);if(n===void 0)throw new se("incorect value");return n}equals(e){if(!(e instanceof re))return!1;const n=e;return this.getName()===n.getName()}}re.VALUE_IDENTIFIER_TO_ECI=new Map,re.VALUES_TO_ECI=new Map,re.NAME_TO_ECI=new Map,re.Cp437=new re(_e.Cp437,Int32Array.from([0,2]),"Cp437"),re.ISO8859_1=new re(_e.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),re.ISO8859_2=new re(_e.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),re.ISO8859_3=new re(_e.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),re.ISO8859_4=new re(_e.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),re.ISO8859_5=new re(_e.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),re.ISO8859_6=new re(_e.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),re.ISO8859_7=new re(_e.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),re.ISO8859_8=new re(_e.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),re.ISO8859_9=new re(_e.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),re.ISO8859_10=new re(_e.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),re.ISO8859_11=new re(_e.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),re.ISO8859_13=new re(_e.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),re.ISO8859_14=new re(_e.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),re.ISO8859_15=new re(_e.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),re.ISO8859_16=new re(_e.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),re.SJIS=new re(_e.SJIS,20,"SJIS","Shift_JIS"),re.Cp1250=new re(_e.Cp1250,21,"Cp1250","windows-1250"),re.Cp1251=new re(_e.Cp1251,22,"Cp1251","windows-1251"),re.Cp1252=new re(_e.Cp1252,23,"Cp1252","windows-1252"),re.Cp1256=new re(_e.Cp1256,24,"Cp1256","windows-1256"),re.UnicodeBigUnmarked=new re(_e.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),re.UTF8=new re(_e.UTF8,26,"UTF8","UTF-8"),re.ASCII=new re(_e.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),re.Big5=new re(_e.Big5,28,"Big5"),re.GB18030=new re(_e.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),re.EUC_KR=new re(_e.EUC_KR,30,"EUC_KR","EUC-KR");class yt extends A{}yt.kind="UnsupportedOperationException";class qe{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!qe.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof re?e:re.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(qe.isDecodeFallbackSupported(r)){let o="";for(let s=0,a=e.length;s<a;s++){let u=e[s].toString(16);u.length<2&&(u="0"+u),o+="%"+u}return decodeURIComponent(o)}if(r.equals(re.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new yt(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(re.UTF8)||e.equals(re.ISO8859_1)||e.equals(re.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let s=0;s<r.length;s++)o.push(r[s].charCodeAt(0));return new Uint8Array(o)}}class Pe{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return qe.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Me.CHARACTER_SET)!==void 0)return n.get(Me.CHARACTER_SET).toString();const r=e.length;let o=!0,s=!0,a=!0,u=0,d=0,p=0,E=0,S=0,T=0,O=0,L=0,F=0,V=0,K=0;const pe=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let me=0;me<r&&(o||s||a);me++){const fe=e[me]&255;a&&(u>0?(fe&128)===0?a=!1:u--:(fe&128)!==0&&((fe&64)===0?a=!1:(u++,(fe&32)===0?d++:(u++,(fe&16)===0?p++:(u++,(fe&8)===0?E++:a=!1))))),o&&(fe>127&&fe<160?o=!1:fe>159&&(fe<192||fe===215||fe===247)&&K++),s&&(S>0?fe<64||fe===127||fe>252?s=!1:S--:fe===128||fe===160||fe>239?s=!1:fe>160&&fe<224?(T++,L=0,O++,O>F&&(F=O)):fe>127?(S++,O=0,L++,L>V&&(V=L)):(O=0,L=0))}return a&&u>0&&(a=!1),s&&S>0&&(s=!1),a&&(pe||d+p+E>0)?Pe.UTF8:s&&(Pe.ASSUME_SHIFT_JIS||F>=3||V>=3)?Pe.SHIFT_JIS:o&&s?F===2&&T===2||K*10>=r?Pe.SHIFT_JIS:Pe.ISO88591:o?Pe.ISO88591:s?Pe.SHIFT_JIS:a?Pe.UTF8:Pe.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function o(a,u,d,p,E,S){if(a==="%%")return"%";if(n[++r]===void 0)return;a=p?parseInt(p.substr(1)):void 0;let T=E?parseInt(E.substr(1)):void 0,O;switch(S){case"s":O=n[r];break;case"c":O=n[r][0];break;case"f":O=parseFloat(n[r]).toFixed(a);break;case"p":O=parseFloat(n[r]).toPrecision(a);break;case"e":O=parseFloat(n[r]).toExponential(a);break;case"x":O=parseInt(n[r]).toString(T||16);break;case"d":O=parseFloat(parseInt(n[r],T||10).toPrecision(a)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(T);let L=parseInt(d),F=d&&d[0]+""=="0"?"0":" ";for(;O.length<L;)O=u!==void 0?O+F:F+O;return O}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)}static getBytes(e,n){return qe.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Pe.SHIFT_JIS=re.SJIS.getName(),Pe.GB2312="GB2312",Pe.ISO88591=re.ISO8859_1.getName(),Pe.EUC_JP="EUC_JP",Pe.UTF8=re.UTF8.getName(),Pe.PLATFORM_DEFAULT_ENCODING=Pe.UTF8,Pe.ASSUME_SHIFT_JIS=!1;class Ge{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Pe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let o=n;n<n+r;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ct{constructor(e,n,r,o){if(this.width=e,this.height=n,this.rowSize=r,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new k("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,o=new ct(r,n);for(let s=0;s<n;s++){const a=e[s];for(let u=0;u<r;u++)a[u]&&o.set(u,s)}return o}static parseFromString(e,n,r){if(e===null)throw new k("stringRepresentation cannot be null");const o=new Array(e.length);let s=0,a=0,u=-1,d=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(s>a){if(u===-1)u=s-a;else if(s-a!==u)throw new k("row lengths do not match");a=s,d++}p++}else if(e.substring(p,p+n.length)===n)p+=n.length,o[s]=!0,s++;else if(e.substring(p,p+r.length)===r)p+=r.length,o[s]=!1,s++;else throw new k("illegal character encountered: "+e.substring(p));if(s>a){if(u===-1)u=s-a;else if(s-a!==u)throw new k("row lengths do not match");d++}const E=new ct(u,d);for(let S=0;S<s;S++)o[S]&&E.set(Math.floor(S%u),Math.floor(S/u));return E}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new k("input matrix dimensions do not match");const n=new xe(Math.floor(this.width/32)+1),r=this.rowSize,o=this.bits;for(let s=0,a=this.height;s<a;s++){const u=s*r,d=e.getRow(s,n).getBitArray();for(let p=0;p<r;p++)o[u+p]^=d[p]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,o){if(n<0||e<0)throw new k("Left and top must be nonnegative");if(o<1||r<1)throw new k("Height and width must be at least 1");const s=e+r,a=n+o;if(a>this.height||s>this.width)throw new k("The region must fit inside the matrix");const u=this.rowSize,d=this.bits;for(let p=n;p<a;p++){const E=p*u;for(let S=e;S<s;S++)d[E+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new xe(this.width):n.clear();const r=this.rowSize,o=this.bits,s=e*r;for(let a=0;a<r;a++)n.setBulk(a*32,o[s+a]);return n}setRow(e,n){j.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new xe(e),o=new xe(e);for(let s=0,a=Math.floor((n+1)/2);s<a;s++)r=this.getRow(s,r),o=this.getRow(n-1-s,o),r.reverse(),o.reverse(),this.setRow(s,o),this.setRow(n-1-s,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,o=this.bits;let s=e,a=n,u=-1,d=-1;for(let p=0;p<n;p++)for(let E=0;E<r;E++){const S=o[p*r+E];if(S!==0){if(p<a&&(a=p),p>d&&(d=p),E*32<s){let T=0;for(;(S<<31-T&4294967295)===0;)T++;E*32+T<s&&(s=E*32+T)}if(E*32+31>u){let T=31;for(;!(S>>>T);)T--;E*32+T>u&&(u=E*32+T)}}}return u<s||d<a?null:Int32Array.from([s,a,u-s+1,d-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const o=r/e;let s=r%e*32;const a=n[r];let u=0;for(;(a<<31-u&4294967295)===0;)u++;return s+=u,Int32Array.from([s,o])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const o=Math.floor(r/e);let s=Math.floor(r%e)*32;const a=n[r];let u=31;for(;!(a>>>u);)u--;return s+=u,Int32Array.from([s,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ct))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&oe.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+oe.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let o=new Ge;for(let s=0,a=this.height;s<a;s++){for(let u=0,d=this.width;u<d;u++)o.append(this.get(u,s)?e:n);o.append(r)}return o.toString()}clone(){return new ct(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends A{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class $e extends ne{constructor(e){super(e),this.luminances=$e.EMPTY,this.buckets=new Int32Array($e.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),o=r.getWidth();n==null||n.getSize()<o?n=new xe(o):n.clear(),this.initArrays(o);const s=r.getRow(e,this.luminances),a=this.buckets;for(let d=0;d<o;d++)a[(s[d]&255)>>$e.LUMINANCE_SHIFT]++;const u=$e.estimateBlackPoint(a);if(o<3)for(let d=0;d<o;d++)(s[d]&255)<u&&n.set(d);else{let d=s[0]&255,p=s[1]&255;for(let E=1;E<o-1;E++){const S=s[E+1]&255;(p*4-d-S)/2<u&&n.set(E),d=p,p=S}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),o=new ct(n,r);this.initArrays(n);const s=this.buckets;for(let d=1;d<5;d++){const p=Math.floor(r*d/5),E=e.getRow(p,this.luminances),S=Math.floor(n*4/5);for(let T=Math.floor(n/5);T<S;T++){const O=E[T]&255;s[O>>$e.LUMINANCE_SHIFT]++}}const a=$e.estimateBlackPoint(s),u=e.getMatrix();for(let d=0;d<r;d++){const p=d*n;for(let E=0;E<n;E++)(u[p+E]&255)<a&&o.set(E,d)}return o}createBinarizer(e){return new $e(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<$e.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,o=0,s=0;for(let E=0;E<n;E++)e[E]>s&&(o=E,s=e[E]),e[E]>r&&(r=e[E]);let a=0,u=0;for(let E=0;E<n;E++){const S=E-o,T=e[E]*S*S;T>u&&(a=E,u=T)}if(o>a){const E=o;o=a,a=E}if(a-o<=n/16)throw new $;let d=a-1,p=-1;for(let E=a-1;E>o;E--){const S=E-o,T=S*S*(a-E)*(r-e[E]);T>p&&(d=E,p=T)}return d<<$e.LUMINANCE_SHIFT}}$e.LUMINANCE_BITS=5,$e.LUMINANCE_SHIFT=8-$e.LUMINANCE_BITS,$e.LUMINANCE_BUCKETS=1<<$e.LUMINANCE_BITS,$e.EMPTY=Uint8ClampedArray.from([0]);class Te extends $e{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Te.MINIMUM_DIMENSION&&r>=Te.MINIMUM_DIMENSION){const o=e.getMatrix();let s=n>>Te.BLOCK_SIZE_POWER;(n&Te.BLOCK_SIZE_MASK)!==0&&s++;let a=r>>Te.BLOCK_SIZE_POWER;(r&Te.BLOCK_SIZE_MASK)!==0&&a++;const u=Te.calculateBlackPoints(o,s,a,n,r),d=new ct(n,r);Te.calculateThresholdForBlock(o,s,a,n,r,u,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Te(e)}static calculateThresholdForBlock(e,n,r,o,s,a,u){const d=s-Te.BLOCK_SIZE,p=o-Te.BLOCK_SIZE;for(let E=0;E<r;E++){let S=E<<Te.BLOCK_SIZE_POWER;S>d&&(S=d);const T=Te.cap(E,2,r-3);for(let O=0;O<n;O++){let L=O<<Te.BLOCK_SIZE_POWER;L>p&&(L=p);const F=Te.cap(O,2,n-3);let V=0;for(let pe=-2;pe<=2;pe++){const me=a[T+pe];V+=me[F-2]+me[F-1]+me[F]+me[F+1]+me[F+2]}const K=V/25;Te.thresholdBlock(e,L,S,K,o,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,o,s,a){for(let u=0,d=r*s+n;u<Te.BLOCK_SIZE;u++,d+=s)for(let p=0;p<Te.BLOCK_SIZE;p++)(e[d+p]&255)<=o&&a.set(n+p,r+u)}static calculateBlackPoints(e,n,r,o,s){const a=s-Te.BLOCK_SIZE,u=o-Te.BLOCK_SIZE,d=new Array(r);for(let p=0;p<r;p++){d[p]=new Int32Array(n);let E=p<<Te.BLOCK_SIZE_POWER;E>a&&(E=a);for(let S=0;S<n;S++){let T=S<<Te.BLOCK_SIZE_POWER;T>u&&(T=u);let O=0,L=255,F=0;for(let K=0,pe=E*o+T;K<Te.BLOCK_SIZE;K++,pe+=o){for(let me=0;me<Te.BLOCK_SIZE;me++){const fe=e[pe+me]&255;O+=fe,fe<L&&(L=fe),fe>F&&(F=fe)}if(F-L>Te.MIN_DYNAMIC_RANGE)for(K++,pe+=o;K<Te.BLOCK_SIZE;K++,pe+=o)for(let me=0;me<Te.BLOCK_SIZE;me++)O+=e[pe+me]&255}let V=O>>Te.BLOCK_SIZE_POWER*2;if(F-L<=Te.MIN_DYNAMIC_RANGE&&(V=L/2,p>0&&S>0)){const K=(d[p-1][S]+2*d[p][S-1]+d[p-1][S-1])/4;L<K&&(V=K)}d[p][S]=V}}return d}}Te.BLOCK_SIZE_POWER=3,Te.BLOCK_SIZE=1<<Te.BLOCK_SIZE_POWER,Te.BLOCK_SIZE_MASK=Te.BLOCK_SIZE-1,Te.MINIMUM_DIMENSION=Te.BLOCK_SIZE*5,Te.MIN_DYNAMIC_RANGE=24;class Ee{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,o){throw new yt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new yt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new yt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ge;for(let r=0;r<this.height;r++){const o=this.getRow(r,e);for(let s=0;s<this.width;s++){const a=o[s]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class Z extends Ee{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),o=this.getWidth();for(let s=0;s<o;s++)r[s]=255-(r[s]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let o=0;o<n;o++)r[o]=255-(e[o]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,o){return new Z(this.delegate.crop(e,n,r,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Z(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Z(this.delegate.rotateCounterClockwise45())}}class H extends Ee{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=H.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return H.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const o=new Uint8ClampedArray(n*r);for(let s=0,a=0,u=e.length;s<u;s+=4,a++){let d;if(e[s+3]===0)d=255;else{const E=e[s],S=e[s+1],T=e[s+2];d=306*E+601*S+117*T+512>>10}o[a]=d}return o}getRow(e,n){if(e<0||e>=this.getHeight())throw new k("Requested row is outside the image: "+e);const r=this.getWidth(),o=e*r;return n===null?n=this.buffer.slice(o,o+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(o,o+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,o){return super.crop(e,n,r,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),o=e*H.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),d=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return n.width=u,n.height=d,r.translate(u/2,d/2),r.rotate(o),r.drawImage(this.canvas,s/-2,a/-2),this.buffer=H.makeBufferFromCanvasImageData(n),this}invert(){return new Z(this)}}H.DEGREE_TO_RADIANS=Math.PI/180;class b{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var G=(globalThis||Ua||self||window||void 0)&&(globalThis||Ua||self||window||void 0).__awaiter||function(v,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(E){try{p(r.next(E))}catch(S){a(S)}}function d(E){try{p(r.throw(E))}catch(S){a(S)}}function p(E){E.done?s(E.value):o(E.value).then(u,d)}p((r=r.apply(v,e||[])).next())})};class he{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return G(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const o=r.kind==="video"?"videoinput":r.kind;if(o!=="videoinput")continue;const s=r.deviceId||r.id,a=r.label||`Video device ${n.length+1}`,u=r.groupId,d={deviceId:s,label:a,kind:o,groupId:u};n.push(d)}return n})}getVideoInputDevices(){return G(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new b(n.deviceId,n.label))})}findDeviceById(e){return G(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return G(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return G(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const o={video:r};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(e,n){return G(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return G(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return G(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return G(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeFromConstraints(s,n,r)})}decodeFromConstraints(e,n,r){return G(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,n,r)})}decodeFromStream(e,n,r){return G(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(o,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return G(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return G(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new P(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new P(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new P("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new P("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new P("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new P("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new P("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new P("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new P("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(r,n);return r.src=e,o}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return G(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return G(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const o=(s,a)=>{if(this._stopAsyncDecode){a(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);s(u)}catch(u){const d=n&&u instanceof $,E=(u instanceof J||u instanceof se)&&r;if(d||E)return setTimeout(o,this._timeBetweenDecodingAttempts,s,a);a(u)}};return new Promise((s,a)=>o(s,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);n(o,null),setTimeout(r,this.timeBetweenScansMillis)}catch(o){n(null,o);const s=o instanceof J||o instanceof se,a=o instanceof $;(s||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new H(n),o=new Te(r);return new Y(o)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,o;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=o+"px",n.width=r,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ye{constructor(e,n,r=n==null?0:8*n.length,o,s,a=j.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=o,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=o,this.format=s,this.resultMetadata=null,a==null?this.timestamp=j.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);j.arraycopy(n,0,r,0,n.length),j.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ue;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var ee=Ue,ve;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ve||(ve={}));var Ae=ve;class je{constructor(e,n,r,o,s=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=o,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class rt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new k;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class gt{constructor(e,n){if(n.length===0)throw new k;this.field=e;const r=n.length;if(r>1&&n[0]===0){let o=1;for(;o<r&&n[o]===0;)o++;o===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-o),j.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let a=0,u=n.length;a!==u;a++){const d=n[a];r=rt.addOrSubtract(r,d)}return r}r=n[0];const o=n.length,s=this.field;for(let a=1;a<o;a++)r=rt.addOrSubtract(s.multiply(e,r),n[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const a=n;n=r,r=a}let o=new Int32Array(r.length);const s=r.length-n.length;j.arraycopy(r,0,o,0,s);for(let a=s;a<r.length;a++)o[a]=rt.addOrSubtract(n[a-s],r[a]);return new gt(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,o=e.coefficients,s=o.length,a=new Int32Array(r+s-1),u=this.field;for(let d=0;d<r;d++){const p=n[d];for(let E=0;E<s;E++)a[d+E]=rt.addOrSubtract(a[d+E],u.multiply(p,o[E]))}return new gt(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,o=new Int32Array(n),s=this.coefficients;for(let a=0;a<n;a++)o[a]=r.multiply(s[a],e);return new gt(r,o)}multiplyByMonomial(e,n){if(e<0)throw new k;if(n===0)return this.field.getZero();const r=this.coefficients,o=r.length,s=new Int32Array(o+e),a=this.field;for(let u=0;u<o;u++)s[u]=a.multiply(r[u],n);return new gt(a,s)}divide(e){if(!this.field.equals(e.field))throw new k("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new k("Divide by 0");const n=this.field;let r=n.getZero(),o=this;const s=e.getCoefficient(e.getDegree()),a=n.inverse(s);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const u=o.getDegree()-e.getDegree(),d=n.multiply(o.getCoefficient(o.getDegree()),a),p=e.multiplyByMonomial(u,d),E=n.buildMonomial(u,d);r=r.addOrSubtract(E),o=o.addOrSubtract(p)}return[r,o]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const o=this.field.log(r);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Oi extends A{}Oi.kind="ArithmeticException";class at extends rt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const o=new Int32Array(n);let s=1;for(let u=0;u<n;u++)o[u]=s,s*=2,s>=n&&(s^=e,s&=n-1);this.expTable=o;const a=new Int32Array(n);for(let u=0;u<n-1;u++)a[o[u]]=u;this.logTable=a,this.zero=new gt(this,Int32Array.from([0])),this.one=new gt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new k;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new gt(this,r)}inverse(e){if(e===0)throw new Oi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+le.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class Ar extends A{}Ar.kind="ReedSolomonException";class Hn extends A{}Hn.kind="IllegalStateException";class ei{constructor(e){this.field=e}decode(e,n){const r=this.field,o=new gt(r,e),s=new Int32Array(n);let a=!0;for(let O=0;O<n;O++){const L=o.evaluateAt(r.exp(O+r.getGeneratorBase()));s[s.length-1-O]=L,L!==0&&(a=!1)}if(a)return;const u=new gt(r,s),d=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),p=d[0],E=d[1],S=this.findErrorLocations(p),T=this.findErrorMagnitudes(E,S);for(let O=0;O<S.length;O++){const L=e.length-1-r.log(S[O]);if(L<0)throw new Ar("Bad error location");e[L]=at.addOrSubtract(e[L],T[O])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const O=e;e=n,n=O}const o=this.field;let s=e,a=n,u=o.getZero(),d=o.getOne();for(;a.getDegree()>=(r/2|0);){let O=s,L=u;if(s=a,u=d,s.isZero())throw new Ar("r_{i-1} was zero");a=O;let F=o.getZero();const V=s.getCoefficient(s.getDegree()),K=o.inverse(V);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){const pe=a.getDegree()-s.getDegree(),me=o.multiply(a.getCoefficient(a.getDegree()),K);F=F.addOrSubtract(o.buildMonomial(pe,me)),a=a.addOrSubtract(s.multiplyByMonomial(pe,me))}if(d=F.multiply(u).addOrSubtract(L),a.getDegree()>=s.getDegree())throw new Hn("Division algorithm failed to reduce polynomial?")}const p=d.getCoefficient(0);if(p===0)throw new Ar("sigmaTilde(0) was zero");const E=o.inverse(p),S=d.multiplyScalar(E),T=a.multiplyScalar(E);return[S,T]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let o=0;const s=this.field;for(let a=1;a<s.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(r[o]=s.inverse(a),o++);if(o!==n)throw new Ar("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,o=new Int32Array(r),s=this.field;for(let a=0;a<r;a++){const u=s.inverse(n[a]);let d=1;for(let p=0;p<r;p++)if(a!==p){const E=s.multiply(n[p],u),S=(E&1)===0?E|1:E&-2;d=s.multiply(d,S)}o[a]=s.multiply(e.evaluateAt(u),s.inverse(d)),s.getGeneratorBase()!==0&&(o[a]=s.multiply(o[a],u))}return o}}var Xt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(Xt||(Xt={}));class Et{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),o=this.correctBits(r),s=Et.convertBoolArrayToByteArray(o),a=Et.getEncodedData(o),u=new je(s,a,null,null);return u.setNumBits(o.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Xt.UPPER,o=Xt.UPPER,s="",a=0;for(;a<n;)if(o===Xt.BINARY){if(n-a<5)break;let u=Et.readCode(e,a,5);if(a+=5,u===0){if(n-a<11)break;u=Et.readCode(e,a,11)+31,a+=11}for(let d=0;d<u;d++){if(n-a<8){a=n;break}const p=Et.readCode(e,a,8);s+=Pe.castAsNonUtf8Char(p),a+=8}o=r}else{let u=o===Xt.DIGIT?4:5;if(n-a<u)break;let d=Et.readCode(e,a,u);a+=u;let p=Et.getCharacter(o,d);p.startsWith("CTRL_")?(r=o,o=Et.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=o)):(s+=p,o=r)}return s}static getTable(e){switch(e){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(e,n){switch(e){case Xt.UPPER:return Et.UPPER_TABLE[n];case Xt.LOWER:return Et.LOWER_TABLE[n];case Xt.MIXED:return Et.MIXED_TABLE[n];case Xt.PUNCT:return Et.PUNCT_TABLE[n];case Xt.DIGIT:return Et.DIGIT_TABLE[n];default:throw new Hn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=at.AZTEC_DATA_10):(r=12,n=at.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),s=e.length/r;if(s<o)throw new se;let a=e.length%r,u=new Int32Array(s);for(let T=0;T<s;T++,a+=r)u[T]=Et.readCode(e,a,r);try{new ei(n).decode(u,s-o)}catch(T){throw new se(T)}let d=(1<<r)-1,p=0;for(let T=0;T<o;T++){let O=u[T];if(O===0||O===d)throw new se;(O===1||O===d-1)&&p++}let E=new Array(o*r-p),S=0;for(let T=0;T<o;T++){let O=u[T];if(O===1||O===d-1)E.fill(O>1,S,S+r-1),S+=r-1;else for(let L=r-1;L>=0;--L)E[S++]=(O&1<<L)!==0}return E}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),o=(n?11:14)+r*4,s=new Int32Array(o),a=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<s.length;u++)s[u]=u;else{let u=o+1+2*le.truncDivision(le.truncDivision(o,2)-1,15),d=o/2,p=le.truncDivision(u,2);for(let E=0;E<d;E++){let S=E+le.truncDivision(E,15);s[d-E-1]=p-S-1,s[d+E]=p+S+1}}for(let u=0,d=0;u<r;u++){let p=(r-u)*4+(n?9:12),E=u*2,S=o-1-E;for(let T=0;T<p;T++){let O=T*2;for(let L=0;L<2;L++)a[d+O+L]=e.get(s[E+L],s[E+T]),a[d+2*p+O+L]=e.get(s[E+T],s[S-L]),a[d+4*p+O+L]=e.get(s[S-L],s[S-T]),a[d+6*p+O+L]=e.get(s[S-T],s[E+L])}d+=p*8}return a}static readCode(e,n,r){let o=0;for(let s=n;s<n+r;s++)o<<=1,e[s]&&(o|=1);return o}static readByte(e,n){let r=e.length-n;return r>=8?Et.readCode(e,n,8):Et.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=Et.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,o){const s=e-r,a=n-o;return Math.sqrt(s*s+a*a)}static sum(e){let n=0;for(let r=0,o=e.length;r!==o;r++){const s=e[r];n+=s}return n}}class vr{static floatToIntBits(e){return e}}vr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ne){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*vr.floatToIntBits(this.x)+vr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let s,a,u;if(r>=n&&r>=o?(a=e[0],s=e[1],u=e[2]):o>=r&&o>=n?(a=e[1],s=e[0],u=e[2]):(a=e[2],s=e[0],u=e[1]),this.crossProductZ(s,a,u)<0){const d=s;s=u,u=d}e[0]=s,e[1]=a,e[2]=u}static distance(e,n){return it.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const o=n.x,s=n.y;return(r.x-o)*(e.y-s)-(r.y-s)*(e.x-o)}}class ti{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Fo extends ti{constructor(e,n,r,o,s){super(e,n),this.compact=r,this.nbDatablocks=o,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class er{constructor(e,n,r,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=er.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const s=n/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=o-s,this.downInit=o+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,o=this.downInit,s=!1,a=!0,u=!1,d=!1,p=!1,E=!1,S=!1;const T=this.width,O=this.height;for(;a;){a=!1;let L=!0;for(;(L||!d)&&n<T;)L=this.containsBlackPoint(r,o,n,!1),L?(n++,a=!0,d=!0):d||n++;if(n>=T){s=!0;break}let F=!0;for(;(F||!p)&&o<O;)F=this.containsBlackPoint(e,n,o,!0),F?(o++,a=!0,p=!0):p||o++;if(o>=O){s=!0;break}let V=!0;for(;(V||!E)&&e>=0;)V=this.containsBlackPoint(r,o,e,!1),V?(e--,a=!0,E=!0):E||e--;if(e<0){s=!0;break}let K=!0;for(;(K||!S)&&r>=0;)K=this.containsBlackPoint(e,n,r,!0),K?(r--,a=!0,S=!0):S||r--;if(r<0){s=!0;break}a&&(u=!0)}if(!s&&u){const L=n-e;let F=null;for(let me=1;F===null&&me<L;me++)F=this.getBlackPointOnSegment(e,o-me,e+me,o);if(F==null)throw new $;let V=null;for(let me=1;V===null&&me<L;me++)V=this.getBlackPointOnSegment(e,r+me,e+me,r);if(V==null)throw new $;let K=null;for(let me=1;K===null&&me<L;me++)K=this.getBlackPointOnSegment(n,r+me,n-me,r);if(K==null)throw new $;let pe=null;for(let me=1;pe===null&&me<L;me++)pe=this.getBlackPointOnSegment(n,o-me,n-me,o);if(pe==null)throw new $;return this.centerEdges(pe,F,K,V)}else throw new $}getBlackPointOnSegment(e,n,r,o){const s=it.round(it.distance(e,n,r,o)),a=(r-e)/s,u=(o-n)/s,d=this.image;for(let p=0;p<s;p++){const E=it.round(e+p*a),S=it.round(n+p*u);if(d.get(E,S))return new Ne(E,S)}return null}centerEdges(e,n,r,o){const s=e.getX(),a=e.getY(),u=n.getX(),d=n.getY(),p=r.getX(),E=r.getY(),S=o.getX(),T=o.getY(),O=er.CORR;return s<this.width/2?[new Ne(S-O,T+O),new Ne(u+O,d+O),new Ne(p-O,E-O),new Ne(s+O,a-O)]:[new Ne(S+O,T+O),new Ne(u+O,d-O),new Ne(p-O,E+O),new Ne(s-O,a-O)]}containsBlackPoint(e,n,r,o){const s=this.image;if(o){for(let a=e;a<=n;a++)if(s.get(a,r))return!0}else for(let a=e;a<=n;a++)if(s.get(r,a))return!0;return!1}}er.INIT_SIZE=10,er.CORR=1;class ro{static checkAndNudgePoints(e,n){const r=e.getWidth(),o=e.getHeight();let s=!0;for(let a=0;a<n.length&&s;a+=2){const u=Math.floor(n[a]),d=Math.floor(n[a+1]);if(u<-1||u>r||d<-1||d>o)throw new $;s=!1,u===-1?(n[a]=0,s=!0):u===r&&(n[a]=r-1,s=!0),d===-1?(n[a+1]=0,s=!0):d===o&&(n[a+1]=o-1,s=!0)}s=!0;for(let a=n.length-2;a>=0&&s;a-=2){const u=Math.floor(n[a]),d=Math.floor(n[a+1]);if(u<-1||u>r||d<-1||d>o)throw new $;s=!1,u===-1?(n[a]=0,s=!0):u===r&&(n[a]=r-1,s=!0),d===-1?(n[a+1]=0,s=!0):d===o&&(n[a+1]=o-1,s=!0)}}}class Dn{constructor(e,n,r,o,s,a,u,d,p){this.a11=e,this.a21=n,this.a31=r,this.a12=o,this.a22=s,this.a32=a,this.a13=u,this.a23=d,this.a33=p}static quadrilateralToQuadrilateral(e,n,r,o,s,a,u,d,p,E,S,T,O,L,F,V){const K=Dn.quadrilateralToSquare(e,n,r,o,s,a,u,d);return Dn.squareToQuadrilateral(p,E,S,T,O,L,F,V).times(K)}transformPoints(e){const n=e.length,r=this.a11,o=this.a12,s=this.a13,a=this.a21,u=this.a22,d=this.a23,p=this.a31,E=this.a32,S=this.a33;for(let T=0;T<n;T+=2){const O=e[T],L=e[T+1],F=s*O+d*L+S;e[T]=(r*O+a*L+p)/F,e[T+1]=(o*O+u*L+E)/F}}transformPointsWithValues(e,n){const r=this.a11,o=this.a12,s=this.a13,a=this.a21,u=this.a22,d=this.a23,p=this.a31,E=this.a32,S=this.a33,T=e.length;for(let O=0;O<T;O++){const L=e[O],F=n[O],V=s*L+d*F+S;e[O]=(r*L+a*F+p)/V,n[O]=(o*L+u*F+E)/V}}static squareToQuadrilateral(e,n,r,o,s,a,u,d){const p=e-r+s-u,E=n-o+a-d;if(p===0&&E===0)return new Dn(r-e,s-r,e,o-n,a-o,n,0,0,1);{const S=r-s,T=u-s,O=o-a,L=d-a,F=S*L-T*O,V=(p*L-T*E)/F,K=(S*E-p*O)/F;return new Dn(r-e+V*r,u-e+K*u,e,o-n+V*o,d-n+K*d,n,V,K,1)}}static quadrilateralToSquare(e,n,r,o,s,a,u,d){return Dn.squareToQuadrilateral(e,n,r,o,s,a,u,d).buildAdjoint()}buildAdjoint(){return new Dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Dn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class io extends ro{sampleGrid(e,n,r,o,s,a,u,d,p,E,S,T,O,L,F,V,K,pe,me){const fe=Dn.quadrilateralToQuadrilateral(o,s,a,u,d,p,E,S,T,O,L,F,V,K,pe,me);return this.sampleGridWithTransform(e,n,r,fe)}sampleGridWithTransform(e,n,r,o){if(n<=0||r<=0)throw new $;const s=new ct(n,r),a=new Float32Array(2*n);for(let u=0;u<r;u++){const d=a.length,p=u+.5;for(let E=0;E<d;E+=2)a[E]=E/2+.5,a[E+1]=p;o.transformPoints(a),ro.checkAndNudgePoints(e,a);try{for(let E=0;E<d;E+=2)e.get(Math.floor(a[E]),Math.floor(a[E+1]))&&s.set(E/2,u)}catch{throw new $}}return s}}class zn{static setGridSampler(e){zn.gridSampler=e}static getInstance(){return zn.gridSampler}}zn.gridSampler=new io;class ln{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ni{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new Fo(o,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let o=0;for(let a=0;a<4;a++){let u=r[(this.shift+a)%4];this.compact?(o<<=7,o+=u>>1&127):(o<<=10,o+=(u>>2&992)+(u>>1&31))}let s=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,n){let r=0;e.forEach((o,s,a)=>{let u=(o>>n-2<<1)+(o&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let o=0;o<4;o++)if(le.bitCount(r^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new $}getCorrectedParameterData(e,n){let r,o;n?(r=7,o=2):(r=10,o=4);let s=r-o,a=new Int32Array(r);for(let d=r-1;d>=0;--d)a[d]=e&15,e>>=4;try{new ei(at.AZTEC_PARAM).decode(a,s)}catch{throw new $}let u=0;for(let d=0;d<o;d++)u=(u<<4)+a[d];return u}getBullsEyeCorners(e){let n=e,r=e,o=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(n,a,1,-1),T=this.getFirstDifferent(r,a,1,1),O=this.getFirstDifferent(o,a,-1,1),L=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(L,S)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(S,T,O,L))break}n=S,r=T,o=O,s=L,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let u=new Ne(n.getX()+.5,n.getY()-.5),d=new Ne(r.getX()+.5,r.getY()+.5),p=new Ne(o.getX()-.5,o.getY()+.5),E=new Ne(s.getX()-.5,s.getY()-.5);return this.expandSquare([u,d,p,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,o;try{let u=new er(this.image).detect();e=u[0],n=u[1],r=u[2],o=u[3]}catch{let d=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new ln(d+7,p-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ln(d+7,p+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ln(d-7,p+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ln(d-7,p-7),!1,-1,-1).toResultPoint()}let s=it.round((e.getX()+o.getX()+n.getX()+r.getX())/4),a=it.round((e.getY()+o.getY()+n.getY()+r.getY())/4);try{let u=new er(this.image,15,s,a).detect();e=u[0],n=u[1],r=u[2],o=u[3]}catch{e=this.getFirstDifferent(new ln(s+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ln(s+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ln(s-7,a+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new ln(s-7,a-7),!1,-1,-1).toResultPoint()}return s=it.round((e.getX()+o.getX()+n.getX()+r.getX())/4),a=it.round((e.getY()+o.getY()+n.getY()+r.getY())/4),new ln(s,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,o,s){let a=zn.getInstance(),u=this.getDimension(),d=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,d,d,p,d,p,p,d,p,n.getX(),n.getY(),r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY())}sampleLine(e,n,r){let o=0,s=this.distanceResultPoint(e,n),a=s/r,u=e.getX(),d=e.getY(),p=a*(n.getX()-e.getX())/s,E=a*(n.getY()-e.getY())/s;for(let S=0;S<r;S++)this.image.get(it.round(u+S*p),it.round(d+S*E))&&(o|=1<<r-S-1);return o}isWhiteOrBlackRectangle(e,n,r,o){let s=3;e=new ln(e.getX()-s,e.getY()+s),n=new ln(n.getX()-s,n.getY()-s),r=new ln(r.getX()+s,r.getY()-s),o=new ln(o.getX()+s,o.getY()+s);let a=this.getColor(o,e);if(a===0)return!1;let u=this.getColor(e,n);return u!==a||(u=this.getColor(n,r),u!==a)?!1:(u=this.getColor(r,o),u===a)}getColor(e,n){let r=this.distancePoint(e,n),o=(n.getX()-e.getX())/r,s=(n.getY()-e.getY())/r,a=0,u=e.getX(),d=e.getY(),p=this.image.get(e.getX(),e.getY()),E=Math.ceil(r);for(let T=0;T<E;T++)u+=o,d+=s,this.image.get(it.round(u),it.round(d))!==p&&a++;let S=a/r;return S>.1&&S<.9?0:S<=.1===p?1:-1}getFirstDifferent(e,n,r,o){let s=e.getX()+r,a=e.getY()+o;for(;this.isValid(s,a)&&this.image.get(s,a)===n;)s+=r,a+=o;for(s-=r,a-=o;this.isValid(s,a)&&this.image.get(s,a)===n;)s+=r;for(s-=r;this.isValid(s,a)&&this.image.get(s,a)===n;)a+=o;return a-=o,new ln(s,a)}expandSquare(e,n,r){let o=r/(2*n),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,p=new Ne(u+o*s,d+o*a),E=new Ne(u-o*s,d-o*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let S=new Ne(u+o*s,d+o*a),T=new Ne(u-o*s,d-o*a);return[p,S,E,T]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=it.round(e.getX()),r=it.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return it.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return it.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(le.truncDivision(this.nbLayers-4,8)+1)+15}}class Sr{decode(e,n=null){let r=null,o=new ni(e.getBlackMatrix()),s=null,a=null;try{let E=o.detectMirror(!1);s=E.getPoints(),this.reportFoundResultPoints(n,s),a=new Et().decode(E)}catch(E){r=E}if(a==null)try{let E=o.detectMirror(!0);s=E.getPoints(),this.reportFoundResultPoints(n,s),a=new Et().decode(E)}catch(E){throw r??E}let u=new ye(a.getText(),a.getRawBytes(),a.getNumBits(),s,ee.AZTEC,j.currentTimeMillis()),d=a.getByteSegments();d!=null&&u.putMetadata(Ae.BYTE_SEGMENTS,d);let p=a.getECLevel();return p!=null&&u.putMetadata(Ae.ERROR_CORRECTION_LEVEL,p),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Me.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((o,s,a)=>{r.foundPossibleResultPoint(o)})}}reset(){}}class $a extends he{constructor(e=500){super(new Sr,e)}}class Bt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Me.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),a=this.doDecode(s,n),u=a.getResultMetadata();let d=270;u!==null&&u.get(Ae.ORIENTATION)===!0&&(d=d+u.get(Ae.ORIENTATION)%360),a.putMetadata(Ae.ORIENTATION,d);const p=a.getResultPoints();if(p!==null){const E=s.getHeight();for(let S=0;S<p.length;S++)p[S]=new Ne(E-p[S].getY()-1,p[S].getX())}return a}else throw new $}}reset(){}doDecode(e,n){const r=e.getWidth(),o=e.getHeight();let s=new xe(r);const a=n&&n.get(Me.TRY_HARDER)===!0,u=Math.max(1,o>>(a?8:5));let d;a?d=o:d=15;const p=Math.trunc(o/2);for(let E=0;E<d;E++){const S=Math.trunc((E+1)/2),T=(E&1)===0,O=p+u*(T?S:-S);if(O<0||O>=o)break;try{s=e.getBlackRow(O,s)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(s.reverse(),n&&n.get(Me.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;n.forEach((V,K)=>F.set(K,V)),F.delete(Me.NEED_RESULT_POINT_CALLBACK),n=F}try{const F=this.decodeRow(O,s,n);if(L===1){F.putMetadata(Ae.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new Ne(r-V[0].getX()-1,V[0].getY()),V[1]=new Ne(r-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new $}static recordPattern(e,n,r){const o=r.length;for(let p=0;p<o;p++)r[p]=0;const s=e.getSize();if(n>=s)throw new $;let a=!e.get(n),u=0,d=n;for(;d<s;){if(e.get(d)!==a)r[u]++;else{if(++u===o)break;r[u]=1,a=!a}d++}if(!(u===o||u===o-1&&d===s))throw new $}static recordPatternInReverse(e,n,r){let o=r.length,s=e.get(n);for(;n>0&&o>=0;)e.get(--n)!==s&&(o--,s=!s);if(o>=0)throw new $;Bt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const o=e.length;let s=0,a=0;for(let p=0;p<o;p++)s+=e[p],a+=n[p];if(s<a)return Number.POSITIVE_INFINITY;const u=s/a;r*=u;let d=0;for(let p=0;p<o;p++){const E=e[p],S=n[p]*u,T=E>S?E-S:S-E;if(T>r)return Number.POSITIVE_INFINITY;d+=T}return d/s}}class Ce extends Bt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let o=0,s=Int32Array.from([0,0,0,0,0,0]),a=r,u=!1;const d=6;for(let p=r;p<n;p++)if(e.get(p)!==u)s[o]++;else{if(o===d-1){let E=Ce.MAX_AVG_VARIANCE,S=-1;for(let T=Ce.CODE_START_A;T<=Ce.CODE_START_C;T++){const O=Bt.patternMatchVariance(s,Ce.CODE_PATTERNS[T],Ce.MAX_INDIVIDUAL_VARIANCE);O<E&&(E=O,S=T)}if(S>=0&&e.isRange(Math.max(0,a-(p-a)/2),a,!1))return Int32Array.from([a,p,S]);a+=s[0]+s[1],s=s.slice(2,s.length-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,u=!u}throw new $}static decodeCode(e,n,r){Bt.recordPattern(e,r,n);let o=Ce.MAX_AVG_VARIANCE,s=-1;for(let a=0;a<Ce.CODE_PATTERNS.length;a++){const u=Ce.CODE_PATTERNS[a],d=this.patternMatchVariance(n,u,Ce.MAX_INDIVIDUAL_VARIANCE);d<o&&(o=d,s=a)}if(s>=0)return s;throw new $}decodeRow(e,n,r){const o=r&&r.get(Me.ASSUME_GS1)===!0,s=Ce.findStartPattern(n),a=s[2];let u=0;const d=new Uint8Array(20);d[u++]=a;let p;switch(a){case Ce.CODE_START_A:p=Ce.CODE_CODE_A;break;case Ce.CODE_START_B:p=Ce.CODE_CODE_B;break;case Ce.CODE_START_C:p=Ce.CODE_CODE_C;break;default:throw new se}let E=!1,S=!1,T="",O=s[0],L=s[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,K=0,pe=a,me=0,fe=!0,et=!1,Ke=!1;for(;!E;){const pr=S;switch(S=!1,V=K,K=Ce.decodeCode(n,F,L),d[u++]=K,K!==Ce.CODE_STOP&&(fe=!0),K!==Ce.CODE_STOP&&(me++,pe+=me*K),O=L,L+=F.reduce((hi,os)=>hi+os,0),K){case Ce.CODE_START_A:case Ce.CODE_START_B:case Ce.CODE_START_C:throw new se}switch(p){case Ce.CODE_CODE_A:if(K<64)Ke===et?T+=String.fromCharCode(32+K):T+=String.fromCharCode(32+K+128),Ke=!1;else if(K<96)Ke===et?T+=String.fromCharCode(K-64):T+=String.fromCharCode(K+64),Ke=!1;else switch(K!==Ce.CODE_STOP&&(fe=!1),K){case Ce.CODE_FNC_1:o&&(T.length===0?T+="]C1":T+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_A:!et&&Ke?(et=!0,Ke=!1):et&&Ke?(et=!1,Ke=!1):Ke=!0;break;case Ce.CODE_SHIFT:S=!0,p=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_B:p=Ce.CODE_CODE_B;break;case Ce.CODE_CODE_C:p=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:E=!0;break}break;case Ce.CODE_CODE_B:if(K<96)Ke===et?T+=String.fromCharCode(32+K):T+=String.fromCharCode(32+K+128),Ke=!1;else switch(K!==Ce.CODE_STOP&&(fe=!1),K){case Ce.CODE_FNC_1:o&&(T.length===0?T+="]C1":T+="");break;case Ce.CODE_FNC_2:case Ce.CODE_FNC_3:break;case Ce.CODE_FNC_4_B:!et&&Ke?(et=!0,Ke=!1):et&&Ke?(et=!1,Ke=!1):Ke=!0;break;case Ce.CODE_SHIFT:S=!0,p=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_A:p=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_C:p=Ce.CODE_CODE_C;break;case Ce.CODE_STOP:E=!0;break}break;case Ce.CODE_CODE_C:if(K<100)K<10&&(T+="0"),T+=K;else switch(K!==Ce.CODE_STOP&&(fe=!1),K){case Ce.CODE_FNC_1:o&&(T.length===0?T+="]C1":T+="");break;case Ce.CODE_CODE_A:p=Ce.CODE_CODE_A;break;case Ce.CODE_CODE_B:p=Ce.CODE_CODE_B;break;case Ce.CODE_STOP:E=!0;break}break}pr&&(p=p===Ce.CODE_CODE_A?Ce.CODE_CODE_B:Ce.CODE_CODE_A)}const vn=L-O;if(L=n.getNextUnset(L),!n.isRange(L,Math.min(n.getSize(),L+(L-O)/2),!1))throw new $;if(pe-=me*V,pe%103!==V)throw new J;const Zn=T.length;if(Zn===0)throw new $;Zn>0&&fe&&(p===Ce.CODE_CODE_C?T=T.substring(0,Zn-2):T=T.substring(0,Zn-1));const Zt=(s[1]+s[0])/2,xt=O+vn/2,Ft=d.length,mn=new Uint8Array(Ft);for(let pr=0;pr<Ft;pr++)mn[pr]=d[pr];const Vr=[new Ne(Zt,e),new Ne(xt,e)];return new ye(T,mn,0,Vr,ee.CODE_128,new Date().getTime())}}Ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ce.MAX_AVG_VARIANCE=.25,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.CODE_SHIFT=98,Ce.CODE_CODE_C=99,Ce.CODE_CODE_B=100,Ce.CODE_CODE_A=101,Ce.CODE_FNC_1=102,Ce.CODE_FNC_2=97,Ce.CODE_FNC_3=96,Ce.CODE_FNC_4_A=101,Ce.CODE_FNC_4_B=100,Ce.CODE_START_A=103,Ce.CODE_START_B=104,Ce.CODE_START_C=105,Ce.CODE_STOP=106;class jt extends Bt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let o=this.counters;o.fill(0),this.decodeRowResult="";let s=jt.findAsteriskPattern(n,o),a=n.getNextSet(s[1]),u=n.getSize(),d,p;do{jt.recordPattern(n,a,o);let F=jt.toNarrowWidePattern(o);if(F<0)throw new $;d=jt.patternToChar(F),this.decodeRowResult+=d,p=a;for(let V of o)a+=V;a=n.getNextSet(a)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let F of o)E+=F;let S=a-p-E;if(a!==u&&S*2<E)throw new $;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let K=0;K<F;K++)V+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(F)!==jt.ALPHABET_STRING.charAt(V%43))throw new J;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new $;let T;this.extendedMode?T=jt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let O=(s[1]+s[0])/2,L=p+E/2;return new ye(T,null,0,[new Ne(O,e),new Ne(L,e)],ee.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),o=e.getNextSet(0),s=0,a=o,u=!1,d=n.length;for(let p=o;p<r;p++)if(e.get(p)!==u)n[s]++;else{if(s===d-1){if(this.toNarrowWidePattern(n)===jt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((p-a)/2)),a,!1))return[a,p];a+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,u=!u}throw new $}static toNarrowWidePattern(e){let n=e.length,r=0,o;do{let s=2147483647;for(let d of e)d<s&&d>r&&(s=d);r=s,o=0;let a=0,u=0;for(let d=0;d<n;d++){let p=e[d];p>r&&(u|=1<<n-1-d,o++,a+=p)}if(o===3){for(let d=0;d<n&&o>0;d++){let p=e[d];if(p>r&&(o--,p*2>=a))return-1}return u}}while(o>3);return-1}static patternToChar(e){for(let n=0;n<jt.CHARACTER_ENCODINGS.length;n++)if(jt.CHARACTER_ENCODINGS[n]===e)return jt.ALPHABET_STRING.charAt(n);if(e===jt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(e){let n=e.length,r="";for(let o=0;o<n;o++){let s=e.charAt(o);if(s==="+"||s==="$"||s==="%"||s==="/"){let a=e.charAt(o+1),u="\0";switch(s){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new se;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new se;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="";else throw new se;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new se;break}r+=u,o++}else r+=s}return r}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class pt extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let o=this.decodeStart(n),s=this.decodeEnd(n),a=new Ge;pt.decodeMiddle(n,o[1],s[0],a);let u=a.toString(),d=null;r!=null&&(d=r.get(Me.ALLOWED_LENGTHS)),d==null&&(d=pt.DEFAULT_ALLOWED_LENGTHS);let p=u.length,E=!1,S=0;for(let L of d){if(p===L){E=!0;break}L>S&&(S=L)}if(!E&&p>S&&(E=!0),!E)throw new se;const T=[new Ne(o[1],e),new Ne(s[0],e)];return new ye(u,null,0,T,ee.ITF,new Date().getTime())}static decodeMiddle(e,n,r,o){let s=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),a.fill(0),u.fill(0);n<r;){Bt.recordPattern(e,n,s);for(let p=0;p<5;p++){let E=2*p;a[p]=s[E],u[p]=s[E+1]}let d=pt.decodeDigit(a);o.append(d.toString()),d=this.decodeDigit(u),o.append(d.toString()),s.forEach(function(p){n+=p})}}decodeStart(e){let n=pt.skipWhiteSpace(e),r=pt.findGuardPattern(e,n,pt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let o=n-1;r>0&&o>=0&&!e.get(o);o--)r--;if(r!==0)throw new $}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new $;return r}decodeEnd(e){e.reverse();try{let n=pt.skipWhiteSpace(e),r;try{r=pt.findGuardPattern(e,n,pt.END_PATTERN_REVERSED[0])}catch(s){s instanceof $&&(r=pt.findGuardPattern(e,n,pt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let o=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-o,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let o=r.length,s=new Int32Array(o),a=e.getSize(),u=!1,d=0,p=n;s.fill(0);for(let E=n;E<a;E++)if(e.get(E)!==u)s[d]++;else{if(d===o-1){if(Bt.patternMatchVariance(s,r,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return[p,E];p+=s[0]+s[1],j.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,u=!u}throw new $}static decodeDigit(e){let n=pt.MAX_AVG_VARIANCE,r=-1,o=pt.PATTERNS.length;for(let s=0;s<o;s++){let a=pt.PATTERNS[s],u=Bt.patternMatchVariance(e,a,pt.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=s):u===n&&(r=-1)}if(r>=0)return r%10;throw new $}}pt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],pt.MAX_AVG_VARIANCE=.38,pt.MAX_INDIVIDUAL_VARIANCE=.5,pt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],pt.START_PATTERN=Int32Array.from([1,1,1,1]),pt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Tt extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,o=0,s=Int32Array.from([0,0,0]);for(;!n;){s=Int32Array.from([0,0,0]),r=Tt.findGuardPattern(e,o,!1,this.START_END_PATTERN,s);let a=r[0];o=r[1];let u=a-(o-a);u>=0&&(n=e.isRange(u,a,!1))}return r}static checkChecksum(e){return Tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Tt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let o=n-1;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new se;r+=s}r*=3;for(let o=n-2;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new se;r+=s}return(1e3-r)%10}static decodeEnd(e,n){return Tt.findGuardPattern(e,n,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,o){return this.findGuardPattern(e,n,r,o,new Int32Array(o.length))}static findGuardPattern(e,n,r,o,s){let a=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,d=n,p=o.length,E=r;for(let S=n;S<a;S++)if(e.get(S)!==E)s[u]++;else{if(u===p-1){if(Bt.patternMatchVariance(s,o,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return Int32Array.from([d,S]);d+=s[0]+s[1];let T=s.slice(2,s.length-1);for(let O=0;O<u-1;O++)s[O]=T[O];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,E=!E}throw new $}static decodeDigit(e,n,r,o){this.recordPattern(e,r,n);let s=this.MAX_AVG_VARIANCE,a=-1,u=o.length;for(let d=0;d<u;d++){let p=o[d],E=Bt.patternMatchVariance(n,p,Tt.MAX_INDIVIDUAL_VARIANCE);E<s&&(s=E,a=d)}if(a>=0)return a;throw new $}}Tt.MAX_AVG_VARIANCE=.48,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.START_END_PATTERN=Int32Array.from([1,1,1]),Tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Pr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let o=this.decodeRowStringBuffer,s=this.decodeMiddle(n,r,o),a=o.toString(),u=Pr.parseExtensionString(a),d=[new Ne((r[0]+r[1])/2,e),new Ne(s,e)],p=new ye(a,null,0,d,ee.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1],u=0;for(let p=0;p<5&&a<s;p++){let E=Tt.decodeDigit(e,o,a,Tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let S of o)a+=S;E>=10&&(u|=1<<4-p),p!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new $;let d=this.determineCheckDigit(u);if(Pr.extensionChecksum(r.toString())!==d)throw new $;return a}static extensionChecksum(e){let n=e.length,r=0;for(let o=n-2;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;r*=3;for(let o=n-1;o>=0;o-=2)r+=e.charAt(o).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new $}static parseExtensionString(e){if(e.length!==5)return null;let n=Pr.parseExtension5String(e);return n==null?null:new Map([[Ae.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),o=(r/100).toString(),s=r%100,a=s<10?"0"+s:s.toString();return n+o+"."+a}}class Di{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let o=this.decodeRowStringBuffer,s=this.decodeMiddle(n,r,o),a=o.toString(),u=Di.parseExtensionString(a),d=[new Ne((r[0]+r[1])/2,e),new Ne(s,e)],p=new ye(a,null,0,d,ee.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1],u=0;for(let d=0;d<2&&a<s;d++){let p=Tt.decodeDigit(e,o,a,Tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let E of o)a+=E;p>=10&&(u|=1<<1-d),d!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new $;if(parseInt(r.toString())%4!==u)throw new $;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Ae.ISSUE_NUMBER,parseInt(e)]])}}class oo{static decodeRow(e,n,r){let o=Tt.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Pr().decodeRow(e,n,o)}catch{return new Di().decodeRow(e,n,o)}}}oo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends Tt{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=tt.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let o=0;o<n.length;o++)r[o]=n[n.length-o-1];tt.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let o=tt.findStartGuardPattern(n),s=r==null?null:r.get(Me.NEED_RESULT_POINT_CALLBACK);if(s!=null){const fe=new Ne((o[0]+o[1])/2,e);s.foundPossibleResultPoint(fe)}let a=this.decodeMiddle(n,o,this.decodeRowStringBuffer),u=a.rowOffset,d=a.resultString;if(s!=null){const fe=new Ne(u,e);s.foundPossibleResultPoint(fe)}let p=this.decodeEnd(n,u);if(s!=null){const fe=new Ne((p[0]+p[1])/2,e);s.foundPossibleResultPoint(fe)}let E=p[1],S=E+(E-p[0]);if(S>=n.getSize()||!n.isRange(E,S,!1))throw new $;let T=d.toString();if(T.length<8)throw new se;if(!tt.checkChecksum(T))throw new J;let O=(o[1]+o[0])/2,L=(p[1]+p[0])/2,F=this.getBarcodeFormat(),V=[new Ne(O,e),new Ne(L,e)],K=new ye(T,null,0,V,F,new Date().getTime()),pe=0;try{let fe=oo.decodeRow(e,n,p[1]);K.putMetadata(Ae.UPC_EAN_EXTENSION,fe.getText()),K.putAllMetadata(fe.getResultMetadata()),K.addResultPoints(fe.getResultPoints()),pe=fe.getText().length}catch{}let me=r==null?null:r.get(Me.ALLOWED_EAN_EXTENSIONS);if(me!=null){let fe=!1;for(let et in me)if(pe.toString()===et){fe=!0;break}if(!fe)throw new $}return K}decodeEnd(e,n){return tt.findGuardPattern(e,n,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return tt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let o=n-1;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new se;r+=s}r*=3;for(let o=n-2;o>=0;o-=2){let s=e.charAt(o).charCodeAt(0)-48;if(s<0||s>9)throw new se;r+=s}return(1e3-r)%10}}class bn extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1],u=0;for(let p=0;p<6&&a<s;p++){let E=tt.decodeDigit(e,o,a,tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let S of o)a+=S;E>=10&&(u|=1<<5-p)}r=bn.determineFirstDigit(r,u),a=tt.findGuardPattern(e,a,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&a<s;p++){let E=tt.decodeDigit(e,o,a,tt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let S of o)a+=S}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ee.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new $}}bn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Uo extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a=n[1];for(let d=0;d<4&&a<s;d++){let p=tt.decodeDigit(e,o,a,tt.L_PATTERNS);r+=String.fromCharCode(48+p);for(let E of o)a+=E}a=tt.findGuardPattern(e,a,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&a<s;d++){let p=tt.decodeDigit(e,o,a,tt.L_PATTERNS);r+=String.fromCharCode(48+p);for(let E of o)a+=E}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return ee.EAN_8}}class Vo extends tt{constructor(){super(...arguments),this.ean13Reader=new bn}getBarcodeFormat(){return ee.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new ye(n.substring(1),null,null,e.getResultPoints(),ee.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new $}reset(){this.ean13Reader.reset()}}class Mn extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const o=this.decodeMiddleCounters.map(p=>p);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const s=e.getSize();let a=n[1],u=0;for(let p=0;p<6&&a<s;p++){const E=Mn.decodeDigit(e,o,a,Mn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let S of o)a+=S;E>=10&&(u|=1<<5-p)}let d=Mn.determineNumSysAndCheckDigit(r,u);return{rowOffset:a,resultString:d}}decodeEnd(e,n){return Mn.findGuardPatternWithoutCounters(e,n,!0,Mn.MIDDLE_END_PATTERN)}checkChecksum(e){return tt.checkChecksum(Mn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][o]){let s=String.fromCharCode(48+r),a=String.fromCharCode(48+o);return s+e+a}throw $.getNotFoundInstance()}getBarcodeFormat(){return ee.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),r=new Ge;r.append(e.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(o),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(o);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Mn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class so extends Bt{constructor(e){super();let n=e==null?null:e.get(Me.POSSIBLE_FORMATS),r=[];C(n)?(r.push(new bn),r.push(new Vo),r.push(new Uo),r.push(new Mn)):(n.indexOf(ee.EAN_13)>-1&&r.push(new bn),n.indexOf(ee.UPC_A)>-1&&r.push(new Vo),n.indexOf(ee.EAN_8)>-1&&r.push(new Uo),n.indexOf(ee.UPC_E)>-1&&r.push(new Mn)),this.readers=r}decodeRow(e,n,r){for(let o of this.readers)try{const s=o.decodeRow(e,n,r),a=s.getBarcodeFormat()===ee.EAN_13&&s.getText().charAt(0)==="0",u=r==null?null:r.get(Me.POSSIBLE_FORMATS),d=u==null||u.includes(ee.UPC_A);if(a&&d){const p=s.getRawBytes(),E=new ye(s.getText().substring(1),p,p?p.length:null,s.getResultPoints(),ee.UPC_A);return E.putAllMetadata(s.getResultMetadata()),E}return s}catch{}throw new $}reset(){for(let e of this.readers)e.reset()}}class $t extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Bt.patternMatchVariance(e,n[r],$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return r;throw new $}static count(e){return it.sum(new Int32Array(e))}static increment(e,n){let r=0,o=n[0];for(let s=1;s<e.length;s++)n[s]>o&&(o=n[s],r=s);e[r]++}static decrement(e,n){let r=0,o=n[0];for(let s=1;s<e.length;s++)n[s]<o&&(o=n[s],r=s);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],o=n/r;if(o>=$t.MIN_FINDER_PATTERN_RATIO&&o<=$t.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<s&&(s=u);return a<10*s}return!1}}$t.MAX_AVG_VARIANCE=.2,$t.MAX_INDIVIDUAL_VARIANCE=.45,$t.MIN_FINDER_PATTERN_RATIO=9.5/12,$t.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ir{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ir))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class bi{constructor(e,n,r,o,s){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ne(r,s)),this.resultPoints.push(new Ne(o,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof bi))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class En{constructor(){}static getRSSvalue(e,n,r){let o=0;for(let d of e)o+=d;let s=0,a=0,u=e.length;for(let d=0;d<u-1;d++){let p;for(p=1,a|=1<<d;p<e[d];p++,a&=~(1<<d)){let E=En.combins(o-p-1,u-d-2);if(r&&a===0&&o-p-(u-d-1)>=u-d-1&&(E-=En.combins(o-p-(u-d),u-d-2)),u-d-1>1){let S=0;for(let T=o-p-(u-d-2);T>n;T--)S+=En.combins(o-p-T-1,u-d-3);E-=S*(u-1-d)}else o-p>n&&E--;s+=E}o-=p}return s}static combins(e,n){let r,o;e-n>n?(o=n,r=e-n):(o=e-n,r=n);let s=1,a=1;for(let u=e;u>r;u--)s*=u,a<=o&&(s/=a,a++);for(;a<=o;)s/=a,a++;return s}}class Ho{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,o=new xe(r),s=0,u=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)(u&1<<d)!=0&&o.set(s),s++;for(let d=1;d<e.length;++d){let p=e[d],E=p.getLeftChar().getValue();for(let S=11;S>=0;--S)(E&1<<S)!=0&&o.set(s),s++;if(p.getRightChar()!=null){let S=p.getRightChar().getValue();for(let T=11;T>=0;--T)(S&1<<T)!=0&&o.set(s),s++}}return o}}class Wn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zo{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Qt extends zo{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Qt.FNC1}}Qt.FNC1="$";class tr extends zo{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gn extends zo{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new se;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gn.FNC1}isSecondDigitFNC1(){return this.secondDigit===gn.FNC1}isAnyFNC1(){return this.firstDigit===gn.FNC1||this.secondDigit===gn.FNC1}}gn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new $;let n=e.substring(0,2);for(let s of Se.TWO_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,s[2],e):Se.processFixedAI(2,s[1],e);if(e.length<3)throw new $;let r=e.substring(0,3);for(let s of Se.THREE_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,s[2],e):Se.processFixedAI(3,s[1],e);for(let s of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,s[2],e):Se.processFixedAI(4,s[1],e);if(e.length<4)throw new $;let o=e.substring(0,4);for(let s of Se.FOUR_DIGIT_DATA_LENGTH)if(s[0]===o)return s[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,s[2],e):Se.processFixedAI(4,s[1],e);throw new $}static processFixedAI(e,n,r){if(r.length<e)throw new $;let o=r.substring(0,e);if(r.length<e+n)throw new $;let s=r.substring(e,e+n),a=r.substring(e+n),u="("+o+")"+s,d=Se.parseFieldsInGeneralPurpose(a);return d==null?u:u+d}static processVariableAI(e,n,r){let o=r.substring(0,e),s;r.length<e+n?s=r.length:s=e+n;let a=r.substring(e,s),u=r.substring(s),d="("+o+")"+a,p=Se.parseFieldsInGeneralPurpose(u);return p==null?d:d+p}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class ri{constructor(e){this.buffer=new Ge,this.information=e}decodeAllCodes(e,n){let r=n,o=null;do{let s=this.decodeGeneralPurposeField(r,o),a=Se.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?o=""+s.getRemainingValue():o=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new gn(this.information.getSize(),gn.FNC1,gn.FNC1):new gn(this.information.getSize(),s-1,gn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,o=(n-8)%11;return new gn(e+7,r,o)}extractNumericValueFromBitArray(e,n){return ri.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let o=0;for(let s=0;s<r;++s)e.get(n+s)&&(o|=1<<r-s-1);return o}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new tr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new tr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new tr(this.current.getPosition(),this.buffer.toString()):n=new tr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Wn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new tr(this.current.getPosition(),this.buffer.toString());return new Wn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new tr(this.current.getPosition(),this.buffer.toString());return new Wn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new tr(this.current.getPosition(),this.buffer.toString());return new Wn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Qt(e+5,Qt.FNC1);if(n>=5&&n<15)return new Qt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Qt(e+7,""+(r+1));if(r>=90&&r<116)return new Qt(e+7,""+(r+7));let o=this.extractNumericValueFromBitArray(e,8),s;switch(o){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new se}return new Qt(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Qt(e+5,Qt.FNC1);if(n>=5&&n<15)return new Qt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Qt(e+6,""+(r+33));let o;switch(r){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Hn("Decoding invalid alphanumeric value: "+r)}return new Qt(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Wo{constructor(e){this.information=e,this.generalDecoder=new ri(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Cn extends Wo{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let o=0;o<4;++o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);s/100===0&&e.append("0"),s/10===0&&e.append("0"),e.append(s)}Cn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let o=0;o<13;o++){let s=e.charAt(o+n).charCodeAt(0)-48;r+=(o&1)===0?3*s:s}r=10-r%10,r===10&&(r=0),e.append(r)}}Cn.GTIN_SIZE=40;class kn extends Cn{constructor(e){super(e)}parseInformation(){let e=new Ge;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,kn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,kn.HEADER_SIZE+44)}}kn.HEADER_SIZE=4;class Mi extends Wo{constructor(e){super(e)}parseInformation(){let e=new Ge;return this.getGeneralDecoder().decodeAllCodes(e,Mi.HEADER_SIZE)}}Mi.HEADER_SIZE=5;class ki extends Cn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,o);let s=this.checkWeight(o),a=1e5;for(let u=0;u<5;++u)s/a===0&&e.append("0"),a/=10;e.append(s)}}class nr extends ki{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=nr.HEADER_SIZE+ki.GTIN_SIZE+nr.WEIGHT_SIZE)throw new $;let e=new Ge;return this.encodeCompressedGtin(e,nr.HEADER_SIZE),this.encodeCompressedWeight(e,nr.HEADER_SIZE+ki.GTIN_SIZE,nr.WEIGHT_SIZE),e.toString()}}nr.HEADER_SIZE=5,nr.WEIGHT_SIZE=15;class Ms extends nr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class ks extends nr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Gn extends Cn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Gn.HEADER_SIZE+Cn.GTIN_SIZE)throw new $;let e=new Ge;this.encodeCompressedGtin(e,Gn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Gn.HEADER_SIZE+Cn.GTIN_SIZE,Gn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Gn.HEADER_SIZE+Cn.GTIN_SIZE+Gn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Gn.HEADER_SIZE=8,Gn.LAST_DIGIT_SIZE=2;class un extends Cn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<un.HEADER_SIZE+Cn.GTIN_SIZE)throw new $;let e=new Ge;this.encodeCompressedGtin(e,un.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+Cn.GTIN_SIZE,un.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+Cn.GTIN_SIZE+un.LAST_DIGIT_SIZE,un.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let o=this.getGeneralDecoder().decodeGeneralPurposeField(un.HEADER_SIZE+Cn.GTIN_SIZE+un.LAST_DIGIT_SIZE+un.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}un.HEADER_SIZE=8,un.LAST_DIGIT_SIZE=2,un.FIRST_THREE_DIGITS_SIZE=10;class _t extends ki{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new $;let e=new Ge;return this.encodeCompressedGtin(e,_t.HEADER_SIZE),this.encodeCompressedWeight(e,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(e,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,_t.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=r%32;r/=32;let s=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}_t.HEADER_SIZE=8,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function Ps(v){try{if(v.get(1))return new kn(v);if(!v.get(2))return new Mi(v);switch(ri.extractNumericValueFromBitArray(v,1,4)){case 4:return new Ms(v);case 5:return new ks(v)}switch(ri.extractNumericValueFromBitArray(v,1,5)){case 12:return new Gn(v);case 13:return new un(v)}switch(ri.extractNumericValueFromBitArray(v,1,7)){case 56:return new _t(v,"310","11");case 57:return new _t(v,"320","11");case 58:return new _t(v,"310","13");case 59:return new _t(v,"320","13");case 60:return new _t(v,"310","15");case 61:return new _t(v,"320","15");case 62:return new _t(v,"310","17");case 63:return new _t(v,"320","17")}}catch(e){throw console.log(e),new Hn("unknown decoder: "+v)}}class mt{constructor(e,n,r,o){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof mt?mt.equalsOrNull(e.leftchar,n.leftchar)&&mt.equalsOrNull(e.rightchar,n.rightchar)&&mt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:mt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Go{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Go?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((o,s)=>{n.forEach(a=>{o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class ue extends $t{constructor(e){super(...arguments),this.pairs=new Array(ue.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return ue.constructResult(this.decodeRow2pairs(e,n))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,ue.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(s){if(s instanceof $){if(!this.pairs.length)throw new $;r=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new $}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let o=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(o.getPairs()),!ue.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(o);try{return this.checkRows(s,r+1)}catch(a){this.verbose&&console.log(a)}}throw new $}static isValidSequence(e){for(let n of ue.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=n[o]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,o=!1,s=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),r++}s||o||ue.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Go(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let o of r.getPairs())for(let s of e)if(mt.equals(o,s))break}}static isPartialRow(e,n){for(let r of n){let o=!0;for(let s of e){let a=!1;for(let u of r.getPairs())if(s.equals(u)){a=!0;break}if(!a){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Ho.buildBitArray(e),o=Ps(n).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[s[0],s[1],a[0],a[1]];return new ye(o,null,null,u,ee.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let o=r.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let d=this.pairs.get(u);o+=d.getLeftChar().getChecksumPortion(),s++;let p=d.getRightChar();p!=null&&(o+=p.getChecksumPortion(),s++)}return o%=211,211*(s-4)+o==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let o=n.length%2==0;this.startFromEven&&(o=!o);let s,a=!0,u=-1;do this.findNextPair(e,n,u),s=this.parseFoundFinderPattern(e,r,o),s==null?u=ue.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let d=this.decodeDataCharacter(e,s,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $;let p;try{p=this.decodeDataCharacter(e,s,o,!1)}catch(E){p=null,this.verbose&&console.log(E)}return new mt(d,p,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=e.getSize(),a;r>=0?a=r:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let d=!1;for(;a<s&&(d=!e.get(a),!!d);)a++;let p=0,E=a;for(let S=a;S<s;S++)if(e.get(S)!=d)o[p]++;else{if(p==3){if(u&&ue.reverseCounters(o),ue.isFinderPattern(o)){this.startEnd[0]=E,this.startEnd[1]=S;return}u&&ue.reverseCounters(o),E+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,d=!d}throw new $}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let o=e[r];e[r]=e[n-r-1],e[n-r-1]=o}}parseFoundFinderPattern(e,n,r){let o,s,a;if(r){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,o=this.startEnd[0]-p,s=p,a=this.startEnd[1]}else s=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];let u=this.getDecodeFinderCounters();j.arraycopy(u,0,u,1,u.length-1),u[0]=o;let d;try{d=this.parseFinderValue(u,ue.FINDER_PATTERNS)}catch{return null}return new bi(d,[s,a],s,a,n)}decodeDataCharacter(e,n,r,o){let s=this.getDataCharacterCounters();for(let xt=0;xt<s.length;xt++)s[xt]=0;if(o)ue.recordPatternInReverse(e,n.getStartEnd()[0],s);else{ue.recordPattern(e,n.getStartEnd()[1],s);for(let xt=0,Ft=s.length-1;xt<Ft;xt++,Ft--){let mn=s[xt];s[xt]=s[Ft],s[Ft]=mn}}let a=17,u=it.sum(new Int32Array(s))/a,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-d)/d>.3)throw new $;let p=this.getOddCounts(),E=this.getEvenCounts(),S=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let xt=0;xt<s.length;xt++){let Ft=1*s[xt]/u,mn=Ft+.5;if(mn<1){if(Ft<.3)throw new $;mn=1}else if(mn>8){if(Ft>8.7)throw new $;mn=8}let Vr=xt/2;(xt&1)==0?(p[Vr]=mn,S[Vr]=Ft-mn):(E[Vr]=mn,T[Vr]=Ft-mn)}this.adjustOddEvenCounts(a);let O=4*n.getValue()+(r?0:2)+(o?0:1)-1,L=0,F=0;for(let xt=p.length-1;xt>=0;xt--){if(ue.isNotA1left(n,r,o)){let Ft=ue.WEIGHTS[O][2*xt];F+=p[xt]*Ft}L+=p[xt]}let V=0;for(let xt=E.length-1;xt>=0;xt--)if(ue.isNotA1left(n,r,o)){let Ft=ue.WEIGHTS[O][2*xt+1];V+=E[xt]*Ft}let K=F+V;if((L&1)!=0||L>13||L<4)throw new $;let pe=(13-L)/2,me=ue.SYMBOL_WIDEST[pe],fe=9-me,et=En.getRSSvalue(p,me,!0),Ke=En.getRSSvalue(E,fe,!1),vn=ue.EVEN_TOTAL_SUBSET[pe],Zn=ue.GSUM[pe],Zt=et*vn+Ke+Zn;return new Ir(Zt,K)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=it.sum(new Int32Array(this.getOddCounts())),r=it.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;n>13?s=!0:n<4&&(o=!0);let a=!1,u=!1;r>13?u=!0:r<4&&(a=!0);let d=n+r-e,p=(n&1)==1,E=(r&1)==0;if(d==1)if(p){if(E)throw new $;s=!0}else{if(!E)throw new $;u=!0}else if(d==-1)if(p){if(E)throw new $;o=!0}else{if(!E)throw new $;a=!0}else if(d==0){if(p){if(!E)throw new $;n<r?(o=!0,u=!0):(s=!0,a=!0)}else if(E)throw new $}else throw new $;if(o){if(s)throw new $;ue.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&ue.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new $;ue.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&ue.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ue.SYMBOL_WIDEST=[7,5,4,3,1],ue.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ue.GSUM=[0,348,1388,2948,3988],ue.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ue.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ue.FINDER_PAT_A=0,ue.FINDER_PAT_B=1,ue.FINDER_PAT_C=2,ue.FINDER_PAT_D=3,ue.FINDER_PAT_E=4,ue.FINDER_PAT_F=5,ue.FINDER_PATTERN_SEQUENCES=[[ue.FINDER_PAT_A,ue.FINDER_PAT_A],[ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B],[ue.FINDER_PAT_A,ue.FINDER_PAT_C,ue.FINDER_PAT_B,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_C],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F]],ue.MAX_PAIRS=11;class Ls extends Ir{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends $t{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const o=this.decodePair(n,!1,e,r);St.addOrTally(this.possibleLeftPairs,o),n.reverse();let s=this.decodePair(n,!0,e,r);St.addOrTally(this.possibleRightPairs,s),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&St.checkChecksum(a,u))return St.constructResult(a,u)}throw new $}static addOrTally(e,n){if(n==null)return;let r=!1;for(let o of e)if(o.getValue()===n.getValue()){o.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),o=new String(r).toString(),s=new Ge;for(let p=13-o.length;p>0;p--)s.append("0");s.append(o);let a=0;for(let p=0;p<13;p++){let E=s.charAt(p).charCodeAt(0)-48;a+=(p&1)===0?3*E:E}a=10-a%10,a===10&&(a=0),s.append(a.toString());let u=e.getFinderPattern().getResultPoints(),d=n.getFinderPattern().getResultPoints();return new ye(s.toString(),null,0,[u[0],u[1],d[0],d[1]],ee.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,r===o}decodePair(e,n,r,o){try{let s=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,r,n,s),u=o==null?null:o.get(Me.NEED_RESULT_POINT_CALLBACK);if(u!=null){let E=(s[0]+s[1])/2;n&&(E=e.getSize()-1-E),u.foundPossibleResultPoint(new Ne(E,r))}let d=this.decodeDataCharacter(e,a,!0),p=this.decodeDataCharacter(e,a,!1);return new Ls(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,r){let o=this.getDataCharacterCounters();for(let V=0;V<o.length;V++)o[V]=0;if(r)Bt.recordPatternInReverse(e,n.getStartEnd()[0],o);else{Bt.recordPattern(e,n.getStartEnd()[1]+1,o);for(let V=0,K=o.length-1;V<K;V++,K--){let pe=o[V];o[V]=o[K],o[K]=pe}}let s=r?16:15,a=it.sum(new Int32Array(o))/s,u=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let V=0;V<o.length;V++){let K=o[V]/a,pe=Math.floor(K+.5);pe<1?pe=1:pe>8&&(pe=8);let me=Math.floor(V/2);(V&1)===0?(u[me]=pe,p[me]=K-pe):(d[me]=pe,E[me]=K-pe)}this.adjustOddEvenCounts(r,s);let S=0,T=0;for(let V=u.length-1;V>=0;V--)T*=9,T+=u[V],S+=u[V];let O=0,L=0;for(let V=d.length-1;V>=0;V--)O*=9,O+=d[V],L+=d[V];let F=T+3*O;if(r){if((S&1)!==0||S>12||S<4)throw new $;let V=(12-S)/2,K=St.OUTSIDE_ODD_WIDEST[V],pe=9-K,me=En.getRSSvalue(u,K,!1),fe=En.getRSSvalue(d,pe,!0),et=St.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ke=St.OUTSIDE_GSUM[V];return new Ir(me*et+fe+Ke,F)}else{if((L&1)!==0||L>10||L<4)throw new $;let V=(10-L)/2,K=St.INSIDE_ODD_WIDEST[V],pe=9-K,me=En.getRSSvalue(u,K,!0),fe=En.getRSSvalue(d,pe,!1),et=St.INSIDE_ODD_TOTAL_SUBSET[V],Ke=St.INSIDE_GSUM[V];return new Ir(fe*et+me+Ke,F)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let o=e.getSize(),s=!1,a=0;for(;a<o&&(s=!e.get(a),n!==s);)a++;let u=0,d=a;for(let p=a;p<o;p++)if(e.get(p)!==s)r[u]++;else{if(u===3){if($t.isFinderPattern(r))return[d,p];d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,s=!s}throw new $}parseFoundFinderPattern(e,n,r,o){let s=e.get(o[0]),a=o[0]-1;for(;a>=0&&s!==e.get(a);)a--;a++;const u=o[0]-a,d=this.getDecodeFinderCounters(),p=new Int32Array(d.length);j.arraycopy(d,0,p,1,d.length-1),p[0]=u;const E=this.parseFinderValue(p,St.FINDER_PATTERNS);let S=a,T=o[1];return r&&(S=e.getSize()-1-S,T=e.getSize()-1-T),new bi(E,[a,o[1]],S,T,n)}adjustOddEvenCounts(e,n){let r=it.sum(new Int32Array(this.getOddCounts())),o=it.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,u=!1,d=!1;e?(r>12?a=!0:r<4&&(s=!0),o>12?d=!0:o<4&&(u=!0)):(r>11?a=!0:r<5&&(s=!0),o>10?d=!0:o<4&&(u=!0));let p=r+o-n,E=(r&1)===(e?1:0),S=(o&1)===1;if(p===1)if(E){if(S)throw new $;a=!0}else{if(!S)throw new $;d=!0}else if(p===-1)if(E){if(S)throw new $;s=!0}else{if(!S)throw new $;u=!0}else if(p===0){if(E){if(!S)throw new $;r<o?(s=!0,d=!0):(a=!0,u=!0)}else if(S)throw new $}else throw new $;if(s){if(a)throw new $;$t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&$t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new $;$t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&$t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ii extends Bt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Me.POSSIBLE_FORMATS):null,o=e&&e.get(Me.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ee.EAN_13)||r.includes(ee.UPC_A)||r.includes(ee.EAN_8)||r.includes(ee.UPC_E))&&this.readers.push(new so(e)),r.includes(ee.CODE_39)&&this.readers.push(new jt(o)),r.includes(ee.CODE_128)&&this.readers.push(new Ce),r.includes(ee.ITF)&&this.readers.push(new pt),r.includes(ee.RSS_14)&&this.readers.push(new St),r.includes(ee.RSS_EXPANDED)&&this.readers.push(new ue(this.verbose))):(this.readers.push(new so(e)),this.readers.push(new jt),this.readers.push(new so(e)),this.readers.push(new Ce),this.readers.push(new pt),this.readers.push(new St),this.readers.push(new ue(this.verbose)))}decodeRow(e,n,r){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,n,r)}catch{}throw new $}reset(){this.readers.forEach(e=>e.reset())}}class Bs extends he{constructor(e=500,n){super(new ii(n),e,n)}}class ut{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qe{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(e,n,r,o,s,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=s,this.ecBlocks=a;let u=0;const d=a.getECCodewords(),p=a.getECBlocks();for(let E of p)u+=E.getCount()*(E.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new se;for(let r of ot.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new se}toString(){return""+this.versionNumber}static buildVersions(){return[new ot(1,10,10,8,8,new ut(5,new Qe(1,3))),new ot(2,12,12,10,10,new ut(7,new Qe(1,5))),new ot(3,14,14,12,12,new ut(10,new Qe(1,8))),new ot(4,16,16,14,14,new ut(12,new Qe(1,12))),new ot(5,18,18,16,16,new ut(14,new Qe(1,18))),new ot(6,20,20,18,18,new ut(18,new Qe(1,22))),new ot(7,22,22,20,20,new ut(20,new Qe(1,30))),new ot(8,24,24,22,22,new ut(24,new Qe(1,36))),new ot(9,26,26,24,24,new ut(28,new Qe(1,44))),new ot(10,32,32,14,14,new ut(36,new Qe(1,62))),new ot(11,36,36,16,16,new ut(42,new Qe(1,86))),new ot(12,40,40,18,18,new ut(48,new Qe(1,114))),new ot(13,44,44,20,20,new ut(56,new Qe(1,144))),new ot(14,48,48,22,22,new ut(68,new Qe(1,174))),new ot(15,52,52,24,24,new ut(42,new Qe(2,102))),new ot(16,64,64,14,14,new ut(56,new Qe(2,140))),new ot(17,72,72,16,16,new ut(36,new Qe(4,92))),new ot(18,80,80,18,18,new ut(48,new Qe(4,114))),new ot(19,88,88,20,20,new ut(56,new Qe(4,144))),new ot(20,96,96,22,22,new ut(68,new Qe(4,174))),new ot(21,104,104,24,24,new ut(56,new Qe(6,136))),new ot(22,120,120,18,18,new ut(68,new Qe(6,175))),new ot(23,132,132,20,20,new ut(62,new Qe(8,163))),new ot(24,144,144,22,22,new ut(62,new Qe(8,156),new Qe(2,155))),new ot(25,8,18,6,16,new ut(7,new Qe(1,5))),new ot(26,8,32,6,14,new ut(11,new Qe(1,10))),new ot(27,12,26,10,24,new ut(14,new Qe(1,16))),new ot(28,12,36,10,16,new ut(18,new Qe(1,22))),new ot(29,16,36,14,16,new ut(24,new Qe(1,32))),new ot(30,16,48,14,22,new ut(28,new Qe(1,49)))]}}ot.VERSIONS=ot.buildVersions();class Nn{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new se;this.version=Nn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return ot.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,o=0;const s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,d=!1,p=!1,E=!1;do if(r===s&&o===0&&!u)e[n++]=this.readCorner1(s,a)&255,r-=2,o+=2,u=!0;else if(r===s-2&&o===0&&(a&3)!==0&&!d)e[n++]=this.readCorner2(s,a)&255,r-=2,o+=2,d=!0;else if(r===s+4&&o===2&&(a&7)===0&&!p)e[n++]=this.readCorner3(s,a)&255,r-=2,o+=2,p=!0;else if(r===s-2&&o===0&&(a&7)===4&&!E)e[n++]=this.readCorner4(s,a)&255,r-=2,o+=2,E=!0;else{do r<s&&o>=0&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,s,a)&255),r-=2,o+=2;while(r>=0&&o<a);r+=1,o+=3;do r>=0&&o<a&&!this.readMappingMatrix.get(o,r)&&(e[n++]=this.readUtah(r,o,s,a)&255),r+=2,o-=2;while(r<s&&o>=0);r+=3,o+=1}while(r<s||o<a);if(n!==this.version.getTotalCodewords())throw new se;return e}readModule(e,n,r,o){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,o){let s=0;return this.readModule(e-2,n-2,r,o)&&(s|=1),s<<=1,this.readModule(e-2,n-1,r,o)&&(s|=1),s<<=1,this.readModule(e-1,n-2,r,o)&&(s|=1),s<<=1,this.readModule(e-1,n-1,r,o)&&(s|=1),s<<=1,this.readModule(e-1,n,r,o)&&(s|=1),s<<=1,this.readModule(e,n-2,r,o)&&(s|=1),s<<=1,this.readModule(e,n-1,r,o)&&(s|=1),s<<=1,this.readModule(e,n,r,o)&&(s|=1),s}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new k("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=n/o|0,u=r/s|0,d=a*o,p=u*s,E=new ct(p,d);for(let S=0;S<a;++S){const T=S*o;for(let O=0;O<u;++O){const L=O*s;for(let F=0;F<o;++F){const V=S*(o+2)+1+F,K=T+F;for(let pe=0;pe<s;++pe){const me=O*(s+2)+1+pe;if(e.get(me,V)){const fe=L+pe;E.set(fe,K)}}}}}return E}}class Xo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let o=0;const s=r.getECBlocks();for(let F of s)o+=F.getCount();const a=new Array(o);let u=0;for(let F of s)for(let V=0;V<F.getCount();V++){const K=F.getDataCodewords(),pe=r.getECCodewords()+K;a[u++]=new Xo(K,new Uint8Array(pe))}const p=a[0].codewords.length-r.getECCodewords(),E=p-1;let S=0;for(let F=0;F<E;F++)for(let V=0;V<u;V++)a[V].codewords[F]=e[S++];const T=n.getVersionNumber()===24,O=T?8:u;for(let F=0;F<O;F++)a[F].codewords[p-1]=e[S++];const L=a[0].codewords.length;for(let F=p;F<L;F++)for(let V=0;V<u;V++){const K=T?(V+8)%u:V,pe=T&&K>7?F-1:F;a[K].codewords[pe]=e[S++]}if(S!==e.length)throw new k;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class jo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new k(""+e);let n=0,r=this.bitOffset,o=this.byteOffset;const s=this.bytes;if(r>0){const a=8-r,u=e<a?e:a,d=a-u,p=255>>8-u<<d;n=(s[o]&p)>>d,e-=u,r+=u,r===8&&(r=0,o++)}if(e>0){for(;e>=8;)n=n<<8|s[o]&255,o++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;n=n<<e|(s[o]&u)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Yt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(Yt||(Yt={}));class Xn{static decode(e){const n=new jo(e),r=new Ge,o=new Ge,s=new Array;let a=Yt.ASCII_ENCODE;do if(a===Yt.ASCII_ENCODE)a=this.decodeAsciiSegment(n,r,o);else{switch(a){case Yt.C40_ENCODE:this.decodeC40Segment(n,r);break;case Yt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Yt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Yt.BASE256_ENCODE:this.decodeBase256Segment(n,r,s);break;default:throw new se}a=Yt.ASCII_ENCODE}while(a!==Yt.PAD_ENCODE&&n.available()>0);return o.length()>0&&r.append(o.toString()),new je(e,r.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,n,r){let o=!1;do{let s=e.readBits(8);if(s===0)throw new se;if(s<=128)return o&&(s+=128),n.append(String.fromCharCode(s-1)),Yt.ASCII_ENCODE;if(s===129)return Yt.PAD_ENCODE;if(s<=229){const a=s-130;a<10&&n.append("0"),n.append(""+a)}else switch(s){case 230:return Yt.C40_ENCODE;case 231:return Yt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Yt.ANSIX12_ENCODE;case 239:return Yt.TEXT_ENCODE;case 240:return Yt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new se;break}}while(e.available()>0);return Yt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const o=[];let s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let u=0;u<3;u++){const d=o[u];switch(s){case 0:if(d<3)s=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new se;break;case 1:r?(n.append(String.fromCharCode(d+128)),r=!1):n.append(String.fromCharCode(d)),s=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(d){case 27:n.append("");break;case 30:r=!0;break;default:throw new se}s=0;break;case 3:r?(n.append(String.fromCharCode(d+224)),r=!1):n.append(String.fromCharCode(d+96)),s=0;break;default:throw new se}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,o=[],s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let u=0;u<3;u++){const d=o[u];switch(s){case 0:if(d<3)s=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new se;break;case 1:r?(n.append(String.fromCharCode(d+128)),r=!1):n.append(String.fromCharCode(d)),s=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(d){case 27:n.append("");break;case 30:r=!0;break;default:throw new se}s=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p),s=0}else throw new se;break;default:throw new se}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),r);for(let s=0;s<3;s++){const a=r[s];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new se;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let o=(e<<8)+n-1,s=Math.floor(o/1600);r[0]=s,o-=s*1600,s=Math.floor(o/40),r[1]=s,r[2]=o-s*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let o=e.readBits(6);if(o===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(o&32)===0&&(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let o=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),o++);let a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),o++),a<0)throw new se;const u=new Uint8Array(a);for(let d=0;d<a;d++){if(e.available()<8)throw new se;u[d]=this.unrandomize255State(e.readBits(8),o++)}r.push(u);try{n.append(qe.decode(u,Pe.ISO88591))}catch(d){throw new Hn("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,n){const r=149*n%255+1,o=e-r;return o>=0?o:o+256}}Xn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Xn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Xn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Xn.TEXT_SHIFT2_SET_CHARS=Xn.C40_SHIFT2_SET_CHARS,Xn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ao{constructor(){this.rsDecoder=new ei(at.DATA_MATRIX_FIELD_256)}decode(e){const n=new Nn(e),r=n.getVersion(),o=n.readCodewords(),s=Xo.getDataBlocks(o,r);let a=0;for(let p of s)a+=p.getNumDataCodewords();const u=new Uint8Array(a),d=s.length;for(let p=0;p<d;p++){const E=s[p],S=E.getCodewords(),T=E.getNumDataCodewords();this.correctErrors(S,T);for(let O=0;O<T;O++)u[O*d+p]=S[O]}return Xn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new J}for(let o=0;o<n;o++)e[o]=r[o]}}class It{constructor(e){this.image=e,this.rectangleDetector=new er(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new $;n=this.shiftToModuleCenter(n);const r=n[0],o=n[1],s=n[2],a=n[3];let u=this.transitionsBetween(r,a)+1,d=this.transitionsBetween(s,a)+1;(u&1)===1&&(u+=1),(d&1)===1&&(d+=1),4*u<7*d&&4*d<7*u&&(u=d=Math.max(u,d));let p=It.sampleGrid(this.image,r,o,s,a,u,d);return new ti(p,[r,o,s,a])}static shiftPoint(e,n,r){let o=(n.getX()-e.getX())/(r+1),s=(n.getY()-e.getY())/(r+1);return new Ne(e.getX()+o,e.getY()+s)}static moveAway(e,n,r){let o=e.getX(),s=e.getY();return o<n?o-=1:o+=1,s<r?s-=1:s+=1,new Ne(o,s)}detectSolid1(e){let n=e[0],r=e[1],o=e[3],s=e[2],a=this.transitionsBetween(n,r),u=this.transitionsBetween(r,o),d=this.transitionsBetween(o,s),p=this.transitionsBetween(s,n),E=a,S=[s,n,r,o];return E>u&&(E=u,S[0]=n,S[1]=r,S[2]=o,S[3]=s),E>d&&(E=d,S[0]=r,S[1]=o,S[2]=s,S[3]=n),E>p&&(S[0]=o,S[1]=s,S[2]=n,S[3]=r),S}detectSolid2(e){let n=e[0],r=e[1],o=e[2],s=e[3],a=this.transitionsBetween(n,s),u=It.shiftPoint(r,o,(a+1)*4),d=It.shiftPoint(o,r,(a+1)*4),p=this.transitionsBetween(u,n),E=this.transitionsBetween(d,s);return p<E?(e[0]=n,e[1]=r,e[2]=o,e[3]=s):(e[0]=r,e[1]=o,e[2]=s,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],o=e[2],s=e[3],a=this.transitionsBetween(n,s),u=this.transitionsBetween(r,s),d=It.shiftPoint(n,r,(u+1)*4),p=It.shiftPoint(o,r,(a+1)*4);a=this.transitionsBetween(d,s),u=this.transitionsBetween(p,s);let E=new Ne(s.getX()+(o.getX()-r.getX())/(a+1),s.getY()+(o.getY()-r.getY())/(a+1)),S=new Ne(s.getX()+(n.getX()-r.getX())/(u+1),s.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(E))return this.isValid(S)?S:null;if(!this.isValid(S))return E;let T=this.transitionsBetween(d,E)+this.transitionsBetween(p,E),O=this.transitionsBetween(d,S)+this.transitionsBetween(p,S);return T>O?E:S}shiftToModuleCenter(e){let n=e[0],r=e[1],o=e[2],s=e[3],a=this.transitionsBetween(n,s)+1,u=this.transitionsBetween(o,s)+1,d=It.shiftPoint(n,r,u*4),p=It.shiftPoint(o,r,a*4);a=this.transitionsBetween(d,s)+1,u=this.transitionsBetween(p,s)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let E=(n.getX()+r.getX()+o.getX()+s.getX())/4,S=(n.getY()+r.getY()+o.getY()+s.getY())/4;n=It.moveAway(n,E,S),r=It.moveAway(r,E,S),o=It.moveAway(o,E,S),s=It.moveAway(s,E,S);let T,O;return d=It.shiftPoint(n,r,u*4),d=It.shiftPoint(d,s,a*4),T=It.shiftPoint(r,n,u*4),T=It.shiftPoint(T,o,a*4),p=It.shiftPoint(o,s,u*4),p=It.shiftPoint(p,r,a*4),O=It.shiftPoint(s,o,u*4),O=It.shiftPoint(O,n,a*4),[d,T,p,O]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,o,s,a,u){return zn.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,n.getX(),n.getY(),s.getX(),s.getY(),o.getX(),o.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),o=Math.trunc(e.getY()),s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.abs(a-o)>Math.abs(s-r);if(u){let F=r;r=o,o=F,F=s,s=a,a=F}let d=Math.abs(s-r),p=Math.abs(a-o),E=-d/2,S=o<a?1:-1,T=r<s?1:-1,O=0,L=this.image.get(u?o:r,u?r:o);for(let F=r,V=o;F!==s;F+=T){let K=this.image.get(u?V:F,u?F:V);if(K!==L&&(O++,L=K),E+=p,E>0){if(V===a)break;V+=S,E-=d}}return O}}class jn{constructor(){this.decoder=new ao}decode(e,n=null){let r,o;if(n!=null&&n.has(Me.PURE_BARCODE)){const p=jn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(p),o=jn.NO_POINTS}else{const p=new It(e.getBlackMatrix()).detect();r=this.decoder.decode(p.getBits()),o=p.getPoints()}const s=r.getRawBytes(),a=new ye(r.getText(),s,8*s.length,o,ee.DATA_MATRIX,j.currentTimeMillis()),u=r.getByteSegments();u!=null&&a.putMetadata(Ae.BYTE_SEGMENTS,u);const d=r.getECLevel();return d!=null&&a.putMetadata(Ae.ERROR_CORRECTION_LEVEL,d),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new $;const o=this.moduleSize(n,e);let s=n[1];const a=r[1];let u=n[0];const p=(r[0]-u+1)/o,E=(a-s+1)/o;if(p<=0||E<=0)throw new $;const S=o/2;s+=S,u+=S;const T=new ct(p,E);for(let O=0;O<E;O++){const L=s+O*o;for(let F=0;F<p;F++)e.get(u+F*o,L)&&T.set(F,O)}return T}static moduleSize(e,n){const r=n.getWidth();let o=e[0];const s=e[1];for(;o<r&&n.get(o,s);)o++;if(o===r)throw new $;const a=o-e[0];if(a===0)throw new $;return a}}jn.NO_POINTS=[];class el extends he{constructor(e=500){super(new jn,e)}}var oi;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(oi||(oi={}));class wt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,wt.FOR_BITS.set(r,this),wt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return wt.L;case"M":return wt.M;case"Q":return wt.Q;case"H":return wt.H;default:throw new P(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof wt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=wt.FOR_BITS.size)throw new k;return wt.FOR_BITS.get(e)}}wt.FOR_BITS=new Map,wt.FOR_VALUE=new Map,wt.L=new wt(oi.L,"L",1),wt.M=new wt(oi.M,"M",0),wt.Q=new wt(oi.Q,"Q",3),wt.H=new wt(oi.H,"H",2);class en{constructor(e){this.errorCorrectionLevel=wt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return le.bitCount(e^n)}static decodeFormatInformation(e,n){const r=en.doDecodeFormatInformation(e,n);return r!==null?r:en.doDecodeFormatInformation(e^en.FORMAT_INFO_MASK_QR,n^en.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,o=0;for(const s of en.FORMAT_INFO_DECODE_LOOKUP){const a=s[0];if(a===e||a===n)return new en(s[1]);let u=en.numBitsDiffering(e,a);u<r&&(o=s[1],r=u),e!==n&&(u=en.numBitsDiffering(n,a),u<r&&(o=s[1],r=u))}return r<=3?new en(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof en))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}en.FORMAT_INFO_MASK_QR=21522,en.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let o=0;const s=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const u of a)o+=u.getCount()*(u.getDataCodewords()+s);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new se;try{return this.getVersionForNumber((e-17)/4)}catch{throw new se}}static getVersionForNumber(e){if(e<1||e>40)throw new k;return Be.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let o=0;o<Be.VERSION_DECODE_INFO.length;o++){const s=Be.VERSION_DECODE_INFO[o];if(s===e)return Be.getVersionForNumber(o+7);const a=en.numBitsDiffering(e,s);a<n&&(r=o+7,n=a)}return n<=3?Be.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ct(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let o=0;o<r;o++){const s=this.alignmentPatternCenters[o]-2;for(let a=0;a<r;a++)o===0&&(a===0||a===r-1)||o===r-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,s,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Be.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Be.VERSIONS=[new Be(1,new Int32Array(0),new z(7,new R(1,19)),new z(10,new R(1,16)),new z(13,new R(1,13)),new z(17,new R(1,9))),new Be(2,Int32Array.from([6,18]),new z(10,new R(1,34)),new z(16,new R(1,28)),new z(22,new R(1,22)),new z(28,new R(1,16))),new Be(3,Int32Array.from([6,22]),new z(15,new R(1,55)),new z(26,new R(1,44)),new z(18,new R(2,17)),new z(22,new R(2,13))),new Be(4,Int32Array.from([6,26]),new z(20,new R(1,80)),new z(18,new R(2,32)),new z(26,new R(2,24)),new z(16,new R(4,9))),new Be(5,Int32Array.from([6,30]),new z(26,new R(1,108)),new z(24,new R(2,43)),new z(18,new R(2,15),new R(2,16)),new z(22,new R(2,11),new R(2,12))),new Be(6,Int32Array.from([6,34]),new z(18,new R(2,68)),new z(16,new R(4,27)),new z(24,new R(4,19)),new z(28,new R(4,15))),new Be(7,Int32Array.from([6,22,38]),new z(20,new R(2,78)),new z(18,new R(4,31)),new z(18,new R(2,14),new R(4,15)),new z(26,new R(4,13),new R(1,14))),new Be(8,Int32Array.from([6,24,42]),new z(24,new R(2,97)),new z(22,new R(2,38),new R(2,39)),new z(22,new R(4,18),new R(2,19)),new z(26,new R(4,14),new R(2,15))),new Be(9,Int32Array.from([6,26,46]),new z(30,new R(2,116)),new z(22,new R(3,36),new R(2,37)),new z(20,new R(4,16),new R(4,17)),new z(24,new R(4,12),new R(4,13))),new Be(10,Int32Array.from([6,28,50]),new z(18,new R(2,68),new R(2,69)),new z(26,new R(4,43),new R(1,44)),new z(24,new R(6,19),new R(2,20)),new z(28,new R(6,15),new R(2,16))),new Be(11,Int32Array.from([6,30,54]),new z(20,new R(4,81)),new z(30,new R(1,50),new R(4,51)),new z(28,new R(4,22),new R(4,23)),new z(24,new R(3,12),new R(8,13))),new Be(12,Int32Array.from([6,32,58]),new z(24,new R(2,92),new R(2,93)),new z(22,new R(6,36),new R(2,37)),new z(26,new R(4,20),new R(6,21)),new z(28,new R(7,14),new R(4,15))),new Be(13,Int32Array.from([6,34,62]),new z(26,new R(4,107)),new z(22,new R(8,37),new R(1,38)),new z(24,new R(8,20),new R(4,21)),new z(22,new R(12,11),new R(4,12))),new Be(14,Int32Array.from([6,26,46,66]),new z(30,new R(3,115),new R(1,116)),new z(24,new R(4,40),new R(5,41)),new z(20,new R(11,16),new R(5,17)),new z(24,new R(11,12),new R(5,13))),new Be(15,Int32Array.from([6,26,48,70]),new z(22,new R(5,87),new R(1,88)),new z(24,new R(5,41),new R(5,42)),new z(30,new R(5,24),new R(7,25)),new z(24,new R(11,12),new R(7,13))),new Be(16,Int32Array.from([6,26,50,74]),new z(24,new R(5,98),new R(1,99)),new z(28,new R(7,45),new R(3,46)),new z(24,new R(15,19),new R(2,20)),new z(30,new R(3,15),new R(13,16))),new Be(17,Int32Array.from([6,30,54,78]),new z(28,new R(1,107),new R(5,108)),new z(28,new R(10,46),new R(1,47)),new z(28,new R(1,22),new R(15,23)),new z(28,new R(2,14),new R(17,15))),new Be(18,Int32Array.from([6,30,56,82]),new z(30,new R(5,120),new R(1,121)),new z(26,new R(9,43),new R(4,44)),new z(28,new R(17,22),new R(1,23)),new z(28,new R(2,14),new R(19,15))),new Be(19,Int32Array.from([6,30,58,86]),new z(28,new R(3,113),new R(4,114)),new z(26,new R(3,44),new R(11,45)),new z(26,new R(17,21),new R(4,22)),new z(26,new R(9,13),new R(16,14))),new Be(20,Int32Array.from([6,34,62,90]),new z(28,new R(3,107),new R(5,108)),new z(26,new R(3,41),new R(13,42)),new z(30,new R(15,24),new R(5,25)),new z(28,new R(15,15),new R(10,16))),new Be(21,Int32Array.from([6,28,50,72,94]),new z(28,new R(4,116),new R(4,117)),new z(26,new R(17,42)),new z(28,new R(17,22),new R(6,23)),new z(30,new R(19,16),new R(6,17))),new Be(22,Int32Array.from([6,26,50,74,98]),new z(28,new R(2,111),new R(7,112)),new z(28,new R(17,46)),new z(30,new R(7,24),new R(16,25)),new z(24,new R(34,13))),new Be(23,Int32Array.from([6,30,54,78,102]),new z(30,new R(4,121),new R(5,122)),new z(28,new R(4,47),new R(14,48)),new z(30,new R(11,24),new R(14,25)),new z(30,new R(16,15),new R(14,16))),new Be(24,Int32Array.from([6,28,54,80,106]),new z(30,new R(6,117),new R(4,118)),new z(28,new R(6,45),new R(14,46)),new z(30,new R(11,24),new R(16,25)),new z(30,new R(30,16),new R(2,17))),new Be(25,Int32Array.from([6,32,58,84,110]),new z(26,new R(8,106),new R(4,107)),new z(28,new R(8,47),new R(13,48)),new z(30,new R(7,24),new R(22,25)),new z(30,new R(22,15),new R(13,16))),new Be(26,Int32Array.from([6,30,58,86,114]),new z(28,new R(10,114),new R(2,115)),new z(28,new R(19,46),new R(4,47)),new z(28,new R(28,22),new R(6,23)),new z(30,new R(33,16),new R(4,17))),new Be(27,Int32Array.from([6,34,62,90,118]),new z(30,new R(8,122),new R(4,123)),new z(28,new R(22,45),new R(3,46)),new z(30,new R(8,23),new R(26,24)),new z(30,new R(12,15),new R(28,16))),new Be(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new R(3,117),new R(10,118)),new z(28,new R(3,45),new R(23,46)),new z(30,new R(4,24),new R(31,25)),new z(30,new R(11,15),new R(31,16))),new Be(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new R(7,116),new R(7,117)),new z(28,new R(21,45),new R(7,46)),new z(30,new R(1,23),new R(37,24)),new z(30,new R(19,15),new R(26,16))),new Be(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new R(5,115),new R(10,116)),new z(28,new R(19,47),new R(10,48)),new z(30,new R(15,24),new R(25,25)),new z(30,new R(23,15),new R(25,16))),new Be(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new R(13,115),new R(3,116)),new z(28,new R(2,46),new R(29,47)),new z(30,new R(42,24),new R(1,25)),new z(30,new R(23,15),new R(28,16))),new Be(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new R(17,115)),new z(28,new R(10,46),new R(23,47)),new z(30,new R(10,24),new R(35,25)),new z(30,new R(19,15),new R(35,16))),new Be(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new R(17,115),new R(1,116)),new z(28,new R(14,46),new R(21,47)),new z(30,new R(29,24),new R(19,25)),new z(30,new R(11,15),new R(46,16))),new Be(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new R(13,115),new R(6,116)),new z(28,new R(14,46),new R(23,47)),new z(30,new R(44,24),new R(7,25)),new z(30,new R(59,16),new R(1,17))),new Be(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new R(12,121),new R(7,122)),new z(28,new R(12,47),new R(26,48)),new z(30,new R(39,24),new R(14,25)),new z(30,new R(22,15),new R(41,16))),new Be(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new R(6,121),new R(14,122)),new z(28,new R(6,47),new R(34,48)),new z(30,new R(46,24),new R(10,25)),new z(30,new R(2,15),new R(64,16))),new Be(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new R(17,122),new R(4,123)),new z(28,new R(29,46),new R(14,47)),new z(30,new R(49,24),new R(10,25)),new z(30,new R(24,15),new R(46,16))),new Be(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new R(4,122),new R(18,123)),new z(28,new R(13,46),new R(32,47)),new z(30,new R(48,24),new R(14,25)),new z(30,new R(42,15),new R(32,16))),new Be(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new R(20,117),new R(4,118)),new z(28,new R(40,47),new R(7,48)),new z(30,new R(43,24),new R(22,25)),new z(30,new R(10,15),new R(67,16))),new Be(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new R(19,118),new R(6,119)),new z(28,new R(18,47),new R(31,48)),new z(30,new R(34,24),new R(34,25)),new z(30,new R(20,15),new R(61,16)))];var Ht;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(Ht||(Ht={}));class Je{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let o=0;o<n;o++)this.isMasked(r,o)&&e.flip(o,r)}}Je.values=new Map([[Ht.DATA_MASK_000,new Je(Ht.DATA_MASK_000,(v,e)=>(v+e&1)===0)],[Ht.DATA_MASK_001,new Je(Ht.DATA_MASK_001,(v,e)=>(v&1)===0)],[Ht.DATA_MASK_010,new Je(Ht.DATA_MASK_010,(v,e)=>e%3===0)],[Ht.DATA_MASK_011,new Je(Ht.DATA_MASK_011,(v,e)=>(v+e)%3===0)],[Ht.DATA_MASK_100,new Je(Ht.DATA_MASK_100,(v,e)=>(Math.floor(v/2)+Math.floor(e/3)&1)===0)],[Ht.DATA_MASK_101,new Je(Ht.DATA_MASK_101,(v,e)=>v*e%6===0)],[Ht.DATA_MASK_110,new Je(Ht.DATA_MASK_110,(v,e)=>v*e%6<3)],[Ht.DATA_MASK_111,new Je(Ht.DATA_MASK_111,(v,e)=>(v+e+v*e%3&1)===0)]]);class Fs{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new se;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const n=this.bitMatrix.getHeight();let r=0;const o=n-7;for(let s=n-1;s>=o;s--)r=this.copyBit(8,s,r);for(let s=n-8;s<n;s++)r=this.copyBit(s,8,r);if(this.parsedFormatInfo=en.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new se}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Be.getVersionForNumber(n);let r=0;const o=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=o;u--)r=this.copyBit(u,a,r);let s=Be.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;r=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=o;u--)r=this.copyBit(a,u,r);if(s=Be.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new se}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=Je.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o);const s=n.buildFunctionPattern();let a=!0;const u=new Uint8Array(n.getTotalCodewords());let d=0,p=0,E=0;for(let S=o-1;S>0;S-=2){S===6&&S--;for(let T=0;T<o;T++){const O=a?o-1-T:T;for(let L=0;L<2;L++)s.get(S-L,O)||(E++,p<<=1,this.bitMatrix.get(S-L,O)&&(p|=1),E===8&&(u[d++]=p,E=0,p=0))}a=!a}if(d!==n.getTotalCodewords())throw new se;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Je.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let o=n+1,s=e.getHeight();o<s;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))}}class lo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new k;const o=n.getECBlocksForLevel(r);let s=0;const a=o.getECBlocks();for(const L of a)s+=L.getCount();const u=new Array(s);let d=0;for(const L of a)for(let F=0;F<L.getCount();F++){const V=L.getDataCodewords(),K=o.getECCodewordsPerBlock()+V;u[d++]=new lo(V,new Uint8Array(K))}const p=u[0].codewords.length;let E=u.length-1;for(;E>=0&&u[E].codewords.length!==p;)E--;E++;const S=p-o.getECCodewordsPerBlock();let T=0;for(let L=0;L<S;L++)for(let F=0;F<d;F++)u[F].codewords[L]=e[T++];for(let L=E;L<d;L++)u[L].codewords[S]=e[T++];const O=u[0].codewords.length;for(let L=S;L<O;L++)for(let F=0;F<d;F++){const V=F<E?L:L+1;u[F].codewords[V]=e[T++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var An;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(An||(An={}));class Fe{constructor(e,n,r,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=o,Fe.FOR_BITS.set(o,this),Fe.FOR_VALUE.set(e,this)}static forBits(e){const n=Fe.FOR_BITS.get(e);if(n===void 0)throw new k;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Fe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Fe.FOR_BITS=new Map,Fe.FOR_VALUE=new Map,Fe.TERMINATOR=new Fe(An.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Fe.NUMERIC=new Fe(An.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Fe.ALPHANUMERIC=new Fe(An.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Fe.STRUCTURED_APPEND=new Fe(An.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Fe.BYTE=new Fe(An.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Fe.ECI=new Fe(An.ECI,"ECI",Int32Array.from([0,0,0]),7),Fe.KANJI=new Fe(An.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Fe.FNC1_FIRST_POSITION=new Fe(An.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Fe.FNC1_SECOND_POSITION=new Fe(An.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Fe.HANZI=new Fe(An.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Nt{static decode(e,n,r,o){const s=new jo(e);let a=new Ge;const u=new Array;let d=-1,p=-1;try{let E=null,S=!1,T;do{if(s.available()<4)T=Fe.TERMINATOR;else{const O=s.readBits(4);T=Fe.forBits(O)}switch(T){case Fe.TERMINATOR:break;case Fe.FNC1_FIRST_POSITION:case Fe.FNC1_SECOND_POSITION:S=!0;break;case Fe.STRUCTURED_APPEND:if(s.available()<16)throw new se;d=s.readBits(8),p=s.readBits(8);break;case Fe.ECI:const O=Nt.parseECIValue(s);if(E=re.getCharacterSetECIByValue(O),E===null)throw new se;break;case Fe.HANZI:const L=s.readBits(4),F=s.readBits(T.getCharacterCountBits(n));L===Nt.GB2312_SUBSET&&Nt.decodeHanziSegment(s,a,F);break;default:const V=s.readBits(T.getCharacterCountBits(n));switch(T){case Fe.NUMERIC:Nt.decodeNumericSegment(s,a,V);break;case Fe.ALPHANUMERIC:Nt.decodeAlphanumericSegment(s,a,V,S);break;case Fe.BYTE:Nt.decodeByteSegment(s,a,V,E,u,o);break;case Fe.KANJI:Nt.decodeKanjiSegment(s,a,V);break;default:throw new se}break}}while(T!==Fe.TERMINATOR)}catch{throw new se}return new je(e,a.toString(),u.length===0?null:u,r===null?null:r.toString(),d,p)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new se;const o=new Uint8Array(2*r);let s=0;for(;r>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,o[s]=u>>8&255,o[s+1]=u&255,s+=2,r--}try{n.append(qe.decode(o,Pe.GB2312))}catch(a){throw new se(a)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new se;const o=new Uint8Array(2*r);let s=0;for(;r>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,o[s]=u>>8,o[s+1]=u,s+=2,r--}try{n.append(qe.decode(o,Pe.SHIFT_JIS))}catch(a){throw new se(a)}}static decodeByteSegment(e,n,r,o,s,a){if(8*r>e.available())throw new se;const u=new Uint8Array(r);for(let p=0;p<r;p++)u[p]=e.readBits(8);let d;o===null?d=Pe.guessEncoding(u,a):d=o.getName();try{n.append(qe.decode(u,d))}catch(p){throw new se(p)}s.push(u)}static toAlphaNumericChar(e){if(e>=Nt.ALPHANUMERIC_CHARS.length)throw new se;return Nt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,o){const s=n.length();for(;r>1;){if(e.available()<11)throw new se;const a=e.readBits(11);n.append(Nt.toAlphaNumericChar(Math.floor(a/45))),n.append(Nt.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new se;n.append(Nt.toAlphaNumericChar(e.readBits(6)))}if(o)for(let a=s;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new se;const o=e.readBits(10);if(o>=1e3)throw new se;n.append(Nt.toAlphaNumericChar(Math.floor(o/100))),n.append(Nt.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(Nt.toAlphaNumericChar(o%10)),r-=3}if(r===2){if(e.available()<7)throw new se;const o=e.readBits(7);if(o>=100)throw new se;n.append(Nt.toAlphaNumericChar(Math.floor(o/10))),n.append(Nt.toAlphaNumericChar(o%10))}else if(r===1){if(e.available()<4)throw new se;const o=e.readBits(4);if(o>=10)throw new se;n.append(Nt.toAlphaNumericChar(o))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new se}}Nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Nt.GB2312_SUBSET=1;class Yo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Ko{constructor(){this.rsDecoder=new ei(at.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ct.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new Fs(e);let o=null;try{return this.decodeBitMatrixParser(r,n)}catch(s){o=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const s=this.decodeBitMatrixParser(r,n);return s.setOther(new Yo(!0)),s}catch(s){throw o!==null?o:s}}decodeBitMatrixParser(e,n){const r=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),a=lo.getDataBlocks(s,r,o);let u=0;for(const E of a)u+=E.getNumDataCodewords();const d=new Uint8Array(u);let p=0;for(const E of a){const S=E.getCodewords(),T=E.getNumDataCodewords();this.correctErrors(S,T);for(let O=0;O<T;O++)d[p++]=S[O]}return Nt.decode(d,r,o,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new J}for(let o=0;o<n;o++)e[o]=r[o]}}class si extends Ne{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const o=(this.getX()+n)/2,s=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new si(o,s,a)}}class Yn{constructor(e,n,r,o,s,a,u){this.image=e,this.startX=n,this.startY=r,this.width=o,this.height=s,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,o=e+r,s=this.startY+n/2,a=new Int32Array(3),u=this.image;for(let d=0;d<n;d++){const p=s+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));a[0]=0,a[1]=0,a[2]=0;let E=e;for(;E<o&&!u.get(E,p);)E++;let S=0;for(;E<o;){if(u.get(E,p))if(S===1)a[1]++;else if(S===2){if(this.foundPatternCross(a)){const T=this.handlePossibleCenter(a,p,E);if(T!==null)return T}a[0]=a[2],a[1]=1,a[2]=0,S=1}else a[++S]++;else S===1&&S++,a[S]++;E++}if(this.foundPatternCross(a)){const T=this.handlePossibleCenter(a,p,o);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let o=0;o<3;o++)if(Math.abs(n-e[o])>=r)return!1;return!0}crossCheckVertical(e,n,r,o){const s=this.image,a=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let d=e;for(;d>=0&&s.get(n,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&!s.get(n,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<a&&s.get(n,d)&&u[1]<=r;)u[1]++,d++;if(d===a||u[1]>r)return NaN;for(;d<a&&!s.get(n,d)&&u[2]<=r;)u[2]++,d++;if(u[2]>r)return NaN;const p=u[0]+u[1]+u[2];return 5*Math.abs(p-o)>=2*o?NaN:this.foundPatternCross(u)?Yn.centerFromEnd(u,d):NaN}handlePossibleCenter(e,n,r){const o=e[0]+e[1]+e[2],s=Yn.centerFromEnd(e,r),a=this.crossCheckVertical(n,s,2*e[1],o);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(u,a,s))return p.combineEstimate(a,s,u);const d=new si(s,a,u);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class rr extends Ne{constructor(e,n,r,o){super(e,n),this.estimatedModuleSize=r,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const o=this.count+1,s=(this.count*this.getX()+n)/o,a=(this.count*this.getY()+e)/o,u=(this.count*this.estimatedModuleSize+r)/o;return new rr(s,a,u,o)}}class Tr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Me.TRY_HARDER)!==void 0,r=e!=null&&e.get(Me.PURE_BARCODE)!==void 0,o=this.image,s=o.getHeight(),a=o.getWidth();let u=Math.floor(3*s/(4*kt.MAX_MODULES));(u<kt.MIN_SKIP||n)&&(u=kt.MIN_SKIP);let d=!1;const p=new Int32Array(5);for(let S=u-1;S<s&&!d;S+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let T=0;for(let O=0;O<a;O++)if(o.get(O,S))(T&1)===1&&T++,p[T]++;else if((T&1)===0)if(T===4)if(kt.foundPatternCross(p)){if(this.handlePossibleCenter(p,S,O,r)===!0)if(u=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>p[2]&&(S+=F-p[2]-u,O=a-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,T=3;continue}T=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,T=3;else p[++T]++;else p[T]++;kt.foundPatternCross(p)&&this.handlePossibleCenter(p,S,a,r)===!0&&(u=p[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return Ne.orderBestPatterns(E),new Tr(E)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let s=0;s<5;s++){const a=e[s];if(a===0)return!1;n+=a}if(n<7)return!1;const r=n/7,o=r/2;return Math.abs(r-e[0])<o&&Math.abs(r-e[1])<o&&Math.abs(3*r-e[2])<3*o&&Math.abs(r-e[3])<o&&Math.abs(r-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,o){const s=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&n>=a&&u.get(n-a,e-a);)s[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!u.get(n-a,e-a)&&s[1]<=r;)s[1]++,a++;if(e<a||n<a||s[1]>r)return!1;for(;e>=a&&n>=a&&u.get(n-a,e-a)&&s[0]<=r;)s[0]++,a++;if(s[0]>r)return!1;const d=u.getHeight(),p=u.getWidth();for(a=1;e+a<d&&n+a<p&&u.get(n+a,e+a);)s[2]++,a++;if(e+a>=d||n+a>=p)return!1;for(;e+a<d&&n+a<p&&!u.get(n+a,e+a)&&s[3]<r;)s[3]++,a++;if(e+a>=d||n+a>=p||s[3]>=r)return!1;for(;e+a<d&&n+a<p&&u.get(n+a,e+a)&&s[4]<r;)s[4]++,a++;if(s[4]>=r)return!1;const E=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(E-o)<2*o&&kt.foundPatternCross(s)}crossCheckVertical(e,n,r,o){const s=this.image,a=s.getHeight(),u=this.getCrossCheckStateCount();let d=e;for(;d>=0&&s.get(n,d);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!s.get(n,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&s.get(n,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<a&&s.get(n,d);)u[2]++,d++;if(d===a)return NaN;for(;d<a&&!s.get(n,d)&&u[3]<r;)u[3]++,d++;if(d===a||u[3]>=r)return NaN;for(;d<a&&s.get(n,d)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-o)>=2*o?NaN:kt.foundPatternCross(u)?kt.centerFromEnd(u,d):NaN}crossCheckHorizontal(e,n,r,o){const s=this.image,a=s.getWidth(),u=this.getCrossCheckStateCount();let d=e;for(;d>=0&&s.get(d,n);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!s.get(d,n)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&s.get(d,n)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<a&&s.get(d,n);)u[2]++,d++;if(d===a)return NaN;for(;d<a&&!s.get(d,n)&&u[3]<r;)u[3]++,d++;if(d===a||u[3]>=r)return NaN;for(;d<a&&s.get(d,n)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-o)>=o?NaN:kt.foundPatternCross(u)?kt.centerFromEnd(u,d):NaN}handlePossibleCenter(e,n,r,o){const s=e[0]+e[1]+e[2]+e[3]+e[4];let a=kt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(a),e[2],s);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],s),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],s)))){const d=s/7;let p=!1;const E=this.possibleCenters;for(let S=0,T=E.length;S<T;S++){const O=E[S];if(O.aboutEquals(d,u,a)){E[S]=O.combineEstimate(u,a,d),p=!0;break}}if(!p){const S=new rr(a,u,d);E.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=kt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=kt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const o=n/r;let s=0;for(const a of this.possibleCenters)s+=Math.abs(a.getEstimatedModuleSize()-o);return s<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new $;const n=this.possibleCenters;let r;if(e>3){let o=0,s=0;for(const d of this.possibleCenters){const p=d.getEstimatedModuleSize();o+=p,s+=p*p}r=o/e;let a=Math.sqrt(s/e-r*r);n.sort((d,p)=>{const E=Math.abs(p.getEstimatedModuleSize()-r),S=Math.abs(d.getEstimatedModuleSize()-r);return E<S?-1:E>S?1:0});const u=Math.max(.2*r,a);for(let d=0;d<n.length&&n.length>3;d++){const p=n[d];Math.abs(p.getEstimatedModuleSize()-r)>u&&(n.splice(d,1),d--)}}if(n.length>3){let o=0;for(const s of n)o+=s.getEstimatedModuleSize();r=o/n.length,n.sort((s,a)=>{if(a.getCount()===s.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-r),d=Math.abs(s.getEstimatedModuleSize()-r);return u<d?1:u>d?-1:0}else return a.getCount()-s.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}kt.CENTER_QUORUM=2,kt.MIN_SKIP=3,kt.MAX_MODULES=57;class dr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Me.NEED_RESULT_POINT_CALLBACK);const r=new kt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),o=e.getBottomLeft(),s=this.calculateModuleSize(n,r,o);if(s<1)throw new $("No pattern found in proccess finder.");const a=dr.computeDimension(n,r,o,s),u=Be.getProvisionalVersionForDimension(a),d=u.getDimensionForVersion()-7;let p=null;if(u.getAlignmentPatternCenters().length>0){const O=r.getX()-n.getX()+o.getX(),L=r.getY()-n.getY()+o.getY(),F=1-3/d,V=Math.floor(n.getX()+F*(O-n.getX())),K=Math.floor(n.getY()+F*(L-n.getY()));for(let pe=4;pe<=16;pe<<=1)try{p=this.findAlignmentInRegion(s,V,K,pe);break}catch(me){if(!(me instanceof $))throw me}}const E=dr.createTransform(n,r,o,p,a),S=dr.sampleGrid(this.image,E,a);let T;return p===null?T=[o,n,r]:T=[o,n,r,p],new ti(S,T)}static createTransform(e,n,r,o,s){const a=s-3.5;let u,d,p,E;return o!==null?(u=o.getX(),d=o.getY(),p=a-3,E=p):(u=n.getX()-e.getX()+r.getX(),d=n.getY()-e.getY()+r.getY(),p=a,E=a),Dn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,p,E,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),u,d,r.getX(),r.getY())}static sampleGrid(e,n,r){return zn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,o){const s=it.round(Ne.distance(e,n)/o),a=it.round(Ne.distance(e,r)/o);let u=Math.floor((s+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new $("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?o/7:isNaN(o)?r/7:(r+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,o){let s=this.sizeOfBlackWhiteBlackRun(e,n,r,o),a=1,u=e-(r-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let d=Math.floor(n-(o-n)*a);return a=1,d<0?(a=n/(n-d),d=0):d>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,n,u,d),s-1}sizeOfBlackWhiteBlackRun(e,n,r,o){const s=Math.abs(o-n)>Math.abs(r-e);if(s){let O=e;e=n,n=O,O=r,r=o,o=O}const a=Math.abs(r-e),u=Math.abs(o-n);let d=-a/2;const p=e<r?1:-1,E=n<o?1:-1;let S=0;const T=r+p;for(let O=e,L=n;O!==T;O+=p){const F=s?L:O,V=s?O:L;if(S===1===this.image.get(F,V)){if(S===2)return it.distance(O,L,e,n);S++}if(d+=u,d>0){if(L===o)break;L+=E,d-=a}}return S===2?it.distance(r+p,o,e,n):NaN}findAlignmentInRegion(e,n,r,o){const s=Math.floor(o*e),a=Math.max(0,n-s),u=Math.min(this.image.getWidth()-1,n+s);if(u-a<e*3)throw new $("Alignment top exceeds estimated module size.");const d=Math.max(0,r-s),p=Math.min(this.image.getHeight()-1,r+s);if(p-d<e*3)throw new $("Alignment bottom exceeds estimated module size.");return new Yn(this.image,a,d,u-a,p-d,e,this.resultPointCallback).find()}}class pn{constructor(){this.decoder=new Ko}getDecoder(){return this.decoder}decode(e,n){let r,o;if(n!=null&&n.get(Me.PURE_BARCODE)!==void 0){const d=pn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(d,n),o=pn.NO_POINTS}else{const d=new dr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(d.getBits(),n),o=d.getPoints()}r.getOther()instanceof Yo&&r.getOther().applyMirroredCorrection(o);const s=new ye(r.getText(),r.getRawBytes(),void 0,o,ee.QR_CODE,void 0),a=r.getByteSegments();a!==null&&s.putMetadata(Ae.BYTE_SEGMENTS,a);const u=r.getECLevel();return u!==null&&s.putMetadata(Ae.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(s.putMetadata(Ae.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(Ae.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new $;const o=this.moduleSize(n,e);let s=n[1],a=r[1],u=n[0],d=r[0];if(u>=d||s>=a)throw new $;if(a-s!==d-u&&(d=u+(a-s),d>=e.getWidth()))throw new $;const p=Math.round((d-u+1)/o),E=Math.round((a-s+1)/o);if(p<=0||E<=0)throw new $;if(E!==p)throw new $;const S=Math.floor(o/2);s+=S,u+=S;const T=u+Math.floor((p-1)*o)-d;if(T>0){if(T>S)throw new $;u-=T}const O=s+Math.floor((E-1)*o)-a;if(O>0){if(O>S)throw new $;s-=O}const L=new ct(p,E);for(let F=0;F<E;F++){const V=s+Math.floor(F*o);for(let K=0;K<p;K++)e.get(u+Math.floor(K*o),V)&&L.set(K,F)}return L}static moduleSize(e,n){const r=n.getHeight(),o=n.getWidth();let s=e[0],a=e[1],u=!0,d=0;for(;s<o&&a<r;){if(u!==n.get(s,a)){if(++d===5)break;u=!u}s++,a++}if(s===o||a===r)throw new $;return(s-e[0])/7}}pn.NO_POINTS=new Array;class We{PDF417Common(){}static getBitCountSum(e){return it.sum(e)}static toIntArray(e){if(e==null||!e.length)return We.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const o of e)n[r++]=o;return n}static getCodeword(e){const n=oe.binarySearch(We.SYMBOL_TABLE,e&262143);return n<0?-1:(We.CODEWORD_TABLE[n]-1)%We.NUMBER_OF_CODEWORDS}}We.NUMBER_OF_CODEWORDS=929,We.MAX_CODEWORDS_IN_BARCODE=We.NUMBER_OF_CODEWORDS-1,We.MIN_ROWS_IN_BARCODE=3,We.MAX_ROWS_IN_BARCODE=90,We.MODULES_IN_CODEWORD=17,We.MODULES_IN_STOP_PATTERN=18,We.BARS_IN_MODULE=8,We.EMPTY_INT_ARRAY=new Int32Array([]),We.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),We.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Us{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Ye{static detectMultiple(e,n,r){let o=e.getBlackMatrix(),s=Ye.detect(r,o);return s.length||(o=o.clone(),o.rotate180(),s=Ye.detect(r,o)),new Us(o,s)}static detect(e,n){const r=new Array;let o=0,s=0,a=!1;for(;o<n.getHeight();){const u=Ye.findVertices(n,o,s);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,s=0;for(const d of r)d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())));o+=Ye.ROW_STEP;continue}if(a=!0,r.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const o=e.getHeight(),s=e.getWidth(),a=new Array(8);return Ye.copyToResult(a,Ye.findRowsWithPattern(e,o,s,n,r,Ye.START_PATTERN),Ye.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),Ye.copyToResult(a,Ye.findRowsWithPattern(e,o,s,n,r,Ye.STOP_PATTERN),Ye.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,r){for(let o=0;o<r.length;o++)e[r[o]]=n[o]}static findRowsWithPattern(e,n,r,o,s,a){const u=new Array(4);let d=!1;const p=new Int32Array(a.length);for(;o<n;o+=Ye.ROW_STEP){let S=Ye.findGuardPattern(e,s,o,r,!1,a,p);if(S!=null){for(;o>0;){const T=Ye.findGuardPattern(e,s,--o,r,!1,a,p);if(T!=null)S=T;else{o++;break}}u[0]=new Ne(S[0],o),u[1]=new Ne(S[1],o),d=!0;break}}let E=o+1;if(d){let S=0,T=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;E<n;E++){const O=Ye.findGuardPattern(e,T[0],E,r,!1,a,p);if(O!=null&&Math.abs(T[0]-O[0])<Ye.MAX_PATTERN_DRIFT&&Math.abs(T[1]-O[1])<Ye.MAX_PATTERN_DRIFT)T=O,S=0;else{if(S>Ye.SKIPPED_ROW_COUNT_MAX)break;S++}}E-=S+1,u[2]=new Ne(T[0],E),u[3]=new Ne(T[1],E)}return E-o<Ye.BARCODE_MIN_HEIGHT&&oe.fill(u,null),u}static findGuardPattern(e,n,r,o,s,a,u){oe.fillWithin(u,0,u.length,0);let d=n,p=0;for(;e.get(d,r)&&d>0&&p++<Ye.MAX_PIXEL_DRIFT;)d--;let E=d,S=0,T=a.length;for(let O=s;E<o;E++)if(e.get(E,r)!==O)u[S]++;else{if(S===T-1){if(Ye.patternMatchVariance(u,a,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return new Int32Array([d,E]);d+=u[0]+u[1],j.arraycopy(u,2,u,0,S-1),u[S-1]=0,u[S]=0,S--}else S++;u[S]=1,O=!O}return S===T-1&&Ye.patternMatchVariance(u,a,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE?new Int32Array([d,E-1]):null}static patternMatchVariance(e,n,r){let o=e.length,s=0,a=0;for(let p=0;p<o;p++)s+=e[p],a+=n[p];if(s<a)return 1/0;let u=s/a;r*=u;let d=0;for(let p=0;p<o;p++){let E=e[p],S=n[p]*u,T=E>S?E-S:S-E;if(T>r)return 1/0;d+=T}return d/s}}Ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ye.MAX_AVG_VARIANCE=.42,Ye.MAX_INDIVIDUAL_VARIANCE=.8,Ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ye.MAX_PIXEL_DRIFT=3,Ye.MAX_PATTERN_DRIFT=5,Ye.SKIPPED_ROW_COUNT_MAX=25,Ye.ROW_STEP=5,Ye.BARCODE_MIN_HEIGHT=10;class tn{constructor(e,n){if(n.length===0)throw new k;this.field=e;let r=n.length;if(r>1&&n[0]===0){let o=1;for(;o<r&&n[o]===0;)o++;o===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-o),j.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let s of this.coefficients)o=this.field.add(o,s);return o}let n=this.coefficients[0],r=this.coefficients.length;for(let o=1;o<r;o++)n=this.field.add(this.field.multiply(e,n),this.coefficients[o]);return n}add(e){if(!this.field.equals(e.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let a=n;n=r,r=a}let o=new Int32Array(r.length),s=r.length-n.length;j.arraycopy(r,0,o,0,s);for(let a=s;a<r.length;a++)o[a]=this.field.add(n[a-s],r[a]);return new tn(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new k("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof tn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new tn(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,o=e.coefficients,s=o.length,a=new Int32Array(r+s-1);for(let u=0;u<r;u++){let d=n[u];for(let p=0;p<s;p++)a[u+p]=this.field.add(a[u+p],this.field.multiply(d,o[p]))}return new tn(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new tn(this.field,n)}multiplyScalar(e){if(e===0)return new tn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.multiply(this.coefficients[o],e);return new tn(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new k;if(n===0)return new tn(this.field,new Int32Array([0]));let r=this.coefficients.length,o=new Int32Array(r+e);for(let s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new tn(this.field,o)}toString(){let e=new Ge;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Vs{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new k;return this.logTable[e]}inverse(e){if(e===0)throw new Oi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ai extends Vs{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let o=0;o<e;o++)this.expTable[o]=r,r=r*n%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new tn(this,new Int32Array([0])),this.one=new tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new k;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new tn(this,r)}}ai.PDF417_GF=new ai(We.NUMBER_OF_CODEWORDS,3);class Zo{constructor(){this.field=ai.PDF417_GF}decode(e,n,r){let o=new tn(this.field,e),s=new Int32Array(n),a=!1;for(let L=n;L>0;L--){let F=o.evaluateAt(this.field.exp(L));s[n-L]=F,F!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(r!=null)for(const L of r){let F=this.field.exp(e.length-1-L),V=new tn(this.field,new Int32Array([this.field.subtract(0,F),1]));u=u.multiply(V)}let d=new tn(this.field,s),p=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),d,n),E=p[0],S=p[1],T=this.findErrorLocations(E),O=this.findErrorMagnitudes(S,E,T);for(let L=0;L<T.length;L++){let F=e.length-1-this.field.log(T[L]);if(F<0)throw J.getChecksumInstance();e[F]=this.field.subtract(e[F],O[L])}return T.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let T=e;e=n,n=T}let o=e,s=n,a=this.field.getZero(),u=this.field.getOne();for(;s.getDegree()>=Math.round(r/2);){let T=o,O=a;if(o=s,a=u,o.isZero())throw J.getChecksumInstance();s=T;let L=this.field.getZero(),F=o.getCoefficient(o.getDegree()),V=this.field.inverse(F);for(;s.getDegree()>=o.getDegree()&&!s.isZero();){let K=s.getDegree()-o.getDegree(),pe=this.field.multiply(s.getCoefficient(s.getDegree()),V);L=L.add(this.field.buildMonomial(K,pe)),s=s.subtract(o.multiplyByMonomial(K,pe))}u=L.multiply(a).subtract(O).negative()}let d=u.getCoefficient(0);if(d===0)throw J.getChecksumInstance();let p=this.field.inverse(d),E=u.multiply(p),S=s.multiply(p);return[E,S]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),o=0;for(let s=1;s<this.field.getSize()&&o<n;s++)e.evaluateAt(s)===0&&(r[o]=this.field.inverse(s),o++);if(o!==n)throw J.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let o=n.getDegree(),s=new Int32Array(o);for(let p=1;p<=o;p++)s[o-p]=this.field.multiply(p,n.getCoefficient(p));let a=new tn(this.field,s),u=r.length,d=new Int32Array(u);for(let p=0;p<u;p++){let E=this.field.inverse(r[p]),S=this.field.subtract(0,e.evaluateAt(E)),T=this.field.inverse(a.evaluateAt(E));d[p]=this.field.multiply(S,T)}return d}}class Lr{constructor(e,n,r,o,s){e instanceof Lr?this.constructor_2(e):this.constructor_1(e,n,r,o,s)}constructor_1(e,n,r,o,s){const a=n==null||r==null,u=o==null||s==null;if(a&&u)throw new $;a?(n=new Ne(0,o.getY()),r=new Ne(0,s.getY())):u&&(o=new Ne(e.getWidth()-1,n.getY()),s=new Ne(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=o,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(o.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Lr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let o=this.topLeft,s=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let d=r?this.topLeft:this.topRight,p=Math.trunc(d.getY()-e);p<0&&(p=0);let E=new Ne(d.getX(),p);r?o=E:a=E}if(n>0){let d=r?this.bottomLeft:this.bottomRight,p=Math.trunc(d.getY()+n);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let E=new Ne(d.getX(),p);r?s=E:u=E}return new Lr(this.image,o,s,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Pi{constructor(e,n,r,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class hr{constructor(){this.buffer=""}static form(e,n){let r=-1;function o(a,u,d,p,E,S){if(a==="%%")return"%";if(n[++r]===void 0)return;a=p?parseInt(p.substr(1)):void 0;let T=E?parseInt(E.substr(1)):void 0,O;switch(S){case"s":O=n[r];break;case"c":O=n[r][0];break;case"f":O=parseFloat(n[r]).toFixed(a);break;case"p":O=parseFloat(n[r]).toPrecision(a);break;case"e":O=parseFloat(n[r]).toExponential(a);break;case"x":O=parseInt(n[r]).toString(T||16);break;case"d":O=parseFloat(parseInt(n[r],T||10).toPrecision(a)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(T);let L=parseInt(d),F=d&&d[0]+""=="0"?"0":" ";for(;O.length<L;)O=u!==void 0?O+F:F+O;return O}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)}format(e,...n){this.buffer+=hr.form(e,n)}toString(){return this.buffer}}class ir{constructor(e){this.boundingBox=new Lr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<ir.MAX_NEARBY_DISTANCE;r++){let o=this.imageRowToCodewordIndex(e)-r;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+r,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new hr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}ir.MAX_NEARBY_DISTANCE=5;class _r{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,o]of this.values.entries()){const s={getKey:()=>r,getValue:()=>o};s.getValue()>e?(e=s.getValue(),n=[],n.push(s.getKey())):s.getValue()===e&&n.push(s.getKey())}return We.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class Hs extends ir{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=-1,p=1,E=0;for(let S=a;S<u;S++){if(n[S]==null)continue;let T=n[S],O=T.getRowNumber()-d;if(O===0)E++;else if(O===1)p=Math.max(p,E),E=1,d=T.getRowNumber();else if(O<0||T.getRowNumber()>=e.getRowCount()||O>S)n[S]=null;else{let L;p>2?L=(p-2)*O:L=O;let F=L>=S;for(let V=1;V<=L&&!F;V++)F=n[S-V]!=null;F?n[S]=null:(d=T.getRowNumber(),E=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let o=r.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),d=-1;for(let p=s;p<a;p++){if(u[p]==null)continue;let E=u[p];E.setRowNumberAsRowIndicatorColumn();let S=E.getRowNumber()-d;S===0||(S===1?d=E.getRowNumber():E.getRowNumber()>=e.getRowCount()?u[p]=null:d=E.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new _r,r=new _r,o=new _r,s=new _r;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let d=u.getValue()%30,p=u.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:r.setValue(d*3+1);break;case 1:s.setValue(d/3),o.setValue(d%3);break;case 2:n.setValue(d+1);break}}if(n.getValue().length===0||r.getValue().length===0||o.getValue().length===0||s.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+o.getValue()[0]<We.MIN_ROWS_IN_BARCODE||r.getValue()[0]+o.getValue()[0]>We.MAX_ROWS_IN_BARCODE)return null;let a=new Pi(n.getValue()[0],r.getValue()[0],o.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let o=e[r];if(e[r]==null)continue;let s=o.getValue()%30,a=o.getRowNumber();if(a>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:s+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Li{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=We.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let o=0;o<r.length;o++)r[o]!=null&&(r[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let s=this.detectionResultColumns[o].getCodewords()[r];s!=null&&(s.setRowNumber(e[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let o=n[r].getRowNumber(),s=0;for(let a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(s=Li.adjustRowNumberIfValid(o,s,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let o=n[r].getRowNumber(),s=0;for(let a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[r];u!=null&&(s=Li.adjustRowNumberIfValid(o,s,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let o=r[n],s=this.detectionResultColumns[e-1].getCodewords(),a=s;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=s[n],u[3]=a[n],n>0&&(u[0]=r[n-1],u[4]=s[n-1],u[5]=a[n-1]),n>1&&(u[8]=r[n-2],u[10]=s[n-2],u[11]=a[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=s[n+1],u[7]=a[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=s[n+2],u[13]=a[n+2]);for(let d of u)if(Li.adjustRowNumber(o,d))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new hr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let s=this.detectionResultColumns[o].getCodewords()[r];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()}}class Br{constructor(e,n,r,o){this.rowNumber=Br.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Br.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Br.BARCODE_ROW_UNKNOWN=-1;class nn{static initialize(){for(let e=0;e<We.SYMBOL_TABLE.length;e++){let n=We.SYMBOL_TABLE[e],r=n&1;for(let o=0;o<We.BARS_IN_MODULE;o++){let s=0;for(;(n&1)===r;)s+=1,n>>=1;r=n&1,nn.RATIOS_TABLE[e]||(nn.RATIOS_TABLE[e]=new Array(We.BARS_IN_MODULE)),nn.RATIOS_TABLE[e][We.BARS_IN_MODULE-o-1]=Math.fround(s/We.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=nn.getDecodedCodewordValue(nn.sampleBitCounts(e));return n!==-1?n:nn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=it.sum(e),r=new Int32Array(We.BARS_IN_MODULE),o=0,s=0;for(let a=0;a<We.MODULES_IN_CODEWORD;a++){let u=n/(2*We.MODULES_IN_CODEWORD)+a*n/We.MODULES_IN_CODEWORD;s+e[o]<=u&&(s+=e[o],o++),r[o]++}return r}static getDecodedCodewordValue(e){let n=nn.getBitValue(e);return We.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let o=0;o<e[r];o++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=it.sum(e),r=new Array(We.BARS_IN_MODULE);if(n>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/n);let o=vr.MAX_VALUE,s=-1;this.bSymbolTableReady||nn.initialize();for(let a=0;a<nn.RATIOS_TABLE.length;a++){let u=0,d=nn.RATIOS_TABLE[a];for(let p=0;p<We.BARS_IN_MODULE;p++){let E=Math.fround(d[p]-r[p]);if(u+=Math.fround(E*E),u>=o)break}u<o&&(o=u,s=We.SYMBOL_TABLE[a])}return s}}nn.bSymbolTableReady=!1,nn.RATIOS_TABLE=new Array(We.SYMBOL_TABLE.length).map(v=>new Array(We.BARS_IN_MODULE));class uo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class qo{static parseLong(e,n=void 0){return parseInt(e,n)}}class gr extends A{}gr.kind="NullPointerException";class Qo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new gr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new ae;if(r===0)return;for(let o=0;o<r;o++)this.write(e[n+o])}flush(){}close(){}}class co extends A{}class zs extends Qo{constructor(e=32){if(super(),this.count=0,e<0)throw new k("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new co;r=le.MAX_VALUE}this.buf=oe.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new ae;this.ensureCapacity(this.count+r),j.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return oe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ft;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ft||(ft={}));function Bi(){if(typeof window<"u")return window.BigInt||null;if(typeof Ua<"u")return Ua.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fi;function zt(v){if(typeof Fi>"u"&&(Fi=Bi()),Fi===null)throw new Error("BigInt is not supported!");return Fi(v)}function li(){let v=[];v[0]=zt(1);let e=zt(900);v[1]=e;for(let n=2;n<16;n++)v[n]=v[n-1]*e;return v}class q{static decode(e,n){let r=new Ge(""),o=re.ISO8859_1;r.enableDecoding(o);let s=1,a=e[s++],u=new uo;for(;s<e[0];){switch(a){case q.TEXT_COMPACTION_MODE_LATCH:s=q.textCompaction(e,s,r);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:s=q.byteCompaction(a,e,o,s,r);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[s++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:s=q.numericCompaction(e,s,r);break;case q.ECI_CHARSET:re.getCharacterSetECIByValue(e[s++]);break;case q.ECI_GENERAL_PURPOSE:s+=2;break;case q.ECI_USER_DEFINED:s++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=q.decodeMacroBlock(e,s,u);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new se;default:s--,s=q.textCompaction(e,s,r);break}if(s<e.length)a=e[s++];else throw se.getFormatInstance()}if(r.length()===0)throw se.getFormatInstance();let d=new je(null,r.toString(),null,n);return d.setOther(u),d}static decodeMacroBlock(e,n,r){if(n+q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw se.getFormatInstance();let o=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<q.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)o[u]=e[n];r.setSegmentIndex(le.parseInt(q.decodeBase900toBase10(o,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Ge;n=q.textCompaction(e,n,s),r.setFileId(s.toString());let a=-1;for(e[n]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ge;n=q.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Ge;n=q.textCompaction(e,n+1,d),r.setSender(d.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Ge;n=q.textCompaction(e,n+1,p),r.setAddressee(p.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Ge;n=q.numericCompaction(e,n+1,E),r.setSegmentCount(le.parseInt(E.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new Ge;n=q.numericCompaction(e,n+1,S),r.setTimestamp(qo.parseLong(S.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Ge;n=q.numericCompaction(e,n+1,T),r.setChecksum(le.parseInt(T.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new Ge;n=q.numericCompaction(e,n+1,O),r.setFileSize(qo.parseLong(O.toString()));break;default:throw se.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw se.getFormatInstance()}if(a!==-1){let u=n-a;r.isLastSegment()&&u--,r.setOptionalData(oe.copyOfRange(e,a,a+u))}return n}static textCompaction(e,n,r){let o=new Int32Array((e[0]-n)*2),s=new Int32Array((e[0]-n)*2),a=0,u=!1;for(;n<e[0]&&!u;){let d=e[n++];if(d<q.TEXT_COMPACTION_MODE_LATCH)o[a]=d/30,o[a+1]=d%30,a+=2;else switch(d){case q.TEXT_COMPACTION_MODE_LATCH:o[a++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[n++],s[a]=d,a++;break}}return q.decodeTextCompaction(o,s,a,r),n}static decodeTextCompaction(e,n,r,o){let s=ft.ALPHA,a=ft.ALPHA,u=0;for(;u<r;){let d=e[u],p="";switch(s){case ft.ALPHA:if(d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case q.LL:s=ft.LOWER;break;case q.ML:s=ft.MIXED;break;case q.PS:a=s,s=ft.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=ft.ALPHA;break}break;case ft.LOWER:if(d<26)p=String.fromCharCode(97+d);else switch(d){case 26:p=" ";break;case q.AS:a=s,s=ft.ALPHA_SHIFT;break;case q.ML:s=ft.MIXED;break;case q.PS:a=s,s=ft.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=ft.ALPHA;break}break;case ft.MIXED:if(d<q.PL)p=q.MIXED_CHARS[d];else switch(d){case q.PL:s=ft.PUNCT;break;case 26:p=" ";break;case q.LL:s=ft.LOWER;break;case q.AL:s=ft.ALPHA;break;case q.PS:a=s,s=ft.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=ft.ALPHA;break}break;case ft.PUNCT:if(d<q.PAL)p=q.PUNCT_CHARS[d];else switch(d){case q.PAL:s=ft.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=ft.ALPHA;break}break;case ft.ALPHA_SHIFT:if(s=a,d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:s=ft.ALPHA;break}break;case ft.PUNCT_SHIFT:if(s=a,d<q.PAL)p=q.PUNCT_CHARS[d];else switch(d){case q.PAL:s=ft.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:s=ft.ALPHA;break}break}p!==""&&o.append(p),u++}}static byteCompaction(e,n,r,o,s){let a=new zs,u=0,d=0,p=!1;switch(e){case q.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),S=n[o++];for(;o<n[0]&&!p;)switch(E[u++]=S,d=900*d+S,S=n[o++],S){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:o--,p=!0;break;default:if(u%5===0&&u>0){for(let T=0;T<6;++T)a.write(Number(zt(d)>>zt(8*(5-T))));d=0,u=0}break}o===n[0]&&S<q.TEXT_COMPACTION_MODE_LATCH&&(E[u++]=S);for(let T=0;T<u;T++)a.write(E[T]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!p;){let T=n[o++];if(T<q.TEXT_COMPACTION_MODE_LATCH)u++,d=900*d+T;else switch(T){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:o--,p=!0;break}if(u%5===0&&u>0){for(let O=0;O<6;++O)a.write(Number(zt(d)>>zt(8*(5-O))));d=0,u=0}}break}return s.append(qe.decode(a.toByteArray(),r)),o}static numericCompaction(e,n,r){let o=0,s=!1,a=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!s;){let u=e[n++];if(n===e[0]&&(s=!0),u<q.TEXT_COMPACTION_MODE_LATCH)a[o]=u,o++;else switch(u){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(o%q.MAX_NUMERIC_CODEWORDS===0||u===q.NUMERIC_COMPACTION_MODE_LATCH||s)&&o>0&&(r.append(q.decodeBase900toBase10(a,o)),o=0)}return n}static decodeBase900toBase10(e,n){let r=zt(0);for(let s=0;s<n;s++)r+=q.EXP900[n-s-1]*zt(e[s]);let o=r.toString();if(o.charAt(0)!=="1")throw new se;return o.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Bi()?li():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ze{constructor(){}static decode(e,n,r,o,s,a,u){let d=new Lr(e,n,r,o,s),p=null,E=null,S;for(let L=!0;;L=!1){if(n!=null&&(p=Ze.getRowIndicatorColumn(e,d,n,!0,a,u)),o!=null&&(E=Ze.getRowIndicatorColumn(e,d,o,!1,a,u)),S=Ze.merge(p,E),S==null)throw $.getNotFoundInstance();let F=S.getBoundingBox();if(L&&F!=null&&(F.getMinY()<d.getMinY()||F.getMaxY()>d.getMaxY()))d=F;else break}S.setBoundingBox(d);let T=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,p),S.setDetectionResultColumn(T,E);let O=p!=null;for(let L=1;L<=T;L++){let F=O?L:T-L;if(S.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===T?V=new Hs(d,F===0):V=new ir(d),S.setDetectionResultColumn(F,V);let K=-1,pe=K;for(let me=d.getMinY();me<=d.getMaxY();me++){if(K=Ze.getStartColumn(S,F,me,O),K<0||K>d.getMaxX()){if(pe===-1)continue;K=pe}let fe=Ze.detectCodeword(e,d.getMinX(),d.getMaxX(),O,K,me,a,u);fe!=null&&(V.setCodeword(me,fe),pe=K,a=Math.min(a,fe.getWidth()),u=Math.max(u,fe.getWidth()))}}return Ze.createDecoderResult(S)}static merge(e,n){if(e==null&&n==null)return null;let r=Ze.getBarcodeMetadata(e,n);if(r==null)return null;let o=Lr.merge(Ze.adjustBoundingBox(e),Ze.adjustBoundingBox(n));return new Li(r,o)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Ze.getMax(n),o=0;for(let u of n)if(o+=r-u,u>0)break;let s=e.getCodewords();for(let u=0;o>0&&s[u]==null;u++)o--;let a=0;for(let u=n.length-1;u>=0&&(a+=r-n[u],!(n[u]>0));u--);for(let u=s.length-1;a>0&&s[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(o,a,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==o.getColumnCount()&&r.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&r.getRowCount()!==o.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,o,s,a){let u=new Hs(n,o);for(let d=0;d<2;d++){let p=d===0?1:-1,E=Math.trunc(Math.trunc(r.getX()));for(let S=Math.trunc(Math.trunc(r.getY()));S<=n.getMaxY()&&S>=n.getMinY();S+=p){let T=Ze.detectCodeword(e,0,e.getWidth(),o,E,S,s,a);T!=null&&(u.setCodeword(S,T),o?E=T.getStartX():E=T.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],o=r.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ze.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(s<1||s>We.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();r.setValue(s)}else o[0]!==s&&r.setValue(s)}static createDecoderResult(e){let n=Ze.createBarcodeMatrix(e);Ze.adjustCodewordCount(e,n);let r=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let p=0;p<e.getBarcodeColumnCount();p++){let E=n[d][p+1].getValue(),S=d*e.getBarcodeColumnCount()+p;E.length===0?r.push(S):E.length===1?o[S]=E[0]:(a.push(S),s.push(E))}let u=new Array(s.length);for(let d=0;d<u.length;d++)u[d]=s[d];return Ze.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,We.toIntArray(r),We.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,n,r,o,s){let a=new Int32Array(o.length),u=100;for(;u-- >0;){for(let d=0;d<a.length;d++)n[o[d]]=s[d][a[d]];try{return Ze.decodeCodewords(n,e,r)}catch(d){if(!(d instanceof J))throw d}if(a.length===0)throw J.getChecksumInstance();for(let d=0;d<a.length;d++)if(a[d]<s[d].length-1){a[d]++;break}else if(a[d]=0,d===a.length-1)throw J.getChecksumInstance()}throw J.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let s=0;s<n[o].length;s++)n[o][s]=new _r;let r=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let s of o.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][r].setValue(s.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,o){let s=o?1:-1,a=null;if(Ze.isValidBarcodeColumn(e,n-s)&&(a=e.getDetectionResultColumn(n-s).getCodeword(r)),a!=null)return o?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(r),a!=null)return o?a.getStartX():a.getEndX();if(Ze.isValidBarcodeColumn(e,n-s)&&(a=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),a!=null)return o?a.getEndX():a.getStartX();let u=0;for(;Ze.isValidBarcodeColumn(e,n-s);){n-=s;for(let d of e.getDetectionResultColumn(n).getCodewords())if(d!=null)return(o?d.getEndX():d.getStartX())+s*u*(d.getEndX()-d.getStartX());u++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,o,s,a,u,d){s=Ze.adjustCodewordStartColumn(e,n,r,o,s,a);let p=Ze.getModuleBitCount(e,n,r,o,s,a);if(p==null)return null;let E,S=it.sum(p);if(o)E=s+S;else{for(let L=0;L<p.length/2;L++){let F=p[L];p[L]=p[p.length-1-L],p[p.length-1-L]=F}E=s,s=E-S}if(!Ze.checkCodewordSkew(S,u,d))return null;let T=nn.getDecodedValue(p),O=We.getCodeword(T);return O===-1?null:new Br(s,E,Ze.getCodewordBucketNumber(T),O)}static getModuleBitCount(e,n,r,o,s,a){let u=s,d=new Int32Array(8),p=0,E=o?1:-1,S=o;for(;(o?u<r:u>=n)&&p<d.length;)e.get(u,a)===S?(d[p]++,u+=E):(p++,S=!S);return p===d.length||u===(o?r:n)&&p===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,o,s,a){let u=s,d=o?-1:1;for(let p=0;p<2;p++){for(;(o?u>=n:u<r)&&o===e.get(u,a);){if(Math.abs(s-u)>Ze.CODEWORD_SKEW_SIZE)return s;u+=d}d=-d,o=!o}return u}static checkCodewordSkew(e,n,r){return n-Ze.CODEWORD_SKEW_SIZE<=e&&e<=r+Ze.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw se.getFormatInstance();let o=1<<n+1,s=Ze.correctErrors(e,r,o);Ze.verifyCodewordCount(e,o);let a=q.decode(e,""+n);return a.setErrorsCorrected(s),a.setErasures(r.length),a}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Ze.MAX_ERRORS||r<0||r>Ze.MAX_EC_CODEWORDS)throw J.getChecksumInstance();return Ze.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw se.getFormatInstance();let r=e[0];if(r>e.length)throw se.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw se.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,o=n.length-1;for(;!((e&1)!==r&&(r=e&1,o--,o<0));)n[o]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ze.getCodewordBucketNumber(Ze.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new hr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let o=0;o<e[r].length;o++){let s=e[r][o];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()}}Ze.CODEWORD_SKEW_SIZE=2,Ze.MAX_ERRORS=3,Ze.MAX_EC_CODEWORDS=512,Ze.errorCorrection=new Zo;class rn{decode(e,n=null){let r=rn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw $.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return rn.decode(e,n,!0)}catch(r){throw r instanceof se||r instanceof J?$.getNotFoundInstance():r}}static decode(e,n,r){const o=new Array,s=Ye.detectMultiple(e,n,r);for(const a of s.getPoints()){const u=Ze.decode(s.getBits(),a[4],a[5],a[6],a[7],rn.getMinCodewordWidth(a),rn.getMaxCodewordWidth(a)),d=new ye(u.getText(),u.getRawBytes(),void 0,a,ee.PDF_417);d.putMetadata(Ae.ERROR_CORRECTION_LEVEL,u.getECLevel());const p=u.getOther();p!=null&&d.putMetadata(Ae.PDF417_EXTRA_METADATA,p),o.push(d)}return o.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?le.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(rn.getMaxWidth(e[0],e[4]),rn.getMaxWidth(e[6],e[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.max(rn.getMaxWidth(e[1],e[5]),rn.getMaxWidth(e[7],e[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(rn.getMinWidth(e[0],e[4]),rn.getMinWidth(e[6],e[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.min(rn.getMinWidth(e[1],e[5]),rn.getMinWidth(e[7],e[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}reset(){}}class ui extends A{}ui.kind="ReaderException";class fo{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!C(e)&&e.get(Me.TRY_HARDER)===!0,r=C(e)?null:e.get(Me.POSSIBLE_FORMATS),o=new Array;if(!C(r)){const s=r.some(a=>a===ee.UPC_A||a===ee.UPC_E||a===ee.EAN_13||a===ee.EAN_8||a===ee.CODABAR||a===ee.CODE_39||a===ee.CODE_93||a===ee.CODE_128||a===ee.ITF||a===ee.RSS_14||a===ee.RSS_EXPANDED);s&&!n&&o.push(new ii(e,this.verbose)),r.includes(ee.QR_CODE)&&o.push(new pn),r.includes(ee.DATA_MATRIX)&&o.push(new jn),r.includes(ee.AZTEC)&&o.push(new Sr),r.includes(ee.PDF_417)&&o.push(new rn),s&&n&&o.push(new ii(e,this.verbose))}o.length===0&&(n||o.push(new ii(e,this.verbose)),o.push(new pn),o.push(new jn),o.push(new Sr),o.push(new rn),n&&o.push(new ii(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ui("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ui)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Ui extends he{constructor(e=null,n=500){const r=new fo;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class ho extends he{constructor(e=500){super(new rn,e)}}class Ws extends he{constructor(e=500){super(new pn,e)}}var Jo;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(Jo||(Jo={}));var Kt=Jo;class $o{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new gt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const o=this.field;for(let s=n.length;s<=e;s++){const a=r.multiply(new gt(o,Int32Array.from([1,o.exp(s-1+o.getGeneratorBase())])));n.push(a),r=a}}return n[e]}encode(e,n){if(n===0)throw new k("No error correction bytes");const r=e.length-n;if(r<=0)throw new k("No data bytes provided");const o=this.buildGenerator(n),s=new Int32Array(r);j.arraycopy(e,0,s,0,r);let a=new gt(this.field,s);a=a.multiplyByMonomial(n,1);const d=a.divide(o)[1].getCoefficients(),p=n-d.length;for(let E=0;E<p;E++)e[r+E]=0;j.arraycopy(d,0,e,r+p,d.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(e){return Rt.applyMaskPenaltyRule1Internal(e,!0)+Rt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),o=e.getWidth(),s=e.getHeight();for(let a=0;a<s-1;a++){const u=r[a];for(let d=0;d<o-1;d++){const p=u[d];p===u[d+1]&&p===r[a+1][d]&&p===r[a+1][d+1]&&n++}}return Rt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),o=e.getWidth(),s=e.getHeight();for(let a=0;a<s;a++)for(let u=0;u<o;u++){const d=r[a];u+6<o&&d[u]===1&&d[u+1]===0&&d[u+2]===1&&d[u+3]===1&&d[u+4]===1&&d[u+5]===0&&d[u+6]===1&&(Rt.isWhiteHorizontal(d,u-4,u)||Rt.isWhiteHorizontal(d,u+7,u+11))&&n++,a+6<s&&r[a][u]===1&&r[a+1][u]===0&&r[a+2][u]===1&&r[a+3][u]===1&&r[a+4][u]===1&&r[a+5][u]===0&&r[a+6][u]===1&&(Rt.isWhiteVertical(r,u,a-4,a)||Rt.isWhiteVertical(r,u,a+7,a+11))&&n++}return n*Rt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let o=n;o<r;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,n,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(let s=r;s<o;s++)if(e[s][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),o=e.getWidth(),s=e.getHeight();for(let d=0;d<s;d++){const p=r[d];for(let E=0;E<o;E++)p[E]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*Rt.N4}static getDataMaskBit(e,n,r){let o,s;switch(e){case 0:o=r+n&1;break;case 1:o=r&1;break;case 2:o=n%3;break;case 3:o=(r+n)%3;break;case 4:o=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:s=r*n,o=(s&1)+s%3;break;case 6:s=r*n,o=(s&1)+s%3&1;break;case 7:s=r*n,o=s%3+(r+n&1)&1;break;default:throw new k("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const o=n?e.getHeight():e.getWidth(),s=n?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<o;u++){let d=0,p=-1;for(let E=0;E<s;E++){const S=n?a[u][E]:a[E][u];S===p?d++:(d>=5&&(r+=Rt.N1+(d-5)),d=1,p=S)}d>=5&&(r+=Rt.N1+(d-5))}return r}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class go{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let o=0;o!==n;o++)r[o]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)oe.fill(n,e)}equals(e){if(!(e instanceof go))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,o=this.height;r<o;++r){const s=this.bytes[r],a=n.bytes[r];for(let u=0,d=this.width;u<d;++u)if(s[u]!==a[u])return!1}return!0}toString(){const e=new Ge;for(let n=0,r=this.height;n<r;++n){const o=this.bytes[n];for(let s=0,a=this.width;s<a;++s)switch(o[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Fr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ge;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Fr.NUM_MASK_PATTERNS}}Fr.NUM_MASK_PATTERNS=8;class Ct extends A{}Ct.kind="WriterException";class Ve{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,o,s){Ve.clearMatrix(s),Ve.embedBasicPatterns(r,s),Ve.embedTypeInfo(n,o,s),Ve.maybeEmbedVersionInfo(r,s),Ve.embedDataBits(e,o,s)}static embedBasicPatterns(e,n){Ve.embedPositionDetectionPatternsAndSeparators(n),Ve.embedDarkDotAtLeftBottomCorner(n),Ve.maybeEmbedPositionAdjustmentPatterns(e,n),Ve.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const o=new xe;Ve.makeTypeInfoBits(e,n,o);for(let s=0,a=o.getSize();s<a;++s){const u=o.get(o.getSize()-1-s),d=Ve.TYPE_INFO_COORDINATES[s],p=d[0],E=d[1];if(r.setBoolean(p,E,u),s<8){const S=r.getWidth()-s-1;r.setBoolean(S,8,u)}else{const T=r.getHeight()-7+(s-8);r.setBoolean(8,T,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new xe;Ve.makeVersionInfoBits(e,r);let o=17;for(let s=0;s<6;++s)for(let a=0;a<3;++a){const u=r.get(o);o--,n.setBoolean(s,n.getHeight()-11+a,u),n.setBoolean(n.getHeight()-11+a,s,u)}}static embedDataBits(e,n,r){let o=0,s=-1,a=r.getWidth()-1,u=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<r.getHeight();){for(let d=0;d<2;++d){const p=a-d;if(!Ve.isEmpty(r.get(p,u)))continue;let E;o<e.getSize()?(E=e.get(o),++o):E=!1,n!==255&&Rt.getDataMaskBit(n,p,u)&&(E=!E),r.setBoolean(p,u,E)}u+=s}s=-s,u+=s,a-=2}if(o!==e.getSize())throw new Ct("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-le.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new k("0 polynomial");const r=Ve.findMSBSet(n);for(e<<=r-1;Ve.findMSBSet(e)>=r;)e^=n<<Ve.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Fr.isValidMaskPattern(n))throw new Ct("Invalid mask pattern");const o=e.getBits()<<3|n;r.appendBits(o,5);const s=Ve.calculateBCHCode(o,Ve.TYPE_INFO_POLY);r.appendBits(s,10);const a=new xe;if(a.appendBits(Ve.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Ve.calculateBCHCode(e.getVersionNumber(),Ve.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Ct("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Ve.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Ve.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ct;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let o=0;o<8;++o){if(!Ve.isEmpty(r.get(e+o,n)))throw new Ct;r.setNumber(e+o,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let o=0;o<7;++o){if(!Ve.isEmpty(r.get(e,n+o)))throw new Ct;r.setNumber(e,n+o,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let o=0;o<5;++o){const s=Ve.POSITION_ADJUSTMENT_PATTERN[o];for(let a=0;a<5;++a)r.setNumber(e+a,n+o,s[a])}}static embedPositionDetectionPattern(e,n,r){for(let o=0;o<7;++o){const s=Ve.POSITION_DETECTION_PATTERN[o];for(let a=0;a<7;++a)r.setNumber(e+a,n+o,s[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ve.POSITION_DETECTION_PATTERN[0].length;Ve.embedPositionDetectionPattern(0,0,e),Ve.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ve.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Ve.embedHorizontalSeparationPattern(0,r-1,e),Ve.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ve.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const o=7;Ve.embedVerticalSeparationPattern(o,0,e),Ve.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),Ve.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,o=Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let s=0,a=o.length;s!==a;s++){const u=o[s];if(u>=0)for(let d=0;d!==a;d++){const p=o[d];p>=0&&Ve.isEmpty(n.get(p,u))&&Ve.embedPositionAdjustmentPattern(p-2,u-2,n)}}}}Ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ve.VERSION_INFO_POLY=7973,Ve.TYPE_INFO_POLY=1335,Ve.TYPE_INFO_MASK_PATTERN=21522;class tl{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vt{constructor(){}static calculateMaskPenalty(e){return Rt.applyMaskPenaltyRule1(e)+Rt.applyMaskPenaltyRule2(e)+Rt.applyMaskPenaltyRule3(e)+Rt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let o=vt.DEFAULT_BYTE_MODE_ENCODING;const s=r!==null&&r.get(Kt.CHARACTER_SET)!==void 0;s&&(o=r.get(Kt.CHARACTER_SET).toString());const a=this.chooseMode(e,o),u=new xe;if(a===Fe.BYTE&&(s||vt.DEFAULT_BYTE_MODE_ENCODING!==o)){const me=re.getCharacterSetECIByName(o);me!==void 0&&this.appendECI(me,u)}this.appendModeInfo(a,u);const d=new xe;this.appendBytes(e,a,d,o);let p;if(r!==null&&r.get(Kt.QR_VERSION)!==void 0){const me=Number.parseInt(r.get(Kt.QR_VERSION).toString(),10);p=Be.getVersionForNumber(me);const fe=this.calculateBitsNeeded(a,u,d,p);if(!this.willFit(fe,p,n))throw new Ct("Data too big for requested version")}else p=this.recommendVersion(n,a,u,d);const E=new xe;E.appendBitArray(u);const S=a===Fe.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(S,p,a,E),E.appendBitArray(d);const T=p.getECBlocksForLevel(n),O=p.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(O,E);const L=this.interleaveWithECBytes(E,p.getTotalCodewords(),O,T.getNumBlocks()),F=new Fr;F.setECLevel(n),F.setMode(a),F.setVersion(p);const V=p.getDimensionForVersion(),K=new go(V,V),pe=this.chooseMaskPattern(L,n,p,K);return F.setMaskPattern(pe),Ve.buildMatrix(L,n,p,pe,K),F.setMatrix(K),F}static recommendVersion(e,n,r,o){const s=this.calculateBitsNeeded(n,r,o,Be.getVersionForNumber(1)),a=this.chooseVersion(s,e),u=this.calculateBitsNeeded(n,r,o,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,o){return n.getSize()+e.getCharacterCountBits(o)+r.getSize()}static getAlphanumericCode(e){return e<vt.ALPHANUMERIC_TABLE.length?vt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(re.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Fe.KANJI;let r=!1,o=!1;for(let s=0,a=e.length;s<a;++s){const u=e.charAt(s);if(vt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)o=!0;else return Fe.BYTE}return o?Fe.ALPHANUMERIC:r?Fe.NUMERIC:Fe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=qe.encode(e,re.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let o=0;o<r;o+=2){const s=n[o]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,n,r,o){let s=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<Fr.NUM_MASK_PATTERNS;u++){Ve.buildMatrix(e,n,r,u,o);let d=this.calculateMaskPenalty(o);d<s&&(s=d,a=u)}return a}static chooseVersion(e,n){for(let r=1;r<=40;r++){const o=Be.getVersionForNumber(r);if(vt.willFit(e,o,n))return o}throw new Ct("Data too big")}static willFit(e,n,r){const o=n.getTotalCodewords(),a=n.getECBlocksForLevel(r).getTotalECCodewords(),u=o-a,d=(e+7)/8;return u>=d}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let a=0;a<4&&n.getSize()<r;++a)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let a=o;a<8;a++)n.appendBit(!1);const s=e-n.getSizeInBytes();for(let a=0;a<s;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==r)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,o,s,a){if(o>=r)throw new Ct("Block ID too large");const u=e%r,d=r-u,p=Math.floor(e/r),E=p+1,S=Math.floor(n/r),T=S+1,O=p-S,L=E-T;if(O!==L)throw new Ct("EC bytes mismatch");if(r!==d+u)throw new Ct("RS blocks mismatch");if(e!==(S+O)*d+(T+L)*u)throw new Ct("Total bytes mismatch");o<d?(s[0]=S,a[0]=O):(s[0]=T,a[0]=L)}static interleaveWithECBytes(e,n,r,o){if(e.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");let s=0,a=0,u=0;const d=new Array;for(let E=0;E<o;++E){const S=new Int32Array(1),T=new Int32Array(1);vt.getNumDataBytesAndNumECBytesForBlockID(n,r,o,E,S,T);const O=S[0],L=new Uint8Array(O);e.toBytes(8*s,L,0,O);const F=vt.generateECBytes(L,T[0]);d.push(new tl(L,F)),a=Math.max(a,O),u=Math.max(u,F.length),s+=S[0]}if(r!==s)throw new Ct("Data bytes does not match offset");const p=new xe;for(let E=0;E<a;++E)for(const S of d){const T=S.getDataBytes();E<T.length&&p.appendBits(T[E],8)}for(let E=0;E<u;++E)for(const S of d){const T=S.getErrorCorrectionBytes();E<T.length&&p.appendBits(T[E],8)}if(n!==p.getSizeInBytes())throw new Ct("Interleaving error: "+n+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,n){const r=e.length,o=new Int32Array(r+n);for(let a=0;a<r;a++)o[a]=e[a]&255;new $o(at.QR_CODE_FIELD_256).encode(o,n);const s=new Uint8Array(n);for(let a=0;a<n;a++)s[a]=o[r+a];return s}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,o){const s=r.getCharacterCountBits(n);if(e>=1<<s)throw new Ct(e+" is bigger than "+((1<<s)-1));o.appendBits(e,s)}static appendBytes(e,n,r,o){switch(n){case Fe.NUMERIC:vt.appendNumericBytes(e,r);break;case Fe.ALPHANUMERIC:vt.appendAlphanumericBytes(e,r);break;case Fe.BYTE:vt.append8BitBytes(e,r,o);break;case Fe.KANJI:vt.appendKanjiBytes(e,r);break;default:throw new Ct("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=vt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let o=0;for(;o<r;){const s=vt.getDigit(e.charAt(o));if(o+2<r){const a=vt.getDigit(e.charAt(o+1)),u=vt.getDigit(e.charAt(o+2));n.appendBits(s*100+a*10+u,10),o+=3}else if(o+1<r){const a=vt.getDigit(e.charAt(o+1));n.appendBits(s*10+a,7),o+=2}else n.appendBits(s,4),o++}}static appendAlphanumericBytes(e,n){const r=e.length;let o=0;for(;o<r;){const s=vt.getAlphanumericCode(e.charCodeAt(o));if(s===-1)throw new Ct;if(o+1<r){const a=vt.getAlphanumericCode(e.charCodeAt(o+1));if(a===-1)throw new Ct;n.appendBits(s*45+a,11),o+=2}else n.appendBits(s,6),o++}}static append8BitBytes(e,n,r){let o;try{o=qe.encode(e,r)}catch(s){throw new Ct(s)}for(let s=0,a=o.length;s!==a;s++){const u=o[s];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=qe.encode(e,re.SJIS)}catch(s){throw new Ct(s)}const o=r.length;for(let s=0;s<o;s+=2){const a=r[s]&255,u=r[s+1]&255,d=a<<8&4294967295|u;let p=-1;if(d>=33088&&d<=40956?p=d-33088:d>=57408&&d<=60351&&(p=d-49472),p===-1)throw new Ct("Invalid byte sequence");const E=(p>>8)*192+(p&255);n.appendBits(E,13)}}static appendECI(e,n){n.appendBits(Fe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vt.DEFAULT_BYTE_MODE_ENCODING=re.UTF8.getName();class Ur{write(e,n,r,o=null){if(e.length===0)throw new k("Found empty contents");if(n<0||r<0)throw new k("Requested dimensions are too small: "+n+"x"+r);let s=wt.L,a=Ur.QUIET_ZONE_SIZE;o!==null&&(o.get(Kt.ERROR_CORRECTION)!==void 0&&(s=wt.fromString(o.get(Kt.ERROR_CORRECTION).toString())),o.get(Kt.MARGIN)!==void 0&&(a=Number.parseInt(o.get(Kt.MARGIN).toString(),10)));const u=vt.encode(e,s,o);return this.renderResult(u,n,r,a)}writeToDom(e,n,r,o,s=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,r,o,s);e&&e.appendChild(a)}renderResult(e,n,r,o){const s=e.getMatrix();if(s===null)throw new Hn;const a=s.getWidth(),u=s.getHeight(),d=a+o*2,p=u+o*2,E=Math.max(n,d),S=Math.max(r,p),T=Math.min(Math.floor(E/d),Math.floor(S/p)),O=Math.floor((E-a*T)/2),L=Math.floor((S-u*T)/2),F=this.createSVGElement(E,S);for(let V=0,K=L;V<u;V++,K+=T)for(let pe=0,me=O;pe<a;pe++,me+=T)if(s.get(pe,V)===1){const fe=this.createSvgRectElement(me,K,T,T);F.appendChild(fe)}return F}createSVGElement(e,n){const r=document.createElementNS(Ur.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,o){const s=document.createElementNS(Ur.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",o.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Ur.QUIET_ZONE_SIZE=4,Ur.SVG_NS="http://www.w3.org/2000/svg";class ci{encode(e,n,r,o,s){if(e.length===0)throw new k("Found empty contents");if(n!==ee.QR_CODE)throw new k("Can only encode QR_CODE, but got "+n);if(r<0||o<0)throw new k(`Requested dimensions are too small: ${r}x${o}`);let a=wt.L,u=ci.QUIET_ZONE_SIZE;s!==null&&(s.get(Kt.ERROR_CORRECTION)!==void 0&&(a=wt.fromString(s.get(Kt.ERROR_CORRECTION).toString())),s.get(Kt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(Kt.MARGIN).toString(),10)));const d=vt.encode(e,a,s);return ci.renderResult(d,r,o,u)}static renderResult(e,n,r,o){const s=e.getMatrix();if(s===null)throw new Hn;const a=s.getWidth(),u=s.getHeight(),d=a+o*2,p=u+o*2,E=Math.max(n,d),S=Math.max(r,p),T=Math.min(Math.floor(E/d),Math.floor(S/p)),O=Math.floor((E-a*T)/2),L=Math.floor((S-u*T)/2),F=new ct(E,S);for(let V=0,K=L;V<u;V++,K+=T)for(let pe=0,me=O;pe<a;pe++,me+=T)s.get(pe,V)===1&&F.setRegion(me,K,T,T);return F}}ci.QUIET_ZONE_SIZE=4;class nl{encode(e,n,r,o,s){let a;switch(n){case ee.QR_CODE:a=new ci;break;default:throw new k("No encoder available for format "+n)}return a.encode(e,n,r,o,s)}}class or extends Ee{constructor(e,n,r,o,s,a,u,d){if(super(a,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=o,this.top=s,o+a>n||s+u>r)throw new k("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(a,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new k("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const o=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,o,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,o=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,s,o,0,r),o;for(let a=0;a<n;a++){const u=a*e;j.arraycopy(this.yuvData,s,o,u,e),s+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,r,o){return new or(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,o,!1)}renderThumbnail(){const e=this.getWidth()/or.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/or.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),o=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const u=a*e;for(let d=0;d<e;d++){const p=o[s+d*or.THUMBNAIL_SCALE_FACTOR]&255;r[u+d]=4278190080|p*65793}s+=this.dataWidth*or.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/or.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/or.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let o=0,s=this.top*this.dataWidth+this.left;o<n;o++,s+=this.dataWidth){const a=s+e/2;for(let u=s,d=s+e-1;u<a;u++,d--){const p=r[u];r[u]=r[d],r[d]=p}}}invert(){return new Z(this)}}or.THUMBNAIL_SCALE_FACTOR=2;class Vi extends Ee{constructor(e,n,r,o,s,a,u){if(super(n,r),this.dataWidth=o,this.dataHeight=s,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const d=n*r,p=new Uint8ClampedArray(d);for(let E=0;E<d;E++){const S=e[E],T=S>>16&255,O=S>>7&510,L=S&255;p[E]=(T+O+L)/4&255}this.luminances=p}else this.luminances=e;if(o===void 0&&(this.dataWidth=n),s===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new k("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new k("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const o=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,o,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,o=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,s,o,0,r),o;for(let a=0;a<n;a++){const u=a*e;j.arraycopy(this.luminances,s,o,u,e),s+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,r,o){return new Vi(this.luminances,r,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Z(this)}}class Gs extends re{static forName(e){return this.getCharacterSetECIByName(e)}}class es{}es.ISO_8859_1=re.ISO8859_1;class Xs{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ts{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class rl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class fi extends rl{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new fi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+le.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ns extends fi{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new ns(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function il(v,e,n){return new ns(v,e,n)}function Hi(v,e,n){return new fi(v,e,n)}const ol=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Nr=0,di=1,cn=2,js=3,Kn=4,Ys=new fi(null,0,0),po=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ks(v){for(let e of v)oe.fill(e,-1);return v[Nr][Kn]=0,v[di][Kn]=0,v[di][Nr]=28,v[js][Kn]=0,v[cn][Kn]=0,v[cn][Nr]=15,v}const rs=Ks(oe.createInt32Array(6,6));class xn{constructor(e,n,r,o){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,o=this.token;if(e!==this.mode){let a=po[this.mode][e];o=Hi(o,a&65535,a>>16),r+=a>>16}let s=e===cn?4:5;return o=Hi(o,n,s),new xn(o,e,0,r+s)}shiftAndAppend(e,n){let r=this.token,o=this.mode===cn?4:5;return r=Hi(r,rs[this.mode][e],o),r=Hi(r,n,5),new xn(r,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,o=this.bitCount;if(this.mode===Kn||this.mode===cn){let u=po[r][Nr];n=Hi(n,u&65535,u>>16),o+=u>>16,r=Nr}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new xn(n,r,this.binaryShiftByteCount+1,o+s);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=il(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new xn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(po[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=xn.calculateBinaryShiftCost(e)-xn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())n.unshift(o);let r=new xe;for(const o of n)o.appendTo(r,e);return r}toString(){return Pe.format("%s bits=%d bytes=%d",ol[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}xn.INITIAL_STATE=new xn(Ys,Nr,0,0);function sl(v){const e=Pe.getCharCode(" "),n=Pe.getCharCode("."),r=Pe.getCharCode(",");v[Nr][e]=1;const o=Pe.getCharCode("Z"),s=Pe.getCharCode("A");for(let T=s;T<=o;T++)v[Nr][T]=T-s+2;v[di][e]=1;const a=Pe.getCharCode("z"),u=Pe.getCharCode("a");for(let T=u;T<=a;T++)v[di][T]=T-u+2;v[cn][e]=1;const d=Pe.getCharCode("9"),p=Pe.getCharCode("0");for(let T=p;T<=d;T++)v[cn][T]=T-p+2;v[cn][r]=12,v[cn][n]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<E.length;T++)v[js][Pe.getCharCode(E[T])]=T;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<S.length;T++)Pe.getCharCode(S[T])>0&&(v[Kn][Pe.getCharCode(S[T])]=T);return v}const is=sl(oe.createInt32Array(5,256));class zi{constructor(e){this.text=e}encode(){const e=Pe.getCharCode(" "),n=Pe.getCharCode(`
`);let r=ts.singletonList(xn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let a,u=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case Pe.getCharCode("\r"):a=u===n?2:0;break;case Pe.getCharCode("."):a=u===e?3:0;break;case Pe.getCharCode(","):a=u===e?4:0;break;case Pe.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(r=zi.updateStateListForPair(r,s,a),s++):r=this.updateStateListForChar(r,s)}return ts.min(r,(s,a)=>s.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let o of e)this.updateStateForChar(o,n,r);return zi.simplifyStates(r)}updateStateForChar(e,n,r){let o=this.text[n]&255,s=is[e.getMode()][o]>0,a=null;for(let u=0;u<=Kn;u++){let d=is[u][o];if(d>0){if(a==null&&(a=e.endBinaryShift(n)),!s||u===e.getMode()||u===cn){const p=a.latchAndAppend(u,d);r.push(p)}if(!s&&rs[e.getMode()][u]>=0){const p=a.shiftAndAppend(u,d);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||is[e.getMode()][o]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const o=[];for(let s of e)this.updateStateForPair(s,n,r,o);return this.simplifyStates(o)}static updateStateForPair(e,n,r,o){let s=e.endBinaryShift(n);if(o.push(s.latchAndAppend(Kn,r)),e.getMode()!==Kn&&o.push(s.shiftAndAppend(Kn,r)),r===3||r===4){let a=s.latchAndAppend(cn,16-r).latchAndAppend(cn,1);o.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(a)}}static simplifyStates(e){let n=[];for(const r of e){let o=!0;for(const s of n){if(s.isBetterThanOrEqualTo(r)){o=!1;break}r.isBetterThanOrEqualTo(s)&&(n=n.filter(a=>a!==s))}o&&n.push(r)}return n}}class lt{constructor(){}static encodeBytes(e){return lt.encode(e,lt.DEFAULT_EC_PERCENT,lt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let o=new zi(e).encode(),s=le.truncDivision(o.getSize()*n,100)+11,a=o.getSize()+s,u,d,p,E,S;if(r!==lt.DEFAULT_AZTEC_LAYERS){if(u=r<0,d=Math.abs(r),d>(u?lt.MAX_NB_BITS_COMPACT:lt.MAX_NB_BITS))throw new k(Pe.format("Illegal value %s for layers",r));p=lt.totalBitsInLayer(d,u),E=lt.WORD_SIZE[d];let fe=p-p%E;if(S=lt.stuffBits(o,E),S.getSize()+s>fe)throw new k("Data to large for user specified layer");if(u&&S.getSize()>E*64)throw new k("Data to large for user specified layer")}else{E=0,S=null;for(let fe=0;;fe++){if(fe>lt.MAX_NB_BITS)throw new k("Data too large for an Aztec code");if(u=fe<=3,d=u?fe+1:fe,p=lt.totalBitsInLayer(d,u),a>p)continue;(S==null||E!==lt.WORD_SIZE[d])&&(E=lt.WORD_SIZE[d],S=lt.stuffBits(o,E));let et=p-p%E;if(!(u&&S.getSize()>E*64)&&S.getSize()+s<=et)break}}let T=lt.generateCheckWords(S,p,E),O=S.getSize()/E,L=lt.generateModeMessage(u,d,O),F=(u?11:14)+d*4,V=new Int32Array(F),K;if(u){K=F;for(let fe=0;fe<V.length;fe++)V[fe]=fe}else{K=F+1+2*le.truncDivision(le.truncDivision(F,2)-1,15);let fe=le.truncDivision(F,2),et=le.truncDivision(K,2);for(let Ke=0;Ke<fe;Ke++){let vn=Ke+le.truncDivision(Ke,15);V[fe-Ke-1]=et-vn-1,V[fe+Ke]=et+vn+1}}let pe=new ct(K);for(let fe=0,et=0;fe<d;fe++){let Ke=(d-fe)*4+(u?9:12);for(let vn=0;vn<Ke;vn++){let Zn=vn*2;for(let Zt=0;Zt<2;Zt++)T.get(et+Zn+Zt)&&pe.set(V[fe*2+Zt],V[fe*2+vn]),T.get(et+Ke*2+Zn+Zt)&&pe.set(V[fe*2+vn],V[F-1-fe*2-Zt]),T.get(et+Ke*4+Zn+Zt)&&pe.set(V[F-1-fe*2-Zt],V[F-1-fe*2-vn]),T.get(et+Ke*6+Zn+Zt)&&pe.set(V[F-1-fe*2-vn],V[fe*2+Zt])}et+=Ke*8}if(lt.drawModeMessage(pe,u,K,L),u)lt.drawBullsEye(pe,le.truncDivision(K,2),5);else{lt.drawBullsEye(pe,le.truncDivision(K,2),7);for(let fe=0,et=0;fe<le.truncDivision(F,2)-1;fe+=15,et+=16)for(let Ke=le.truncDivision(K,2)&1;Ke<K;Ke+=2)pe.set(le.truncDivision(K,2)-et,Ke),pe.set(le.truncDivision(K,2)+et,Ke),pe.set(Ke,le.truncDivision(K,2)-et),pe.set(Ke,le.truncDivision(K,2)+et)}let me=new Xs;return me.setCompact(u),me.setSize(K),me.setLayers(d),me.setCodeWords(O),me.setMatrix(pe),me}static drawBullsEye(e,n,r){for(let o=0;o<r;o+=2)for(let s=n-o;s<=n+o;s++)e.set(s,n-o),e.set(s,n+o),e.set(n-o,s),e.set(n+o,s);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let o=new xe;return e?(o.appendBits(n-1,2),o.appendBits(r-1,6),o=lt.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(r-1,11),o=lt.generateCheckWords(o,40,4)),o}static drawModeMessage(e,n,r,o){let s=le.truncDivision(r,2);if(n)for(let a=0;a<7;a++){let u=s-3+a;o.get(a)&&e.set(u,s-5),o.get(a+7)&&e.set(s+5,u),o.get(20-a)&&e.set(u,s+5),o.get(27-a)&&e.set(s-5,u)}else for(let a=0;a<10;a++){let u=s-5+a+le.truncDivision(a,5);o.get(a)&&e.set(u,s-7),o.get(a+10)&&e.set(s+7,u),o.get(29-a)&&e.set(u,s+7),o.get(39-a)&&e.set(s-7,u)}}static generateCheckWords(e,n,r){let o=e.getSize()/r,s=new $o(lt.getGF(r)),a=le.truncDivision(n,r),u=lt.bitsToWords(e,r,a);s.encode(u,a-o);let d=n%r,p=new xe;p.appendBits(0,d);for(const E of Array.from(u))p.appendBits(E,r);return p}static bitsToWords(e,n,r){let o=new Int32Array(r),s,a;for(s=0,a=e.getSize()/n;s<a;s++){let u=0;for(let d=0;d<n;d++)u|=e.get(s*n+d)?1<<n-d-1:0;o[s]=u}return o}static getGF(e){switch(e){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new k("Unsupported word size "+e)}}static stuffBits(e,n){let r=new xe,o=e.getSize(),s=(1<<n)-2;for(let a=0;a<o;a+=n){let u=0;for(let d=0;d<n;d++)(a+d>=o||e.get(a+d))&&(u|=1<<n-1-d);(u&s)===s?(r.appendBits(u&s,n),a--):(u&s)===0?(r.appendBits(u|1,n),a--):r.appendBits(u,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}lt.DEFAULT_EC_PERCENT=33,lt.DEFAULT_AZTEC_LAYERS=0,lt.MAX_NB_BITS=32,lt.MAX_NB_BITS_COMPACT=4,lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wi{encode(e,n,r,o){return this.encodeWithHints(e,n,r,o,null)}encodeWithHints(e,n,r,o,s){let a=es.ISO_8859_1,u=lt.DEFAULT_EC_PERCENT,d=lt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(Kt.CHARACTER_SET)&&(a=Gs.forName(s.get(Kt.CHARACTER_SET).toString())),s.has(Kt.ERROR_CORRECTION)&&(u=le.parseInt(s.get(Kt.ERROR_CORRECTION).toString())),s.has(Kt.AZTEC_LAYERS)&&(d=le.parseInt(s.get(Kt.AZTEC_LAYERS).toString()))),Wi.encodeLayers(e,n,r,o,a,u,d)}static encodeLayers(e,n,r,o,s,a,u){if(n!==ee.AZTEC)throw new k("Can only encode AZTEC, but got "+n);let d=lt.encode(Pe.getBytes(e,s),a,u);return Wi.renderResult(d,r,o)}static renderResult(e,n,r){let o=e.getMatrix();if(o==null)throw new Hn;let s=o.getWidth(),a=o.getHeight(),u=Math.max(n,s),d=Math.max(r,a),p=Math.min(u/s,d/a),E=(u-s*p)/2,S=(d-a*p)/2,T=new ct(u,d);for(let O=0,L=S;O<a;O++,L+=p)for(let F=0,V=E;F<s;F++,V+=p)o.get(F,O)&&T.setRegion(V,L,p,p);return T}}c.AbstractExpandedDecoder=Wo,c.ArgumentException=P,c.ArithmeticException=Oi,c.AztecCode=Xs,c.AztecCodeReader=Sr,c.AztecCodeWriter=Wi,c.AztecDecoder=Et,c.AztecDetector=ni,c.AztecDetectorResult=Fo,c.AztecEncoder=lt,c.AztecHighLevelEncoder=zi,c.AztecPoint=ln,c.BarcodeFormat=ee,c.Binarizer=ne,c.BinaryBitmap=Y,c.BitArray=xe,c.BitMatrix=ct,c.BitSource=jo,c.BrowserAztecCodeReader=$a,c.BrowserBarcodeReader=Bs,c.BrowserCodeReader=he,c.BrowserDatamatrixCodeReader=el,c.BrowserMultiFormatReader=Ui,c.BrowserPDF417Reader=ho,c.BrowserQRCodeReader=Ws,c.BrowserQRCodeSvgWriter=Ur,c.CharacterSetECI=re,c.ChecksumException=J,c.Code128Reader=Ce,c.Code39Reader=jt,c.DataMatrixDecodedBitStreamParser=Xn,c.DataMatrixReader=jn,c.DecodeHintType=Me,c.DecoderResult=je,c.DefaultGridSampler=io,c.DetectorResult=ti,c.EAN13Reader=bn,c.EncodeHintType=Kt,c.Exception=A,c.FormatException=se,c.GenericGF=at,c.GenericGFPoly=gt,c.GlobalHistogramBinarizer=$e,c.GridSampler=ro,c.GridSamplerInstance=zn,c.HTMLCanvasElementLuminanceSource=H,c.HybridBinarizer=Te,c.ITFReader=pt,c.IllegalArgumentException=k,c.IllegalStateException=Hn,c.InvertedLuminanceSource=Z,c.LuminanceSource=Ee,c.MathUtils=it,c.MultiFormatOneDReader=ii,c.MultiFormatReader=fo,c.MultiFormatWriter=nl,c.NotFoundException=$,c.OneDReader=Bt,c.PDF417DecodedBitStreamParser=q,c.PDF417DecoderErrorCorrection=Zo,c.PDF417Reader=rn,c.PDF417ResultMetadata=uo,c.PerspectiveTransform=Dn,c.PlanarYUVLuminanceSource=or,c.QRCodeByteMatrix=go,c.QRCodeDataMask=Je,c.QRCodeDecodedBitStreamParser=Nt,c.QRCodeDecoderErrorCorrectionLevel=wt,c.QRCodeDecoderFormatInformation=en,c.QRCodeEncoder=vt,c.QRCodeEncoderQRCode=Fr,c.QRCodeMaskUtil=Rt,c.QRCodeMatrixUtil=Ve,c.QRCodeMode=Fe,c.QRCodeReader=pn,c.QRCodeVersion=Be,c.QRCodeWriter=ci,c.RGBLuminanceSource=Vi,c.RSS14Reader=St,c.RSSExpandedReader=ue,c.ReaderException=ui,c.ReedSolomonDecoder=ei,c.ReedSolomonEncoder=$o,c.ReedSolomonException=Ar,c.Result=ye,c.ResultMetadataType=Ae,c.ResultPoint=Ne,c.StringUtils=Pe,c.UnsupportedOperationException=yt,c.VideoInputDevice=b,c.WhiteRectangleDetector=er,c.WriterException=Ct,c.ZXingArrays=oe,c.ZXingCharset=Gs,c.ZXingInteger=le,c.ZXingStandardCharsets=es,c.ZXingStringBuilder=Ge,c.ZXingStringEncoding=qe,c.ZXingSystem=j,c.createAbstractExpandedDecoder=Ps,Object.defineProperty(c,"__esModule",{value:!0})})}(Ns,Ns.exports)),Ns.exports}var Mt=ng();const rg=Za(Mt),ig=cd({__proto__:null,default:rg},[Mt]);var y0=function(){function h(g,c,C){if(this.formatMap=new Map([[Oe.QR_CODE,Mt.BarcodeFormat.QR_CODE],[Oe.AZTEC,Mt.BarcodeFormat.AZTEC],[Oe.CODABAR,Mt.BarcodeFormat.CODABAR],[Oe.CODE_39,Mt.BarcodeFormat.CODE_39],[Oe.CODE_93,Mt.BarcodeFormat.CODE_93],[Oe.CODE_128,Mt.BarcodeFormat.CODE_128],[Oe.DATA_MATRIX,Mt.BarcodeFormat.DATA_MATRIX],[Oe.MAXICODE,Mt.BarcodeFormat.MAXICODE],[Oe.ITF,Mt.BarcodeFormat.ITF],[Oe.EAN_13,Mt.BarcodeFormat.EAN_13],[Oe.EAN_8,Mt.BarcodeFormat.EAN_8],[Oe.PDF_417,Mt.BarcodeFormat.PDF_417],[Oe.RSS_14,Mt.BarcodeFormat.RSS_14],[Oe.RSS_EXPANDED,Mt.BarcodeFormat.RSS_EXPANDED],[Oe.UPC_A,Mt.BarcodeFormat.UPC_A],[Oe.UPC_E,Mt.BarcodeFormat.UPC_E],[Oe.UPC_EAN_EXTENSION,Mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ig)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=c,this.logger=C;var w=this.createZXingFormats(g),m=new Map;m.set(Mt.DecodeHintType.POSSIBLE_FORMATS,w),m.set(Mt.DecodeHintType.TRY_HARDER,!1),this.hints=m}return h.prototype.decodeAsync=function(g){var c=this;return new Promise(function(C,w){try{C(c.decode(g))}catch(m){w(m)}})},h.prototype.decode=function(g){var c=new Mt.MultiFormatReader(this.verbose,this.hints),C=new Mt.HTMLCanvasElementLuminanceSource(g),w=new Mt.BinaryBitmap(new Mt.HybridBinarizer(C)),m=c.decode(w);return{text:m.text,format:hf.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(c,C,w){g.set(c,C)}),g},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createZXingFormats=function(g){for(var c=[],C=0,w=g;C<w.length;C++){var m=w[C];this.formatMap.has(m)?c.push(this.formatMap.get(m)):this.logger.logError("".concat(m," is not supported by")+"ZXingHtml5QrcodeShim")}return c},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h}(),og=function(h,g,c,C){function w(m){return m instanceof c?m:new c(function(_){_(m)})}return new(c||(c=Promise))(function(m,_){function D(P){try{A(C.next(P))}catch(k){_(k)}}function N(P){try{A(C.throw(P))}catch(k){_(k)}}function A(P){P.done?m(P.value):w(P.value).then(D,N)}A((C=C.apply(h,g||[])).next())})},sg=function(h,g){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},C,w,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(A){return function(P){return N([A,P])}}function N(A){if(C)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(c=0)),c;)try{if(C=1,w&&(m=A[0]&2?w.return:A[0]?w.throw||((m=w.return)&&m.call(w),0):w.next)&&!(m=m.call(w,A[1])).done)return m;switch(w=0,m&&(A=[A[0]&2,m.value]),A[0]){case 0:case 1:m=A;break;case 4:return c.label++,{value:A[1],done:!1};case 5:c.label++,w=A[1],A=[0];continue;case 7:A=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(A[0]===6||A[0]===2)){c=0;continue}if(A[0]===3&&(!m||A[1]>m[0]&&A[1]<m[3])){c.label=A[1];break}if(A[0]===6&&c.label<m[1]){c.label=m[1],m=A;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(A);break}m[2]&&c.ops.pop(),c.trys.pop();continue}A=g.call(h,c)}catch(P){A=[6,P],w=0}finally{C=m=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},E0=function(){function h(g,c,C){if(this.formatMap=new Map([[Oe.QR_CODE,"qr_code"],[Oe.AZTEC,"aztec"],[Oe.CODABAR,"codabar"],[Oe.CODE_39,"code_39"],[Oe.CODE_93,"code_93"],[Oe.CODE_128,"code_128"],[Oe.DATA_MATRIX,"data_matrix"],[Oe.ITF,"itf"],[Oe.EAN_13,"ean_13"],[Oe.EAN_8,"ean_8"],[Oe.PDF_417,"pdf417"],[Oe.UPC_A,"upc_a"],[Oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=c,this.logger=C;var w=this.createBarcodeDetectorFormats(g);if(this.detector=new BarcodeDetector(w),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var g=new BarcodeDetector({formats:["qr_code"]});return typeof g<"u"},h.prototype.decodeAsync=function(g){return og(this,void 0,void 0,function(){var c,C;return sg(this,function(w){switch(w.label){case 0:return[4,this.detector.detect(g)];case 1:if(c=w.sent(),!c||c.length===0)throw"No barcode or QR code detected.";return C=this.selectLargestBarcode(c),[2,{text:C.rawValue,format:hf.create(this.toHtml5QrcodeSupportedFormats(C.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(g){for(var c=null,C=0,w=0,m=g;w<m.length;w++){var _=m[w],D=_.boundingBox.width*_.boundingBox.height;D>C&&(C=D,c=_)}if(!c)throw"No largest barcode found";return c},h.prototype.createBarcodeDetectorFormats=function(g){for(var c=[],C=0,w=g;C<w.length;C++){var m=w[C];this.formatMap.has(m)?c.push(this.formatMap.get(m)):this.logger.warn("".concat(m," is not supported by")+"BarcodeDetectorDelegate")}return{formats:c}},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(c,C,w){g.set(c,C)}),g},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h}(),C0=function(h,g,c,C){function w(m){return m instanceof c?m:new c(function(_){_(m)})}return new(c||(c=Promise))(function(m,_){function D(P){try{A(C.next(P))}catch(k){_(k)}}function N(P){try{A(C.throw(P))}catch(k){_(k)}}function A(P){P.done?m(P.value):w(P.value).then(D,N)}A((C=C.apply(h,g||[])).next())})},A0=function(h,g){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},C,w,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(A){return function(P){return N([A,P])}}function N(A){if(C)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(c=0)),c;)try{if(C=1,w&&(m=A[0]&2?w.return:A[0]?w.throw||((m=w.return)&&m.call(w),0):w.next)&&!(m=m.call(w,A[1])).done)return m;switch(w=0,m&&(A=[A[0]&2,m.value]),A[0]){case 0:case 1:m=A;break;case 4:return c.label++,{value:A[1],done:!1};case 5:c.label++,w=A[1],A=[0];continue;case 7:A=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(A[0]===6||A[0]===2)){c=0;continue}if(A[0]===3&&(!m||A[1]>m[0]&&A[1]<m[3])){c.label=A[1];break}if(A[0]===6&&c.label<m[1]){c.label=m[1],m=A;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(A);break}m[2]&&c.ops.pop(),c.trys.pop();continue}A=g.call(h,c)}catch(P){A=[6,P],w=0}finally{C=m=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},ag=function(){function h(g,c,C,w){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=C,c&&E0.isSupported()?(this.primaryDecoder=new E0(g,C,w),this.secondaryDecoder=new y0(g,C,w)):this.primaryDecoder=new y0(g,C,w)}return h.prototype.decodeAsync=function(g){return C0(this,void 0,void 0,function(){var c;return A0(this,function(C){switch(C.label){case 0:c=performance.now(),C.label=1;case 1:return C.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(g)];case 2:return[2,C.sent()];case 3:return this.possiblyLogPerformance(c),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(g){return C0(this,void 0,void 0,function(){var c,C;return A0(this,function(w){switch(w.label){case 0:c=performance.now(),w.label=1;case 1:return w.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(g)];case 2:return[2,w.sent()];case 3:if(C=w.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(g)];throw C;case 4:return this.possiblyLogPerformance(c),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(g){if(this.verbose){var c=performance.now()-g;this.executionResults.push(c),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var g=0,c=0,C=this.executionResults;c<C.length;c++){var w=C[c];g+=w}var m=g/this.executionResults.length;console.log("".concat(m," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h}(),ic=function(){var h=function(g,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var m in w)Object.prototype.hasOwnProperty.call(w,m)&&(C[m]=w[m])},h(g,c)};return function(g,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");h(g,c);function C(){this.constructor=g}g.prototype=c===null?Object.create(c):(C.prototype=c.prototype,new C)}}(),Ya=function(h,g,c,C){function w(m){return m instanceof c?m:new c(function(_){_(m)})}return new(c||(c=Promise))(function(m,_){function D(P){try{A(C.next(P))}catch(k){_(k)}}function N(P){try{A(C.throw(P))}catch(k){_(k)}}function A(P){P.done?m(P.value):w(P.value).then(D,N)}A((C=C.apply(h,g||[])).next())})},Ka=function(h,g){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},C,w,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(A){return function(P){return N([A,P])}}function N(A){if(C)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(c=0)),c;)try{if(C=1,w&&(m=A[0]&2?w.return:A[0]?w.throw||((m=w.return)&&m.call(w),0):w.next)&&!(m=m.call(w,A[1])).done)return m;switch(w=0,m&&(A=[A[0]&2,m.value]),A[0]){case 0:case 1:m=A;break;case 4:return c.label++,{value:A[1],done:!1};case 5:c.label++,w=A[1],A=[0];continue;case 7:A=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(A[0]===6||A[0]===2)){c=0;continue}if(A[0]===3&&(!m||A[1]>m[0]&&A[1]<m[3])){c.label=A[1];break}if(A[0]===6&&c.label<m[1]){c.label=m[1],m=A;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(A);break}m[2]&&c.ops.pop(),c.trys.pop();continue}A=g.call(h,c)}catch(P){A=[6,P],w=0}finally{C=m=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},pf=function(){function h(g,c){this.name=g,this.track=c}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(g){var c={};c[this.name]=g;var C={advanced:[c]};return this.track.applyConstraints(C)},h.prototype.value=function(){var g=this.track.getSettings();if(this.name in g){var c=g[this.name];return c}return null},h}(),lg=function(h){ic(g,h);function g(c,C){return h.call(this,c,C)||this}return g.prototype.min=function(){return this.getCapabilities().min},g.prototype.max=function(){return this.getCapabilities().max},g.prototype.step=function(){return this.getCapabilities().step},g.prototype.apply=function(c){var C={};C[this.name]=c;var w={advanced:[C]};return this.track.applyConstraints(w)},g.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),C=c[this.name];return{min:C.min,max:C.max,step:C.step}},g.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},g}(pf),ug=function(h){ic(g,h);function g(c){return h.call(this,"zoom",c)||this}return g}(lg),cg=function(h){ic(g,h);function g(c){return h.call(this,"torch",c)||this}return g}(pf),fg=function(){function h(g){this.track=g}return h.prototype.zoomFeature=function(){return new ug(this.track)},h.prototype.torchFeature=function(){return new cg(this.track)},h}(),dg=function(){function h(g,c,C){this.isClosed=!1,this.parentElement=g,this.mediaStream=c,this.callbacks=C,this.surface=this.createVideoElement(this.parentElement.clientWidth),g.append(this.surface)}return h.prototype.createVideoElement=function(g){var c=document.createElement("video");return c.style.width="".concat(g,"px"),c.style.display="block",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,c},h.prototype.setupSurface=function(){var g=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var c=function(){var C=g.surface.clientWidth,w=g.surface.clientHeight;g.callbacks.onRenderSurfaceReady(C,w),g.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(g,c,C,w){return Ya(this,void 0,void 0,function(){var m,_;return Ka(this,function(D){switch(D.label){case 0:return m=new h(g,c,w),C.aspectRatio?(_={aspectRatio:C.aspectRatio},[4,m.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:D.sent(),D.label=2;case 2:return m.setupSurface(),[2,m]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(g){this.failIfClosed();var c=this,C=function(){setTimeout(g,200),c.surface.removeEventListener("playing",C)};this.surface.addEventListener("playing",C),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(g){return Ya(this,void 0,void 0,function(){return Ka(this,function(c){if("aspectRatio"in g)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(g)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var g=this;return new Promise(function(c,C){var w=g.mediaStream.getVideoTracks(),m=w.length,_=0;g.mediaStream.getVideoTracks().forEach(function(D){g.mediaStream.removeTrack(D),D.stop(),++_,_>=m&&(g.isClosed=!0,g.parentElement.removeChild(g.surface),c())})})},h.prototype.getCapabilities=function(){return new fg(this.getFirstTrackOrFail())},h}(),hg=function(){function h(g){this.mediaStream=g}return h.prototype.render=function(g,c,C){return Ya(this,void 0,void 0,function(){return Ka(this,function(w){return[2,dg.create(g,this.mediaStream,c,C)]})})},h.create=function(g){return Ya(this,void 0,void 0,function(){var c,C;return Ka(this,function(w){switch(w.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return c={audio:!1,video:g},[4,navigator.mediaDevices.getUserMedia(c)];case 1:return C=w.sent(),[2,new h(C)]}})})},h}(),v0=function(h,g,c,C){function w(m){return m instanceof c?m:new c(function(_){_(m)})}return new(c||(c=Promise))(function(m,_){function D(P){try{A(C.next(P))}catch(k){_(k)}}function N(P){try{A(C.throw(P))}catch(k){_(k)}}function A(P){P.done?m(P.value):w(P.value).then(D,N)}A((C=C.apply(h,g||[])).next())})},S0=function(h,g){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},C,w,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(A){return function(P){return N([A,P])}}function N(A){if(C)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(c=0)),c;)try{if(C=1,w&&(m=A[0]&2?w.return:A[0]?w.throw||((m=w.return)&&m.call(w),0):w.next)&&!(m=m.call(w,A[1])).done)return m;switch(w=0,m&&(A=[A[0]&2,m.value]),A[0]){case 0:case 1:m=A;break;case 4:return c.label++,{value:A[1],done:!1};case 5:c.label++,w=A[1],A=[0];continue;case 7:A=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(A[0]===6||A[0]===2)){c=0;continue}if(A[0]===3&&(!m||A[1]>m[0]&&A[1]<m[3])){c.label=A[1];break}if(A[0]===6&&c.label<m[1]){c.label=m[1],m=A;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(A);break}m[2]&&c.ops.pop(),c.trys.pop();continue}A=g.call(h,c)}catch(P){A=[6,P],w=0}finally{C=m=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},gg=function(){function h(){}return h.failIfNotSupported=function(){return v0(this,void 0,void 0,function(){return S0(this,function(g){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(g){return v0(this,void 0,void 0,function(){return S0(this,function(c){return[2,hg.create(g)]})})},h}(),pg=function(h,g,c,C){function w(m){return m instanceof c?m:new c(function(_){_(m)})}return new(c||(c=Promise))(function(m,_){function D(P){try{A(C.next(P))}catch(k){_(k)}}function N(P){try{A(C.throw(P))}catch(k){_(k)}}function A(P){P.done?m(P.value):w(P.value).then(D,N)}A((C=C.apply(h,g||[])).next())})},xg=function(h,g){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},C,w,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(A){return function(P){return N([A,P])}}function N(A){if(C)throw new TypeError("Generator is already executing.");for(;_&&(_=0,A[0]&&(c=0)),c;)try{if(C=1,w&&(m=A[0]&2?w.return:A[0]?w.throw||((m=w.return)&&m.call(w),0):w.next)&&!(m=m.call(w,A[1])).done)return m;switch(w=0,m&&(A=[A[0]&2,m.value]),A[0]){case 0:case 1:m=A;break;case 4:return c.label++,{value:A[1],done:!1};case 5:c.label++,w=A[1],A=[0];continue;case 7:A=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(A[0]===6||A[0]===2)){c=0;continue}if(A[0]===3&&(!m||A[1]>m[0]&&A[1]<m[3])){c.label=A[1];break}if(A[0]===6&&c.label<m[1]){c.label=m[1],m=A;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(A);break}m[2]&&c.ops.pop(),c.trys.pop();continue}A=g.call(h,c)}catch(P){A=[6,P],w=0}finally{C=m=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},mg=function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var g=MediaStreamTrack;return MediaStreamTrack&&g.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var g=Lo.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(g=Lo.insecureContextCameraQueryError()),Promise.reject(g)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var g=location.host.split(":")[0];return g==="127.0.0.1"||g==="localhost"},h.getCamerasFromMediaDevices=function(){return pg(this,void 0,void 0,function(){var g,c,C,w,m,_,D;return xg(this,function(N){switch(N.label){case 0:return g=function(A){for(var P=A.getVideoTracks(),k=0,Y=P;k<Y.length;k++){var J=Y[k];J.enabled=!1,J.stop(),A.removeTrack(J)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return c=N.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(C=N.sent(),w=[],m=0,_=C;m<_.length;m++)D=_[m],D.kind==="videoinput"&&w.push({id:D.deviceId,label:D.label});return g(c),[2,w]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(g,c){var C=function(m){for(var _=[],D=0,N=m;D<N.length;D++){var A=N[D];A.kind==="video"&&_.push({id:A.id,label:A.label})}g(_)},w=MediaStreamTrack;w.getSources(C)})},h}(),Gt;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(Gt||(Gt={}));var wg=function(){function h(){this.state=Gt.NOT_STARTED,this.onGoingTransactionNewState=Gt.UNKNOWN}return h.prototype.directTransition=function(g){this.failIfTransitionOngoing(),this.validateTransition(g),this.state=g},h.prototype.startTransition=function(g){return this.failIfTransitionOngoing(),this.validateTransition(g),this.onGoingTransactionNewState=g,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===Gt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var g=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Gt.UNKNOWN,this.directTransition(g)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===Gt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Gt.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Gt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(g){switch(this.state){case Gt.UNKNOWN:throw"Transition from unknown is not allowed";case Gt.NOT_STARTED:this.failIfNewStateIs(g,[Gt.PAUSED]);break;case Gt.SCANNING:break;case Gt.PAUSED:break}},h.prototype.failIfNewStateIs=function(g,c){for(var C=0,w=c;C<w.length;C++){var m=w[C];if(g===m)throw"Cannot transition from ".concat(this.state," to ").concat(g)}},h}(),yg=function(){function h(g){this.stateManager=g}return h.prototype.startTransition=function(g){return this.stateManager.startTransition(g)},h.prototype.directTransition=function(g){this.stateManager.directTransition(g)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===Gt.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==Gt.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Gt.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===Gt.PAUSED},h}(),Eg=function(){function h(){}return h.create=function(){return new yg(new wg)},h}(),Cg=function(){var h=function(g,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var m in w)Object.prototype.hasOwnProperty.call(w,m)&&(C[m]=w[m])},h(g,c)};return function(g,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");h(g,c);function C(){this.constructor=g}g.prototype=c===null?Object.create(c):(C.prototype=c.prototype,new C)}}(),$n=function(h){Cg(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.DEFAULT_WIDTH=300,g.DEFAULT_WIDTH_OFFSET=2,g.FILE_SCAN_MIN_HEIGHT=300,g.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,g.MIN_QR_BOX_SIZE=50,g.SHADED_LEFT=1,g.SHADED_RIGHT=2,g.SHADED_TOP=3,g.SHADED_BOTTOM=4,g.SHADED_REGION_ELEMENT_ID="qr-shaded-region",g.VERBOSE=!1,g.BORDER_SHADER_DEFAULT_COLOR="#ffffff",g.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",g}(Jh),Ag=function(){function h(g,c){this.logger=c,this.fps=$n.SCAN_DEFAULT_FPS,g?(g.fps&&(this.fps=g.fps),this.disableFlip=g.disableFlip===!0,this.qrbox=g.qrbox,this.aspectRatio=g.aspectRatio,this.videoConstraints=g.videoConstraints):this.disableFlip=$n.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?gf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!Zr(this.qrbox)},h.create=function(g,c){return new h(g,c)},h}(),vg=function(){function h(g,c){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.elementId=g,this.verbose=!1;var C;typeof c=="boolean"?this.verbose=c===!0:c&&(C=c,this.verbose=C.verbose===!0,C.experimentalFeatures),this.logger=new eg(this.verbose),this.qrcode=new ag(this.getSupportedFormats(c),this.getUseBarCodeDetectorIfSupported(C),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Eg.create()}return h.prototype.start=function(g,c,C,w){var m=this;if(!g)throw"cameraIdOrConfig is required";if(!C||typeof C!="function")throw"qrCodeSuccessCallback is required and should be a function.";var _;w?_=w:_=this.verbose?this.logger.log:function(){};var D=Ag.create(c,this.logger);this.clearElement();var N=!1;D.videoConstraints&&(D.isMediaStreamConstraintsValid()?N=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var A=N,P=document.getElementById(this.elementId);P.clientWidth?P.clientWidth:$n.DEFAULT_WIDTH,P.style.position="relative",this.shouldScan=!0,this.element=P;var k=this,Y=this.stateManagerProxy.startTransition(Gt.SCANNING);return new Promise(function(J,ne){var j=A?D.videoConstraints:k.createVideoConstraints(g);if(!j){Y.cancel(),ne("videoConstraints should be defined");return}var ae={};(!A||D.aspectRatio)&&(ae.aspectRatio=D.aspectRatio);var te={onRenderSurfaceReady:function(oe,le){k.setupUi(oe,le,D),k.isScanning=!0,k.foreverScan(D,C,_)}};gg.failIfNotSupported().then(function(oe){oe.create(j).then(function(le){return le.render(m.element,ae,te).then(function(xe){k.renderedCamera=xe,Y.execute(),J(null)}).catch(function(xe){Y.cancel(),ne(xe)})}).catch(function(le){Y.cancel(),ne(Lo.errorGettingUserMedia(le))})}).catch(function(oe){Y.cancel(),ne(Lo.cameraStreamingNotSupported())})})},h.prototype.pause=function(g){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Gt.PAUSED),this.showPausedState(),(Zr(g)||g!==!0)&&(g=!1),g&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var g=this,c=function(){g.stateManagerProxy.directTransition(Gt.SCANNING),g.hidePausedState()};if(!this.renderedCamera.isPaused()){c();return}this.renderedCamera.resume(function(){c()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var g=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var c=this.stateManagerProxy.startTransition(Gt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var C=function(){if(g.element){var m=document.getElementById($n.SHADED_REGION_ELEMENT_ID);m&&g.element.removeChild(m)}},w=this;return this.renderedCamera.close().then(function(){return w.renderedCamera=null,w.element&&(w.element.removeChild(w.canvasElement),w.canvasElement=null),C(),w.qrRegion&&(w.qrRegion=null),w.context&&(w.context=null),c.execute(),w.hidePausedState(),w.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(g,c){return this.scanFileV2(g,c).then(function(C){return C.decodedText})},h.prototype.scanFileV2=function(g,c){var C=this;if(!g||!(g instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Zr(c)&&(c=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(w,m){C.possiblyCloseLastScanImageFile(),C.clearElement(),C.lastScanImageFile=URL.createObjectURL(g);var _=new Image;_.onload=function(){var D=_.width,N=_.height,A=document.getElementById(C.elementId),P=A.clientWidth?A.clientWidth:$n.DEFAULT_WIDTH,k=Math.max(A.clientHeight?A.clientHeight:N,$n.FILE_SCAN_MIN_HEIGHT),Y=C.computeCanvasDrawConfig(D,N,P,k);if(c){var J=C.createCanvasElement(P,k,"qr-canvas-visible");J.style.display="inline-block",A.appendChild(J);var ne=J.getContext("2d");if(!ne)throw"Unable to get 2d context from canvas";ne.canvas.width=P,ne.canvas.height=k,ne.drawImage(_,0,0,D,N,Y.x,Y.y,Y.width,Y.height)}var j=$n.FILE_SCAN_HIDDEN_CANVAS_PADDING,ae=Math.max(_.width,Y.width),te=Math.max(_.height,Y.height),oe=ae+2*j,le=te+2*j,xe=C.createCanvasElement(oe,le);A.appendChild(xe);var Re=xe.getContext("2d");if(!Re)throw"Unable to get 2d context from canvas";Re.canvas.width=oe,Re.canvas.height=le,Re.drawImage(_,0,0,D,N,j,j,ae,te);try{C.qrcode.decodeRobustlyAsync(xe).then(function(Me){w(m0.createFromQrcodeResult(Me))}).catch(m)}catch(Me){m("QR code parse error, error = ".concat(Me))}},_.onerror=m,_.onabort=m,_.onstalled=m,_.onsuspend=m,_.src=URL.createObjectURL(g)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return mg.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(g){if(g){if(!gf.isMediaStreamConstraintsValid(g,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(g)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(g){var c=[Oe.QR_CODE,Oe.AZTEC,Oe.CODABAR,Oe.CODE_39,Oe.CODE_93,Oe.CODE_128,Oe.DATA_MATRIX,Oe.MAXICODE,Oe.ITF,Oe.EAN_13,Oe.EAN_8,Oe.PDF_417,Oe.RSS_14,Oe.RSS_EXPANDED,Oe.UPC_A,Oe.UPC_E,Oe.UPC_EAN_EXTENSION];if(!g||typeof g=="boolean"||!g.formatsToSupport)return c;if(!Array.isArray(g.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(g.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var C=[],w=0,m=g.formatsToSupport;w<m.length;w++){var _=m[w];Qh(_)?C.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(C.length===0)throw"None of formatsToSupport match supported values.";return C},h.prototype.getUseBarCodeDetectorIfSupported=function(g){if(Zr(g))return!0;if(!Zr(g.useBarCodeDetectorIfSupported))return g.useBarCodeDetectorIfSupported!==!1;if(Zr(g.experimentalFeatures))return!0;var c=g.experimentalFeatures;return Zr(c.useBarCodeDetectorIfSupported)?!0:c.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(g,c,C){var w=this,m=C.qrbox;this.validateQrboxConfig(m);var _=this.toQrdimensions(g,c,m),D=function(A){if(A<$n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($n.MIN_QR_BOX_SIZE,"px.")},N=function(A){return A>g&&(w.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),A=g),A};D(_.width),D(_.height),_.width=N(_.width)},h.prototype.validateQrboxConfig=function(g){if(typeof g!="number"&&typeof g!="function"&&(g.width===void 0||g.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(g,c,C){if(typeof C=="number")return{width:C,height:C};if(typeof C=="function")try{return C(g,c)}catch(w){throw new Error("qrbox config was passed as a function but it failed with unknown error"+w)}return C},h.prototype.setupUi=function(g,c,C){C.isShadedBoxEnabled()&&this.validateQrboxSize(g,c,C);var w=Zr(C.qrbox)?{width:g,height:c}:C.qrbox;this.validateQrboxConfig(w);var m=this.toQrdimensions(g,c,w);m.height>c&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=C.isShadedBoxEnabled()&&m.height<=c,D={x:0,y:0,width:g,height:c},N=_?this.getShadedRegionBounds(g,c,m):D,A=this.createCanvasElement(N.width,N.height),P={willReadFrequently:!0},k=A.getContext("2d",P);k.canvas.width=N.width,k.canvas.height=N.height,this.element.append(A),_&&this.possiblyInsertShadingElement(this.element,g,c,m),this.createScannerPausedUiElement(this.element),this.qrRegion=N,this.context=k,this.canvasElement=A},h.prototype.createScannerPausedUiElement=function(g){var c=document.createElement("div");c.innerText=Lo.scannerPaused(),c.style.display="none",c.style.position="absolute",c.style.top="0px",c.style.zIndex="1",c.style.background="rgba(9, 9, 9, 0.46)",c.style.color="#FFECEC",c.style.textAlign="center",c.style.width="100%",g.appendChild(c),this.scannerPausedUiElement=c},h.prototype.scanContext=function(g,c){var C=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(w){return g(w.text,m0.createFromQrcodeResult(w)),C.possiblyUpdateShaders(!0),!0}).catch(function(w){C.possiblyUpdateShaders(!1);var m=Lo.codeParseError(w);return c(m,$h.createFrom(m)),!1})},h.prototype.foreverScan=function(g,c,C){var w=this;if(this.shouldScan&&this.renderedCamera){var m=this.renderedCamera.getSurface(),_=m.videoWidth/m.clientWidth,D=m.videoHeight/m.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var N=this.qrRegion.width*_,A=this.qrRegion.height*D,P=this.qrRegion.x*_,k=this.qrRegion.y*D;this.context.drawImage(m,P,k,N,A,0,0,this.qrRegion.width,this.qrRegion.height);var Y=function(){w.foreverScanTimeout=setTimeout(function(){w.foreverScan(g,c,C)},w.getTimeoutFps(g.fps))};this.scanContext(c,C).then(function(J){!J&&g.disableFlip!==!0?(w.context.translate(w.context.canvas.width,0),w.context.scale(-1,1),w.scanContext(c,C).finally(function(){Y()})):Y()}).catch(function(J){w.logger.logError("Error happend while scanning context",J),Y()})}},h.prototype.createVideoConstraints=function(g){if(typeof g=="string")return{deviceId:{exact:g}};if(typeof g=="object"){var c="facingMode",C="deviceId",w={},m="exact",_=function(ne){if(ne in w)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ne,"'")},D=Object.keys(g);if(D.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(D.length," keys");var N=Object.keys(g)[0];if(N!==c&&N!==C)throw"Only '".concat(c,"' and '").concat(C,"' ")+" are supported for 'cameraIdOrConfig'";if(N===c){var A=g.facingMode;if(typeof A=="string"){if(_(A))return{facingMode:A}}else if(typeof A=="object")if(m in A){if(_(A["".concat(m)]))return{facingMode:{exact:A["".concat(m)]}}}else throw"'facingMode' should be string or object with"+" ".concat(m," as key.");else{var P=typeof A;throw"Invalid type of 'facingMode' = ".concat(P)}}else{var k=g.deviceId;if(typeof k=="string")return{deviceId:k};if(typeof k=="object"){if(m in k)return{deviceId:{exact:k["".concat(m)]}};throw"'deviceId' should be string or object with"+" ".concat(m," as key.")}else{var Y=typeof k;throw"Invalid type of 'deviceId' = ".concat(Y)}}}var J=typeof g;throw"Invalid type of 'cameraIdOrConfig' = ".concat(J)},h.prototype.computeCanvasDrawConfig=function(g,c,C,w){if(g<=C&&c<=w){var m=(C-g)/2,_=(w-c)/2;return{x:m,y:_,width:g,height:c}}else{var D=g,N=c;return g>C&&(c=C/g*c,g=C),c>w&&(g=w/c*g,c=w),this.logger.log("Image downsampled from "+"".concat(D,"X").concat(N)+" to ".concat(g,"X").concat(c,".")),this.computeCanvasDrawConfig(g,c,C,w)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var g=document.getElementById(this.elementId);g&&(g.innerHTML="")},h.prototype.possiblyUpdateShaders=function(g){this.qrMatch!==g&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(c){c.style.backgroundColor=g?$n.BORDER_SHADER_MATCH_COLOR:$n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=g)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(g,c,C){var w=g,m=c,_=document.createElement("canvas");return _.style.width="".concat(w,"px"),_.style.height="".concat(m,"px"),_.style.display="none",_.id=Zr(C)?"qr-canvas":C,_},h.prototype.getShadedRegionBounds=function(g,c,C){if(C.width>g||C.height>c)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(g-C.width)/2,y:(c-C.height)/2,width:C.width,height:C.height}},h.prototype.possiblyInsertShadingElement=function(g,c,C,w){if(!(c-w.width<1||C-w.height<1)){var m=document.createElement("div");m.style.position="absolute";var _=(c-w.width)/2,D=(C-w.height)/2;if(m.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderTop="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderBottom="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),m.style.boxSizing="border-box",m.style.top="0px",m.style.bottom="0px",m.style.left="0px",m.style.right="0px",m.id="".concat($n.SHADED_REGION_ELEMENT_ID),c-w.width<11||C-w.height<11)this.hasBorderShaders=!1;else{var N=5,A=40;this.insertShaderBorders(m,A,N,-N,null,0,!0),this.insertShaderBorders(m,A,N,-N,null,0,!1),this.insertShaderBorders(m,A,N,null,-N,0,!0),this.insertShaderBorders(m,A,N,null,-N,0,!1),this.insertShaderBorders(m,N,A+N,-N,null,-N,!0),this.insertShaderBorders(m,N,A+N,null,-N,-N,!0),this.insertShaderBorders(m,N,A+N,-N,null,-N,!1),this.insertShaderBorders(m,N,A+N,null,-N,-N,!1),this.hasBorderShaders=!0}g.append(m)}},h.prototype.insertShaderBorders=function(g,c,C,w,m,_,D){var N=document.createElement("div");N.style.position="absolute",N.style.backgroundColor=$n.BORDER_SHADER_DEFAULT_COLOR,N.style.width="".concat(c,"px"),N.style.height="".concat(C,"px"),w!==null&&(N.style.top="".concat(w,"px")),m!==null&&(N.style.bottom="".concat(m,"px")),D?N.style.left="".concat(_,"px"):N.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(N),g.appendChild(N)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(g){return 1e3/g},h}(),I0;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(I0||(I0={}));const Sg=({onDetected:h})=>{const g=ie.useRef(null),c="qr-reader";ie.useEffect(()=>(g.current=new vg(c),g.current.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:150}},w=>{h(w),C()},w=>{}).catch(w=>{console.error("Scan-Fehler:",w)}),()=>{C()}),[]);const C=()=>{g.current?.stop().then(()=>{g.current?.clear()})};return st.jsx("div",{id:c,className:"w-full max-w-sm mx-auto mt-4"})};var _u={exports:{}},T0;function Ig(){return T0||(T0=1,function(h){var g=function(c){var C=Object.prototype,w=C.hasOwnProperty,m=Object.defineProperty||function(Z,H,b){Z[H]=b.value},_,D=typeof Symbol=="function"?Symbol:{},N=D.iterator||"@@iterator",A=D.asyncIterator||"@@asyncIterator",P=D.toStringTag||"@@toStringTag";function k(Z,H,b){return Object.defineProperty(Z,H,{value:b,enumerable:!0,configurable:!0,writable:!0}),Z[H]}try{k({},"")}catch{k=function(H,b,G){return H[b]=G}}function Y(Z,H,b,G){var he=H&&H.prototype instanceof le?H:le,ye=Object.create(he.prototype),Ue=new $e(G||[]);return m(ye,"_invoke",{value:Pe(Z,b,Ue)}),ye}c.wrap=Y;function J(Z,H,b){try{return{type:"normal",arg:Z.call(H,b)}}catch(G){return{type:"throw",arg:G}}}var ne="suspendedStart",j="suspendedYield",ae="executing",te="completed",oe={};function le(){}function xe(){}function Re(){}var Me={};k(Me,N,function(){return this});var se=Object.getPrototypeOf,_e=se&&se(se(Te([])));_e&&_e!==C&&w.call(_e,N)&&(Me=_e);var re=Re.prototype=le.prototype=Object.create(Me);xe.prototype=Re,m(re,"constructor",{value:Re,configurable:!0}),m(Re,"constructor",{value:xe,configurable:!0}),xe.displayName=k(Re,P,"GeneratorFunction");function yt(Z){["next","throw","return"].forEach(function(H){k(Z,H,function(b){return this._invoke(H,b)})})}c.isGeneratorFunction=function(Z){var H=typeof Z=="function"&&Z.constructor;return H?H===xe||(H.displayName||H.name)==="GeneratorFunction":!1},c.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,Re):(Z.__proto__=Re,k(Z,P,"GeneratorFunction")),Z.prototype=Object.create(re),Z},c.awrap=function(Z){return{__await:Z}};function qe(Z,H){function b(ye,Ue,ee,ve){var Ae=J(Z[ye],Z,Ue);if(Ae.type==="throw")ve(Ae.arg);else{var je=Ae.arg,rt=je.value;return rt&&typeof rt=="object"&&w.call(rt,"__await")?H.resolve(rt.__await).then(function(gt){b("next",gt,ee,ve)},function(gt){b("throw",gt,ee,ve)}):H.resolve(rt).then(function(gt){je.value=gt,ee(je)},function(gt){return b("throw",gt,ee,ve)})}}var G;function he(ye,Ue){function ee(){return new H(function(ve,Ae){b(ye,Ue,ve,Ae)})}return G=G?G.then(ee,ee):ee()}m(this,"_invoke",{value:he})}yt(qe.prototype),k(qe.prototype,A,function(){return this}),c.AsyncIterator=qe,c.async=function(Z,H,b,G,he){he===void 0&&(he=Promise);var ye=new qe(Y(Z,H,b,G),he);return c.isGeneratorFunction(H)?ye:ye.next().then(function(Ue){return Ue.done?Ue.value:ye.next()})};function Pe(Z,H,b){var G=ne;return function(ye,Ue){if(G===ae)throw new Error("Generator is already running");if(G===te){if(ye==="throw")throw Ue;return Ee()}for(b.method=ye,b.arg=Ue;;){var ee=b.delegate;if(ee){var ve=Ge(ee,b);if(ve){if(ve===oe)continue;return ve}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(G===ne)throw G=te,b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);G=ae;var Ae=J(Z,H,b);if(Ae.type==="normal"){if(G=b.done?te:j,Ae.arg===oe)continue;return{value:Ae.arg,done:b.done}}else Ae.type==="throw"&&(G=te,b.method="throw",b.arg=Ae.arg)}}}function Ge(Z,H){var b=H.method,G=Z.iterator[b];if(G===_)return H.delegate=null,b==="throw"&&Z.iterator.return&&(H.method="return",H.arg=_,Ge(Z,H),H.method==="throw")||b!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+b+"' method")),oe;var he=J(G,Z.iterator,H.arg);if(he.type==="throw")return H.method="throw",H.arg=he.arg,H.delegate=null,oe;var ye=he.arg;if(!ye)return H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,oe;if(ye.done)H[Z.resultName]=ye.value,H.next=Z.nextLoc,H.method!=="return"&&(H.method="next",H.arg=_);else return ye;return H.delegate=null,oe}yt(re),k(re,P,"Generator"),k(re,N,function(){return this}),k(re,"toString",function(){return"[object Generator]"});function ct(Z){var H={tryLoc:Z[0]};1 in Z&&(H.catchLoc=Z[1]),2 in Z&&(H.finallyLoc=Z[2],H.afterLoc=Z[3]),this.tryEntries.push(H)}function $(Z){var H=Z.completion||{};H.type="normal",delete H.arg,Z.completion=H}function $e(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(ct,this),this.reset(!0)}c.keys=function(Z){var H=Object(Z),b=[];for(var G in H)b.push(G);return b.reverse(),function he(){for(;b.length;){var ye=b.pop();if(ye in H)return he.value=ye,he.done=!1,he}return he.done=!0,he}};function Te(Z){if(Z){var H=Z[N];if(H)return H.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length)){var b=-1,G=function he(){for(;++b<Z.length;)if(w.call(Z,b))return he.value=Z[b],he.done=!1,he;return he.value=_,he.done=!0,he};return G.next=G}}return{next:Ee}}c.values=Te;function Ee(){return{value:_,done:!0}}return $e.prototype={constructor:$e,reset:function(Z){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach($),!Z)for(var H in this)H.charAt(0)==="t"&&w.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=_)},stop:function(){this.done=!0;var Z=this.tryEntries[0],H=Z.completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(Z){if(this.done)throw Z;var H=this;function b(ve,Ae){return ye.type="throw",ye.arg=Z,H.next=ve,Ae&&(H.method="next",H.arg=_),!!Ae}for(var G=this.tryEntries.length-1;G>=0;--G){var he=this.tryEntries[G],ye=he.completion;if(he.tryLoc==="root")return b("end");if(he.tryLoc<=this.prev){var Ue=w.call(he,"catchLoc"),ee=w.call(he,"finallyLoc");if(Ue&&ee){if(this.prev<he.catchLoc)return b(he.catchLoc,!0);if(this.prev<he.finallyLoc)return b(he.finallyLoc)}else if(Ue){if(this.prev<he.catchLoc)return b(he.catchLoc,!0)}else if(ee){if(this.prev<he.finallyLoc)return b(he.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Z,H){for(var b=this.tryEntries.length-1;b>=0;--b){var G=this.tryEntries[b];if(G.tryLoc<=this.prev&&w.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var he=G;break}}he&&(Z==="break"||Z==="continue")&&he.tryLoc<=H&&H<=he.finallyLoc&&(he=null);var ye=he?he.completion:{};return ye.type=Z,ye.arg=H,he?(this.method="next",this.next=he.finallyLoc,oe):this.complete(ye)},complete:function(Z,H){if(Z.type==="throw")throw Z.arg;return Z.type==="break"||Z.type==="continue"?this.next=Z.arg:Z.type==="return"?(this.rval=this.arg=Z.arg,this.method="return",this.next="end"):Z.type==="normal"&&H&&(this.next=H),oe},finish:function(Z){for(var H=this.tryEntries.length-1;H>=0;--H){var b=this.tryEntries[H];if(b.finallyLoc===Z)return this.complete(b.completion,b.afterLoc),$(b),oe}},catch:function(Z){for(var H=this.tryEntries.length-1;H>=0;--H){var b=this.tryEntries[H];if(b.tryLoc===Z){var G=b.completion;if(G.type==="throw"){var he=G.arg;$(b)}return he}}throw new Error("illegal catch attempt")},delegateYield:function(Z,H,b){return this.delegate={iterator:Te(Z),resultName:H,nextLoc:b},this.method==="next"&&(this.arg=_),oe}},c}(h.exports);try{regeneratorRuntime=g}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}}(_u)),_u.exports}var Nu,_0;function oc(){return _0||(_0=1,Nu=(h,g)=>`${h}-${g}-${Math.random().toString(16).slice(3,8)}`),Nu}var Ru,N0;function xf(){if(N0)return Ru;N0=1;const h=oc();let g=0;return Ru=({id:c,action:C,payload:w={}})=>{let m=c;return typeof m>"u"&&(m=h("Job",g),g+=1),{id:m,action:C,payload:w}},Ru}var _s={},R0;function sc(){if(R0)return _s;R0=1;let h=!1;return _s.logging=h,_s.setLogging=g=>{h=g},_s.log=(...g)=>h?console.log.apply(this,g):null,_s}var Ou,O0;function Tg(){if(O0)return Ou;O0=1;const h=xf(),{log:g}=sc(),c=oc();let C=0;return Ou=()=>{const w=c("Scheduler",C),m={},_={};let D=[];C+=1;const N=()=>D.length,A=()=>Object.keys(m).length,P=()=>{if(D.length!==0){const j=Object.keys(m);for(let ae=0;ae<j.length;ae+=1)if(typeof _[j[ae]]>"u"){D[0](m[j[ae]]);break}}},k=(j,ae)=>new Promise((te,oe)=>{const le=h({action:j,payload:ae});D.push(async xe=>{D.shift(),_[xe.id]=le;try{te(await xe[j].apply(this,[...ae,le.id]))}catch(Re){oe(Re)}finally{delete _[xe.id],P()}}),g(`[${w}]: Add ${le.id} to JobQueue`),g(`[${w}]: JobQueue length=${D.length}`),P()});return{addWorker:j=>(m[j.id]=j,g(`[${w}]: Add ${j.id}`),g(`[${w}]: Number of workers=${A()}`),P(),j.id),addJob:async(j,...ae)=>{if(A()===0)throw Error(`[${w}]: You need to have at least one worker before adding jobs`);return k(j,ae)},terminate:async()=>{Object.keys(m).forEach(async j=>{await m[j].terminate()}),D=[]},getQueueLen:N,getNumWorkers:A}},Ou}function _g(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Du,D0;function Ng(){if(D0)return Du;D0=1;function h(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}return Du=h,Du}var bu,b0;function Rg(){if(b0)return bu;b0=1;const h=Ng();return bu=g=>{const c={};return typeof WorkerGlobalScope<"u"?c.type="webworker":h()?c.type="electron":typeof document=="object"?c.type="browser":typeof process=="object"&&typeof _g=="function"&&(c.type="node"),typeof g>"u"?c:c[g]},bu}var Mu,M0;function Og(){if(M0)return Mu;M0=1;const g=Rg()("type")==="browser"?c=>new URL(c,window.location.href).href:c=>c;return Mu=c=>{const C={...c};return["corePath","workerPath","langPath"].forEach(w=>{c[w]&&(C[w]=g(C[w]))}),C},Mu}var ku,k0;function Dg(){return k0||(k0=1,ku=h=>{const g=[],c=[],C=[],w=[],m=[];return h.blocks&&h.blocks.forEach(_=>{_.paragraphs.forEach(D=>{D.lines.forEach(N=>{N.words.forEach(A=>{A.symbols.forEach(P=>{m.push({...P,page:h,block:_,paragraph:D,line:N,word:A})}),w.push({...A,page:h,block:_,paragraph:D,line:N})}),C.push({...N,page:h,block:_,paragraph:D})}),c.push({...D,page:h,block:_})}),g.push({..._,page:h})}),{...h,blocks:g,paragraphs:c,lines:C,words:w,symbols:m}}),ku}var Pu,P0;function mf(){return P0||(P0=1,Pu={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Pu}var Lu,L0;function bg(){return L0||(L0=1,Lu={defaultOEM:mf().DEFAULT}),Lu}const Mg="4.1.4",kg={version:Mg};var Bu,B0;function Pg(){return B0||(B0=1,Bu={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}),Bu}var Fu,F0;function Lg(){if(F0)return Fu;F0=1;var h={};const g=w=>new URL(w,window.location.href).href,{version:c}=kg;return Fu={...Pg(),workerPath:typeof process<"u"&&h.TESS_ENV==="development"?g(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://cdn.jsdelivr.net/npm/tesseract.js@v${c}/dist/worker.min.js`,corePath:null},Fu}var Uu,U0;function Bg(){return U0||(U0=1,Uu=({workerPath:h,workerBlobURL:g})=>{let c;if(Blob&&URL&&g){const C=new Blob([`importScripts("${h}");`],{type:"application/javascript"});c=new Worker(URL.createObjectURL(C))}else c=new Worker(h);return c}),Uu}var Vu,V0;function Fg(){return V0||(V0=1,Vu=h=>{h.terminate()}),Vu}var Hu,H0;function Ug(){return H0||(H0=1,Hu=(h,g)=>{h.onmessage=({data:c})=>{g(c)}}),Hu}var zu,z0;function Vg(){return z0||(z0=1,zu=async(h,g)=>{h.postMessage(g)}),zu}var Wu,W0;function Hg(){if(W0)return Wu;W0=1;const h=c=>new Promise((C,w)=>{const m=new FileReader;m.onload=()=>{C(m.result)},m.onerror=({target:{error:{code:_}}})=>{w(Error(`File could not be read! Code=${_}`))},m.readAsArrayBuffer(c)}),g=async c=>{let C=c;if(typeof c>"u")return"undefined";if(typeof c=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(c)?C=atob(c.split(",")[1]).split("").map(w=>w.charCodeAt(0)):C=await(await fetch(c)).arrayBuffer();else if(typeof HTMLElement<"u"&&c instanceof HTMLElement)c.tagName==="IMG"&&(C=await g(c.src)),c.tagName==="VIDEO"&&(C=await g(c.poster)),c.tagName==="CANVAS"&&await new Promise(w=>{c.toBlob(async m=>{C=await h(m),w()})});else if(typeof OffscreenCanvas<"u"&&c instanceof OffscreenCanvas){const w=await c.convertToBlob();C=await h(w)}else(c instanceof File||c instanceof Blob)&&(C=await h(c));return new Uint8Array(C)};return Wu=g,Wu}var Gu,G0;function zg(){if(G0)return Gu;G0=1;const h=Lg(),g=Bg(),c=Fg(),C=Ug(),w=Vg(),m=Hg();return Gu={defaultOptions:h,spawnWorker:g,terminateWorker:c,onMessage:C,send:w,loadImage:m},Gu}var Xu,X0;function wf(){if(X0)return Xu;X0=1;const h=Og(),g=Dg(),c=xf(),{log:C}=sc(),w=oc(),{defaultOEM:m}=bg(),{defaultOptions:_,spawnWorker:D,terminateWorker:N,onMessage:A,loadImage:P,send:k}=zg();let Y=0;return Xu=async(J={})=>{const ne=w("Worker",Y),{logger:j,errorHandler:ae,...te}=h({..._,...J}),oe={},le={};let xe,Re;const Me=new Promise((ee,ve)=>{Re=ee,xe=ve}),se=ee=>{xe(ee.message)};let _e=D(te);_e.onerror=se,Y+=1;const re=(ee,ve)=>{oe[ee]=ve},yt=(ee,ve)=>{le[ee]=ve},qe=({id:ee,action:ve,payload:Ae})=>new Promise((je,rt)=>{C(`[${ne}]: Start ${ee}, action=${ve}`),re(ve,je),yt(ve,rt),k(_e,{workerId:ne,jobId:ee,action:ve,payload:Ae})}),Pe=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Ge=ee=>qe(c({id:ee,action:"load",payload:{options:te}})),ct=(ee,ve,Ae)=>qe(c({id:Ae,action:"FS",payload:{method:"writeFile",args:[ee,ve]}})),$=(ee,ve)=>qe(c({id:ve,action:"FS",payload:{method:"readFile",args:[ee,{encoding:"utf8"}]}})),$e=(ee,ve)=>qe(c({id:ve,action:"FS",payload:{method:"unlink",args:[ee]}})),Te=(ee,ve,Ae)=>qe(c({id:Ae,action:"FS",payload:{method:ee,args:ve}})),Ee=(ee="eng",ve)=>qe(c({id:ve,action:"loadLanguage",payload:{langs:ee,options:te}})),Z=(ee="eng",ve=m,Ae,je)=>qe(c({id:je,action:"initialize",payload:{langs:ee,oem:ve,config:Ae}})),H=(ee={},ve)=>qe(c({id:ve,action:"setParameters",payload:{params:ee}})),b=async(ee,ve={},Ae={blocks:!0,text:!0,hocr:!0,tsv:!0},je)=>qe(c({id:je,action:"recognize",payload:{image:await P(ee),options:ve,output:Ae}})),G=(ee="Tesseract OCR Result",ve=!1,Ae)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),qe(c({id:Ae,action:"getPDF",payload:{title:ee,textonly:ve}}))),he=async(ee,ve)=>qe(c({id:ve,action:"detect",payload:{image:await P(ee)}})),ye=async()=>(_e!==null&&(N(_e),_e=null),Promise.resolve());A(_e,({workerId:ee,jobId:ve,status:Ae,action:je,data:rt})=>{if(Ae==="resolve"){C(`[${ee}]: Complete ${ve}`);let gt=rt;je==="recognize"?gt=g(rt):je==="getPDF"&&(gt=Array.from({...rt,length:Object.keys(rt).length})),oe[je]({jobId:ve,data:gt})}else if(Ae==="reject")if(le[je](rt),je==="load"&&xe(rt),ae)ae(rt);else throw Error(rt);else Ae==="progress"&&j({...rt,userJobId:ve})});const Ue={id:ne,worker:_e,setResolve:re,setReject:yt,load:Pe,writeText:ct,readText:$,removeFile:$e,FS:Te,loadLanguage:Ee,initialize:Z,setParameters:H,recognize:b,getPDF:G,detect:he,terminate:ye};return Ge().then(()=>Re(Ue)).catch(()=>{}),Me},Xu}var ju,j0;function Wg(){if(j0)return ju;j0=1;const h=wf();return ju={recognize:async(C,w,m)=>{const _=await h(m);return await _.loadLanguage(w),await _.initialize(w),_.recognize(C).finally(async()=>{await _.terminate()})},detect:async(C,w)=>{const m=await h(w);return await m.loadLanguage("osd"),await m.initialize("osd"),m.detect(C).finally(async()=>{await m.terminate()})}},ju}var Yu,Y0;function Gg(){return Y0||(Y0=1,Yu={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Yu}var Ku,K0;function Xg(){return K0||(K0=1,Ku={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Ku}var Zu,Z0;function jg(){if(Z0)return Zu;Z0=1,Ig();const h=Tg(),g=wf(),c=Wg(),C=Gg(),w=mf(),m=Xg(),{setLogging:_}=sc();return Zu={languages:C,OEM:w,PSM:m,createScheduler:h,createWorker:g,setLogging:_,...c},Zu}var Yg=jg();const Kg=Za(Yg),Zg=async h=>{const{data:{text:g}}=await Kg.recognize(h,"deu",{logger:c=>console.log(c)});return g},qr=new Uint32Array(65536),qg=(h,g)=>{const c=h.length,C=g.length,w=1<<c-1;let m=-1,_=0,D=c,N=c;for(;N--;)qr[h.charCodeAt(N)]|=1<<N;for(N=0;N<C;N++){let A=qr[g.charCodeAt(N)];const P=A|_;A|=(A&m)+m^m,_|=~(A|m),m&=A,_&w&&D++,m&w&&D--,_=_<<1|1,m=m<<1|~(P|_),_&=P}for(N=c;N--;)qr[h.charCodeAt(N)]=0;return D},Qg=(h,g)=>{const c=g.length,C=h.length,w=[],m=[],_=Math.ceil(c/32),D=Math.ceil(C/32);for(let ne=0;ne<_;ne++)m[ne]=-1,w[ne]=0;let N=0;for(;N<D-1;N++){let ne=0,j=-1;const ae=N*32,te=Math.min(32,C)+ae;for(let oe=ae;oe<te;oe++)qr[h.charCodeAt(oe)]|=1<<oe;for(let oe=0;oe<c;oe++){const le=qr[g.charCodeAt(oe)],xe=m[oe/32|0]>>>oe&1,Re=w[oe/32|0]>>>oe&1,Me=le|ne,se=((le|Re)&j)+j^j|le|Re;let _e=ne|~(se|j),re=j&se;_e>>>31^xe&&(m[oe/32|0]^=1<<oe),re>>>31^Re&&(w[oe/32|0]^=1<<oe),_e=_e<<1|xe,re=re<<1|Re,j=re|~(Me|_e),ne=_e&Me}for(let oe=ae;oe<te;oe++)qr[h.charCodeAt(oe)]=0}let A=0,P=-1;const k=N*32,Y=Math.min(32,C-k)+k;for(let ne=k;ne<Y;ne++)qr[h.charCodeAt(ne)]|=1<<ne;let J=C;for(let ne=0;ne<c;ne++){const j=qr[g.charCodeAt(ne)],ae=m[ne/32|0]>>>ne&1,te=w[ne/32|0]>>>ne&1,oe=j|A,le=((j|te)&P)+P^P|j|te;let xe=A|~(le|P),Re=P&le;J+=xe>>>C-1&1,J-=Re>>>C-1&1,xe>>>31^ae&&(m[ne/32|0]^=1<<ne),Re>>>31^te&&(w[ne/32|0]^=1<<ne),xe=xe<<1|ae,Re=Re<<1|te,P=Re|~(oe|xe),A=xe&oe}for(let ne=k;ne<Y;ne++)qr[h.charCodeAt(ne)]=0;return J},Jg=(h,g)=>{if(h.length<g.length){const c=g;g=h,h=c}return g.length===0?h.length:h.length<=32?qg(h,g):Qg(h,g)},$g=1,e2={Gluten:["gluten","weizen","weizenmehl","roggen","gerste","dinkel","hafer","grünkern","kamut","kleie","malz","schrot","bulgur","couscous","polenta","paniermehl"],Krebstiere:["krebs","shrimps","krabben","garnelen","muscheln","langusten","hummer","scampi","crevetten","krill","seespinne"],Eier:[" ei ","mayonnaise","eipulver","eier"],Fisch:["fisch","lachs","thunfisch","hering"],Erdnüsse:["erdnüsse","erdnussöl","erdnussbutter"],Soja:["soja","sojamehl","sojasauce"],Milch:["milch","vollmilch","magermilch","butter","joghurt","kasein","laktose"],Laktose:["laktose","milchzucker"],Schalenfrüchte:["nüsse","nuss","haselnüsse","mandeln","walnüsse","cashew","paranüsse","pistazien","kaschunüsse","nougat","marzipan"],Sellerie:["sellerie","knollensellerie"],Senf:["senf","senfkörner","senfmehl"],Sesam:["sesam","sesamöl","sesamsamen"],Schwefel:["e220","e228"]},t2=h=>{const c=h.toLowerCase().split(/[^a-zäöüß]+/).filter(w=>w.length>3),C=new Set;for(const[w,m]of Object.entries(e2))for(const _ of m)for(const D of c)(D===_||Jg(D,_)<=$g)&&C.add(`${D} (${w})`);return Array.from(C)},n2=h=>new Promise(g=>{const c=new Image;c.onload=()=>{const C=document.createElement("canvas"),w=2;C.width=c.width*w,C.height=c.height*w;const m=C.getContext("2d");m.drawImage(c,0,0,C.width,C.height);const _=m.getImageData(0,0,C.width,C.height),D=_.data;for(let N=0;N<D.length;N+=4){const A=D[N]*.3+D[N+1]*.59+D[N+2]*.11;D[N]=D[N+1]=D[N+2]=A}m.putImageData(_,0,0),C.toBlob(N=>{N&&g(N)},"image/png")},c.src=URL.createObjectURL(h)});function r2(){const[h,g]=ie.useState(""),[c,C]=ie.useState([]),[w,m]=ie.useState(!1),[_,D]=ie.useState(),[N,A]=ie.useState(),[P,k]=ie.useState(null),[Y,J]=ie.useState("barcode"),ne=te=>{D(URL.createObjectURL(te))},j=te=>{fetch(`https://world.openfoodfacts.org/api/v0/product/${te}.json`).then(oe=>oe.json()).then(oe=>{oe.status===1?k(oe.product.ingredients_text||"Keine Zutaten gefunden"):k("Produkt nicht gefunden")}).catch(()=>k("Fehler beim Laden der Produktdaten"))},ae=async te=>{m(!0);const oe=await n2(te);A(oe);const le=await Zg(oe),xe=t2(le);g(le),C(xe),m(!1),D(void 0)};return st.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex flex-col items-center p-6",children:st.jsxs("div",{className:"w-full max-w-xl bg-white rounded-lg shadow-lg p-8",children:[st.jsx("h1",{className:"text-center text-3xl font-extrabold mb-6 text-green-800 border-b-4 border-green-400 pb-2",children:"Allergen Checker"}),st.jsxs("div",{className:"px-6 py-3 text-center",children:[st.jsx("button",{onClick:()=>{J("barcode"),g(""),console.log("barcode mode")},className:`px-6 py-3 rounded-md mr-2 font-semibold transition-colors hover:bg-green-700 duration-200
                        ${Y==="barcode"?"bg-green-600 text-white":"bg-gray-300 text-black"}
                      `,children:"Barcode scannen"}),st.jsx("button",{onClick:()=>J("image"),className:`px-6 py-3 rounded-md mr-2 font-semibold transition-colors hover:bg-green-700 duration-200
                        ${Y==="image"?"bg-green-600 text-white":"bg-gray-300 text-black"}
                      `,children:"Bild hochladen"})]}),Y==="barcode"&&st.jsx(Sg,{onDetected:j}),Y==="image"&&st.jsx(Wh,{onImageSelected:ne}),_&&st.jsx("div",{className:"my-6",children:st.jsx(qh,{imageSrc:_,onCropped:ae})}),w&&st.jsx("p",{className:"text-center text-green-600 font-medium animate-pulse",children:"Texterkennung läuft..."}),!w&&h&&st.jsxs("section",{className:"mt-6 space-y-6",children:[st.jsxs("div",{children:[st.jsx("h2",{className:"text-xl font-semibold text-green-700 mb-2",children:"Erkannter Text:"}),st.jsx("pre",{className:"bg-gray-50 rounded-md p-4 text-sm leading-relaxed whitespace-pre-wrap max-h-48 overflow-auto border border-green-200 shadow-inner",children:h})]}),st.jsxs("div",{children:[st.jsx("h2",{className:"text-xl font-semibold text-green-700 mb-2",children:"Gefundene Allergene:"}),c.length>0?st.jsx("ul",{className:"list-disc list-inside text-red-600 font-semibold space-y-1",children:c.map(te=>st.jsx("li",{children:te},te))}):st.jsx("p",{className:"text-green-600 font-semibold",children:"Keine Allergene gefunden ✅"})]})]}),P&&st.jsxs("div",{children:[st.jsx("h3",{children:"Zutaten:"}),st.jsx("p",{children:P})]})]})})}Ed.createRoot(document.getElementById("root")).render(st.jsx(At.StrictMode,{children:st.jsx(Mh,{basename:"/allergen-camera",children:st.jsx(r2,{})})}));
